(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function qS(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Up={exports:{}},tc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m1;function WS(){if(m1)return tc;m1=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return tc.Fragment=e,tc.jsx=n,tc.jsxs=n,tc}var y1;function GS(){return y1||(y1=1,Up.exports=WS()),Up.exports}var l=GS(),Pp={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x1;function YS(){if(x1)return Oe;x1=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),D=Symbol.iterator;function O(E){return E===null||typeof E!="object"?null:(E=D&&E[D]||E["@@iterator"],typeof E=="function"?E:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,G={};function L(E,R,H){this.props=E,this.context=R,this.refs=G,this.updater=H||W}L.prototype.isReactComponent={},L.prototype.setState=function(E,R){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,R,"setState")},L.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function $(){}$.prototype=L.prototype;function ae(E,R,H){this.props=E,this.context=R,this.refs=G,this.updater=H||W}var se=ae.prototype=new $;se.constructor=ae,te(se,L.prototype),se.isPureReactComponent=!0;var be=Array.isArray;function _e(){}var I={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function A(E,R,H){var N=H.ref;return{$$typeof:i,type:E,key:R,ref:N!==void 0?N:null,props:H}}function z(E,R){return A(E.type,R,E.props)}function k(E){return typeof E=="object"&&E!==null&&E.$$typeof===i}function U(E){var R={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(H){return R[H]})}var w=/\/+/g;function ve(E,R){return typeof E=="object"&&E!==null&&E.key!=null?U(""+E.key):R.toString(36)}function xe(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(_e,_e):(E.status="pending",E.then(function(R){E.status==="pending"&&(E.status="fulfilled",E.value=R)},function(R){E.status==="pending"&&(E.status="rejected",E.reason=R)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function P(E,R,H,N,q){var J=typeof E;(J==="undefined"||J==="boolean")&&(E=null);var pe=!1;if(E===null)pe=!0;else switch(J){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(E.$$typeof){case i:case e:pe=!0;break;case v:return pe=E._init,P(pe(E._payload),R,H,N,q)}}if(pe)return q=q(E),pe=N===""?"."+ve(E,0):N,be(q)?(H="",pe!=null&&(H=pe.replace(w,"$&/")+"/"),P(q,R,H,"",function(zt){return zt})):q!=null&&(k(q)&&(q=z(q,H+(q.key==null||E&&E.key===q.key?"":(""+q.key).replace(w,"$&/")+"/")+pe)),R.push(q)),1;pe=0;var Be=N===""?".":N+":";if(be(E))for(var st=0;st<E.length;st++)N=E[st],J=Be+ve(N,st),pe+=P(N,R,H,J,q);else if(st=O(E),typeof st=="function")for(E=st.call(E),st=0;!(N=E.next()).done;)N=N.value,J=Be+ve(N,st++),pe+=P(N,R,H,J,q);else if(J==="object"){if(typeof E.then=="function")return P(xe(E),R,H,N,q);throw R=String(E),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return pe}function he(E,R,H){if(E==null)return E;var N=[],q=0;return P(E,N,"","",function(J){return R.call(H,J,q++)}),N}function ye(E){if(E._status===-1){var R=E._result;R=R(),R.then(function(H){(E._status===0||E._status===-1)&&(E._status=1,E._result=H)},function(H){(E._status===0||E._status===-1)&&(E._status=2,E._result=H)}),E._status===-1&&(E._status=0,E._result=R)}if(E._status===1)return E._result.default;throw E._result}var re=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},F={map:he,forEach:function(E,R,H){he(E,function(){R.apply(this,arguments)},H)},count:function(E){var R=0;return he(E,function(){R++}),R},toArray:function(E){return he(E,function(R){return R})||[]},only:function(E){if(!k(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return Oe.Activity=S,Oe.Children=F,Oe.Component=L,Oe.Fragment=n,Oe.Profiler=o,Oe.PureComponent=ae,Oe.StrictMode=s,Oe.Suspense=m,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(E){return I.H.useMemoCache(E)}},Oe.cache=function(E){return function(){return E.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(E,R,H){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var N=te({},E.props),q=E.key;if(R!=null)for(J in R.key!==void 0&&(q=""+R.key),R)!C.call(R,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&R.ref===void 0||(N[J]=R[J]);var J=arguments.length-2;if(J===1)N.children=H;else if(1<J){for(var pe=Array(J),Be=0;Be<J;Be++)pe[Be]=arguments[Be+2];N.children=pe}return A(E.type,q,N)},Oe.createContext=function(E){return E={$$typeof:h,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:u,_context:E},E},Oe.createElement=function(E,R,H){var N,q={},J=null;if(R!=null)for(N in R.key!==void 0&&(J=""+R.key),R)C.call(R,N)&&N!=="key"&&N!=="__self"&&N!=="__source"&&(q[N]=R[N]);var pe=arguments.length-2;if(pe===1)q.children=H;else if(1<pe){for(var Be=Array(pe),st=0;st<pe;st++)Be[st]=arguments[st+2];q.children=Be}if(E&&E.defaultProps)for(N in pe=E.defaultProps,pe)q[N]===void 0&&(q[N]=pe[N]);return A(E,J,q)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(E){return{$$typeof:g,render:E}},Oe.isValidElement=k,Oe.lazy=function(E){return{$$typeof:v,_payload:{_status:-1,_result:E},_init:ye}},Oe.memo=function(E,R){return{$$typeof:x,type:E,compare:R===void 0?null:R}},Oe.startTransition=function(E){var R=I.T,H={};I.T=H;try{var N=E(),q=I.S;q!==null&&q(H,N),typeof N=="object"&&N!==null&&typeof N.then=="function"&&N.then(_e,re)}catch(J){re(J)}finally{R!==null&&H.types!==null&&(R.types=H.types),I.T=R}},Oe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Oe.use=function(E){return I.H.use(E)},Oe.useActionState=function(E,R,H){return I.H.useActionState(E,R,H)},Oe.useCallback=function(E,R){return I.H.useCallback(E,R)},Oe.useContext=function(E){return I.H.useContext(E)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(E,R){return I.H.useDeferredValue(E,R)},Oe.useEffect=function(E,R){return I.H.useEffect(E,R)},Oe.useEffectEvent=function(E){return I.H.useEffectEvent(E)},Oe.useId=function(){return I.H.useId()},Oe.useImperativeHandle=function(E,R,H){return I.H.useImperativeHandle(E,R,H)},Oe.useInsertionEffect=function(E,R){return I.H.useInsertionEffect(E,R)},Oe.useLayoutEffect=function(E,R){return I.H.useLayoutEffect(E,R)},Oe.useMemo=function(E,R){return I.H.useMemo(E,R)},Oe.useOptimistic=function(E,R){return I.H.useOptimistic(E,R)},Oe.useReducer=function(E,R,H){return I.H.useReducer(E,R,H)},Oe.useRef=function(E){return I.H.useRef(E)},Oe.useState=function(E){return I.H.useState(E)},Oe.useSyncExternalStore=function(E,R,H){return I.H.useSyncExternalStore(E,R,H)},Oe.useTransition=function(){return I.H.useTransition()},Oe.version="19.2.3",Oe}var v1;function Gg(){return v1||(v1=1,Pp.exports=YS()),Pp.exports}var ie=Gg();const Rr=qS(ie);var Bp={exports:{}},nc={},Hp={exports:{}},qp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b1;function QS(){return b1||(b1=1,(function(i){function e(P,he){var ye=P.length;P.push(he);e:for(;0<ye;){var re=ye-1>>>1,F=P[re];if(0<o(F,he))P[re]=he,P[ye]=F,ye=re;else break e}}function n(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var he=P[0],ye=P.pop();if(ye!==he){P[0]=ye;e:for(var re=0,F=P.length,E=F>>>1;re<E;){var R=2*(re+1)-1,H=P[R],N=R+1,q=P[N];if(0>o(H,ye))N<F&&0>o(q,H)?(P[re]=q,P[N]=ye,re=N):(P[re]=H,P[R]=ye,re=R);else if(N<F&&0>o(q,ye))P[re]=q,P[N]=ye,re=N;else break e}}return he}function o(P,he){var ye=P.sortIndex-he.sortIndex;return ye!==0?ye:P.id-he.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,g=h.now();i.unstable_now=function(){return h.now()-g}}var m=[],x=[],v=1,S=null,D=3,O=!1,W=!1,te=!1,G=!1,L=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function se(P){for(var he=n(x);he!==null;){if(he.callback===null)s(x);else if(he.startTime<=P)s(x),he.sortIndex=he.expirationTime,e(m,he);else break;he=n(x)}}function be(P){if(te=!1,se(P),!W)if(n(m)!==null)W=!0,_e||(_e=!0,U());else{var he=n(x);he!==null&&xe(be,he.startTime-P)}}var _e=!1,I=-1,C=5,A=-1;function z(){return G?!0:!(i.unstable_now()-A<C)}function k(){if(G=!1,_e){var P=i.unstable_now();A=P;var he=!0;try{e:{W=!1,te&&(te=!1,$(I),I=-1),O=!0;var ye=D;try{t:{for(se(P),S=n(m);S!==null&&!(S.expirationTime>P&&z());){var re=S.callback;if(typeof re=="function"){S.callback=null,D=S.priorityLevel;var F=re(S.expirationTime<=P);if(P=i.unstable_now(),typeof F=="function"){S.callback=F,se(P),he=!0;break t}S===n(m)&&s(m),se(P)}else s(m);S=n(m)}if(S!==null)he=!0;else{var E=n(x);E!==null&&xe(be,E.startTime-P),he=!1}}break e}finally{S=null,D=ye,O=!1}he=void 0}}finally{he?U():_e=!1}}}var U;if(typeof ae=="function")U=function(){ae(k)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ve=w.port2;w.port1.onmessage=k,U=function(){ve.postMessage(null)}}else U=function(){L(k,0)};function xe(P,he){I=L(function(){P(i.unstable_now())},he)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(P){P.callback=null},i.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<P?Math.floor(1e3/P):5},i.unstable_getCurrentPriorityLevel=function(){return D},i.unstable_next=function(P){switch(D){case 1:case 2:case 3:var he=3;break;default:he=D}var ye=D;D=he;try{return P()}finally{D=ye}},i.unstable_requestPaint=function(){G=!0},i.unstable_runWithPriority=function(P,he){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var ye=D;D=P;try{return he()}finally{D=ye}},i.unstable_scheduleCallback=function(P,he,ye){var re=i.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?re+ye:re):ye=re,P){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ye+F,P={id:v++,callback:he,priorityLevel:P,startTime:ye,expirationTime:F,sortIndex:-1},ye>re?(P.sortIndex=ye,e(x,P),n(m)===null&&P===n(x)&&(te?($(I),I=-1):te=!0,xe(be,ye-re))):(P.sortIndex=F,e(m,P),W||O||(W=!0,_e||(_e=!0,U()))),P},i.unstable_shouldYield=z,i.unstable_wrapCallback=function(P){var he=D;return function(){var ye=D;D=he;try{return P.apply(this,arguments)}finally{D=ye}}}})(qp)),qp}var _1;function KS(){return _1||(_1=1,Hp.exports=QS()),Hp.exports}var Wp={exports:{}},fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E1;function $S(){if(E1)return fn;E1=1;var i=Gg();function e(m){var x="https://react.dev/errors/"+m;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)x+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,x,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:m,containerInfo:x,implementation:v}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(m,x){if(m==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,fn.createPortal=function(m,x){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(e(299));return u(m,x,null,v)},fn.flushSync=function(m){var x=h.T,v=s.p;try{if(h.T=null,s.p=2,m)return m()}finally{h.T=x,s.p=v,s.d.f()}},fn.preconnect=function(m,x){typeof m=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,s.d.C(m,x))},fn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},fn.preinit=function(m,x){if(typeof m=="string"&&x&&typeof x.as=="string"){var v=x.as,S=g(v,x.crossOrigin),D=typeof x.integrity=="string"?x.integrity:void 0,O=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;v==="style"?s.d.S(m,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:S,integrity:D,fetchPriority:O}):v==="script"&&s.d.X(m,{crossOrigin:S,integrity:D,fetchPriority:O,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},fn.preinitModule=function(m,x){if(typeof m=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var v=g(x.as,x.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&s.d.M(m)},fn.preload=function(m,x){if(typeof m=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var v=x.as,S=g(v,x.crossOrigin);s.d.L(m,v,{crossOrigin:S,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},fn.preloadModule=function(m,x){if(typeof m=="string")if(x){var v=g(x.as,x.crossOrigin);s.d.m(m,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:v,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else s.d.m(m)},fn.requestFormReset=function(m){s.d.r(m)},fn.unstable_batchedUpdates=function(m,x){return m(x)},fn.useFormState=function(m,x,v){return h.H.useFormState(m,x,v)},fn.useFormStatus=function(){return h.H.useHostTransitionStatus()},fn.version="19.2.3",fn}var S1;function XS(){if(S1)return Wp.exports;S1=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Wp.exports=$S(),Wp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T1;function JS(){if(T1)return nc;T1=1;var i=KS(),e=Gg(),n=XS();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function g(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function x(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,c=r;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return m(f),t;if(p===c)return m(f),r;p=p.sibling}throw Error(s(188))}if(a.return!==c.return)a=f,c=p;else{for(var b=!1,T=f.child;T;){if(T===a){b=!0,a=f,c=p;break}if(T===c){b=!0,c=f,a=p;break}T=T.sibling}if(!b){for(T=p.child;T;){if(T===a){b=!0,a=p,c=f;break}if(T===c){b=!0,c=p,a=f;break}T=T.sibling}if(!b)throw Error(s(189))}}if(a.alternate!==c)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function v(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=v(t),r!==null)return r;t=t.sibling}return null}var S=Object.assign,D=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),be=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function ve(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case te:return"Fragment";case L:return"Profiler";case G:return"StrictMode";case be:return"Suspense";case _e:return"SuspenseList";case A:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case ae:return t.displayName||"Context";case $:return(t._context.displayName||"Context")+".Consumer";case se:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return r=t.displayName||null,r!==null?r:ve(t.type)||"Memo";case C:r=t._payload,t=t._init;try{return ve(t(r))}catch{}}return null}var xe=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},re=[],F=-1;function E(t){return{current:t}}function R(t){0>F||(t.current=re[F],re[F]=null,F--)}function H(t,r){F++,re[F]=t.current,t.current=r}var N=E(null),q=E(null),J=E(null),pe=E(null);function Be(t,r){switch(H(J,r),H(q,t),H(N,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Lx(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Lx(r),t=Ux(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}R(N),H(N,t)}function st(){R(N),R(q),R(J)}function zt(t){t.memoizedState!==null&&H(pe,t);var r=N.current,a=Ux(r,t.type);r!==a&&(H(q,t),H(N,a))}function at(t){q.current===t&&(R(N),R(q)),pe.current===t&&(R(pe),Xl._currentValue=ye)}var Kn,$n;function Xe(t){if(Kn===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Kn=r&&r[1]||"",$n=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kn+t+$n}var jt=!1;function Ke(t,r){if(!t||jt)return"";jt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ne){var X=ne}Reflect.construct(t,[],ue)}else{try{ue.call()}catch(ne){X=ne}t.call(ue.prototype)}}else{try{throw Error()}catch(ne){X=ne}(ue=t())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ne){if(ne&&X&&typeof ne.stack=="string")return[ne.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),b=p[0],T=p[1];if(b&&T){var M=b.split(`
`),K=T.split(`
`);for(f=c=0;c<M.length&&!M[c].includes("DetermineComponentFrameRoot");)c++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(c===M.length||f===K.length)for(c=M.length-1,f=K.length-1;1<=c&&0<=f&&M[c]!==K[f];)f--;for(;1<=c&&0<=f;c--,f--)if(M[c]!==K[f]){if(c!==1||f!==1)do if(c--,f--,0>f||M[c]!==K[f]){var oe=`
`+M[c].replace(" at new "," at ");return t.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",t.displayName)),oe}while(1<=c&&0<=f);break}}}finally{jt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Xe(a):""}function Tt(t,r){switch(t.tag){case 26:case 27:case 5:return Xe(t.type);case 16:return Xe("Lazy");case 13:return t.child!==r&&r!==null?Xe("Suspense Fallback"):Xe("Suspense");case 19:return Xe("SuspenseList");case 0:case 15:return Ke(t.type,!1);case 11:return Ke(t.type.render,!1);case 1:return Ke(t.type,!0);case 31:return Xe("Activity");default:return""}}function Je(t){try{var r="",a=null;do r+=Tt(t,a),a=t,t=t.return;while(t);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Re=Object.prototype.hasOwnProperty,Ze=i.unstable_scheduleCallback,zn=i.unstable_cancelCallback,tl=i.unstable_shouldYield,Qs=i.unstable_requestPaint,Jt=i.unstable_now,pi=i.unstable_getCurrentPriorityLevel,gi=i.unstable_ImmediatePriority,Ks=i.unstable_UserBlockingPriority,Mr=i.unstable_NormalPriority,Bh=i.unstable_LowPriority,Gc=i.unstable_IdlePriority,Yc=i.log,Qc=i.unstable_setDisableYieldValue,mr=null,rn=null;function Xn(t){if(typeof Yc=="function"&&Qc(t),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(mr,t)}catch{}}var It=Math.clz32?Math.clz32:$c,Kc=Math.log,Va=Math.LN2;function $c(t){return t>>>=0,t===0?32:31-(Kc(t)/Va|0)|0}var Nr=256,$s=262144,Ft=4194304;function zr(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Fr(t,r,a){var c=t.pendingLanes;if(c===0)return 0;var f=0,p=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var T=c&134217727;return T!==0?(c=T&~p,c!==0?f=zr(c):(b&=T,b!==0?f=zr(b):a||(a=T&~t,a!==0&&(f=zr(a))))):(T=c&~p,T!==0?f=zr(T):b!==0?f=zr(b):a||(a=c&~t,a!==0&&(f=zr(a)))),f===0?0:r!==0&&r!==f&&(r&p)===0&&(p=f&-f,a=r&-r,p>=a||p===32&&(a&4194048)!==0)?r:f}function yr(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Hh(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xc(){var t=Ft;return Ft<<=1,(Ft&62914560)===0&&(Ft=4194304),t}function Vr(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Xs(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qh(t,r,a,c,f,p){var b=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,M=t.expirationTimes,K=t.hiddenUpdates;for(a=b&~a;0<a;){var oe=31-It(a),ue=1<<oe;T[oe]=0,M[oe]=-1;var X=K[oe];if(X!==null)for(K[oe]=null,oe=0;oe<X.length;oe++){var ne=X[oe];ne!==null&&(ne.lane&=-536870913)}a&=~ue}c!==0&&Js(t,c,0),p!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=p&~(b&~r))}function Js(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var c=31-It(r);t.entangledLanes|=r,t.entanglements[c]=t.entanglements[c]|1073741824|a&261930}function nl(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var c=31-It(a),f=1<<c;f&r|t[c]&r&&(t[c]|=r),a&=~f}}function rl(t,r){var a=r&-r;return a=(a&42)!==0?1:Zs(a),(a&(t.suspendedLanes|r))!==0?0:a}function Zs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function mi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Jc(){var t=he.p;return t!==0?t:(t=window.event,t===void 0?32:c1(t.type))}function xr(t,r){var a=he.p;try{return he.p=t,r()}finally{he.p=a}}var vr=Math.random().toString(36).slice(2),Vt="__reactFiber$"+vr,Zt="__reactProps$"+vr,Lr="__reactContainer$"+vr,La="__reactEvents$"+vr,Wh="__reactListeners$"+vr,Zc="__reactHandles$"+vr,eu="__reactResources$"+vr,Ur="__reactMarker$"+vr;function Ua(t){delete t[Vt],delete t[Zt],delete t[La],delete t[Wh],delete t[Zc]}function Pr(t){var r=t[Vt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Lr]||a[Vt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Yx(t);t!==null;){if(a=t[Vt])return a;t=Yx(t)}return r}t=a,a=t.parentNode}return null}function Jn(t){if(t=t[Vt]||t[Lr]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function Fn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Br(t){var r=t[eu];return r||(r=t[eu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Lt(t){t[Ur]=!0}var il=new Set,sl={};function Hr(t,r){qr(t,r),qr(t+"Capture",r)}function qr(t,r){for(sl[t]=r,t=0;t<r.length;t++)il.add(r[t])}var al=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ol={},ll={};function tu(t){return Re.call(ll,t)?!0:Re.call(ol,t)?!1:al.test(t)?ll[t]=!0:(ol[t]=!0,!1)}function Pa(t,r,a){if(tu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Vn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Ut(t,r,a,c){if(c===null)t.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+c)}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gi(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function cl(t,r,a){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,p=c.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(b){a=""+b,p.call(this,b)}}),Object.defineProperty(t,r,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(b){a=""+b},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function lt(t){if(!t._valueTracker){var r=Gi(t)?"checked":"value";t._valueTracker=cl(t,r,""+t[r])}}function ea(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),c="";return t&&(c=Gi(t)?t.checked?"true":"false":t.value),t=c,t!==a?(r.setValue(t),!0):!1}function Wr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ta=/[\n"\\]/g;function Sn(t){return t.replace(ta,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ba(t,r,a,c,f,p,b,T){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),r!=null?b==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+en(r)):t.value!==""+en(r)&&(t.value=""+en(r)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),r!=null?ul(t,b,en(r)):a!=null?ul(t,b,en(a)):c!=null&&t.removeAttribute("value"),f==null&&p!=null&&(t.defaultChecked=!!p),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+en(T):t.removeAttribute("name")}function nu(t,r,a,c,f,p,b,T){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),r!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){lt(t);return}a=a!=null?""+en(a):"",r=r!=null?""+en(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=T?t.checked:!!c,t.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),lt(t)}function ul(t,r,a){r==="number"&&Wr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Yi(t,r,a,c){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&c&&(t[a].defaultSelected=!0)}else{for(a=""+en(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,c&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function ru(t,r,a){if(r!=null&&(r=""+en(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+en(a):""}function Qi(t,r,a,c){if(r==null){if(c!=null){if(a!=null)throw Error(s(92));if(xe(c)){if(1<c.length)throw Error(s(93));c=c[0]}a=c}a==null&&(a=""),r=a}a=en(r),t.defaultValue=a,c=t.textContent,c===a&&c!==""&&c!==null&&(t.value=c),lt(t)}function Tn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var iu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dl(t,r,a){var c=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":c?t.setProperty(r,a):typeof a!="number"||a===0||iu.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function hl(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var f in r)c=r[f],r.hasOwnProperty(f)&&a[f]!==c&&dl(t,f,c)}else for(var p in r)r.hasOwnProperty(p)&&dl(t,p,r[p])}function Ha(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var su=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ki=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qa(t){return Ki.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function br(){}var fl=null;function Zn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $i=null,Gr=null;function na(t){var r=Jn(t);if(r&&(t=r.stateNode)){var a=t[Zt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Ba(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Sn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var c=a[r];if(c!==t&&c.form===t.form){var f=c[Zt]||null;if(!f)throw Error(s(90));Ba(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)c=a[r],c.form===t.form&&ea(c)}break e;case"textarea":ru(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Yi(t,!!a.multiple,r,!1)}}}var Wa=!1;function Xi(t,r,a){if(Wa)return t(r,a);Wa=!0;try{var c=t(r);return c}finally{if(Wa=!1,($i!==null||Gr!==null)&&(Ju(),$i&&(r=$i,t=Gr,Gr=$i=null,na(r),t)))for(r=0;r<t.length;r++)na(t[r])}}function _r(t,r){var a=t.stateNode;if(a===null)return null;var c=a[Zt]||null;if(c===null)return null;a=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ra=!1;if(er)try{var dt={};Object.defineProperty(dt,"passive",{get:function(){ra=!0}}),window.addEventListener("test",dt,dt),window.removeEventListener("test",dt,dt)}catch{ra=!1}var Yr=null,pl=null,ia=null;function gl(){if(ia)return ia;var t,r=pl,a=r.length,c,f="value"in Yr?Yr.value:Yr.textContent,p=f.length;for(t=0;t<a&&r[t]===f[t];t++);var b=a-t;for(c=1;c<=b&&r[a-c]===f[p-c];c++);return ia=f.slice(t,1<c?1-c:void 0)}function sa(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function yi(){return!0}function Er(){return!1}function sn(t){function r(a,c,f,p,b){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?yi:Er,this.isPropagationStopped=Er,this}return S(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=yi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=yi)},persist:function(){},isPersistent:yi}),r}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qr=sn(xi),Ji=S({},xi,{view:0,detail:0}),ml=sn(Ji),Zi,Ga,Kr,Ya=S({},Ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:es,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kr&&(Kr&&t.type==="mousemove"?(Zi=t.screenX-Kr.screenX,Ga=t.screenY-Kr.screenY):Ga=Zi=0,Kr=t),Zi)},movementY:function(t){return"movementY"in t?t.movementY:Ga}}),yl=sn(Ya),aa=S({},Ya,{dataTransfer:0}),au=sn(aa),ou=S({},Ji,{relatedTarget:0}),oa=sn(ou),xl=S({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),lu=sn(xl),Qa=S({},xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cu=sn(Qa),uu=S({},xi,{data:0}),$r=sn(uu),du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pu(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=fu[t])?!!r[t]:!1}function es(){return pu}var vn=S({},Ji,{key:function(t){if(t.key){var r=du[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=sa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:es,charCode:function(t){return t.type==="keypress"?sa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gu=sn(vn),mu=S({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vi=sn(mu),d=S({},Ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:es}),y=sn(d),_=S({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),j=sn(_),Y=S({},Ya,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Z=sn(Y),ge=S({},xi,{newState:0,oldState:0}),Ne=sn(ge),Dt=[9,13,27,32],nt=er&&"CompositionEvent"in window,_t=null;er&&"documentMode"in document&&(_t=document.documentMode);var tr=er&&"TextEvent"in window&&!_t,Xr=er&&(!nt||_t&&8<_t&&11>=_t),Sr=" ",Tr=!1;function la(t,r){switch(t){case"keyup":return Dt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ka(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $a=!1;function pE(t,r){switch(t){case"compositionend":return Ka(r);case"keypress":return r.which!==32?null:(Tr=!0,Sr);case"textInput":return t=r.data,t===Sr&&Tr?null:t;default:return null}}function gE(t,r){if($a)return t==="compositionend"||!nt&&la(t,r)?(t=gl(),ia=pl=Yr=null,$a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Xr&&r.locale!=="ko"?null:r.data;default:return null}}var mE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $m(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!mE[t.type]:r==="textarea"}function Xm(t,r,a,c){$i?Gr?Gr.push(c):Gr=[c]:$i=c,r=sd(r,"onChange"),0<r.length&&(a=new Qr("onChange","change",null,a,c),t.push({event:a,listeners:r}))}var vl=null,bl=null;function yE(t){Ox(t,0)}function yu(t){var r=Fn(t);if(ea(r))return t}function Jm(t,r){if(t==="change")return r}var Zm=!1;if(er){var Gh;if(er){var Yh="oninput"in document;if(!Yh){var e0=document.createElement("div");e0.setAttribute("oninput","return;"),Yh=typeof e0.oninput=="function"}Gh=Yh}else Gh=!1;Zm=Gh&&(!document.documentMode||9<document.documentMode)}function t0(){vl&&(vl.detachEvent("onpropertychange",n0),bl=vl=null)}function n0(t){if(t.propertyName==="value"&&yu(bl)){var r=[];Xm(r,bl,t,Zn(t)),Xi(yE,r)}}function xE(t,r,a){t==="focusin"?(t0(),vl=r,bl=a,vl.attachEvent("onpropertychange",n0)):t==="focusout"&&t0()}function vE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yu(bl)}function bE(t,r){if(t==="click")return yu(r)}function _E(t,r){if(t==="input"||t==="change")return yu(r)}function EE(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Ln=typeof Object.is=="function"?Object.is:EE;function _l(t,r){if(Ln(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),c=Object.keys(r);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!Re.call(r,f)||!Ln(t[f],r[f]))return!1}return!0}function r0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function i0(t,r){var a=r0(t);t=0;for(var c;a;){if(a.nodeType===3){if(c=t+a.textContent.length,t<=r&&c>=r)return{node:a,offset:r-t};t=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=r0(a)}}function s0(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?s0(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function a0(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Wr(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Wr(t.document)}return r}function Qh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var SE=er&&"documentMode"in document&&11>=document.documentMode,Xa=null,Kh=null,El=null,$h=!1;function o0(t,r,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;$h||Xa==null||Xa!==Wr(c)||(c=Xa,"selectionStart"in c&&Qh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),El&&_l(El,c)||(El=c,c=sd(Kh,"onSelect"),0<c.length&&(r=new Qr("onSelect","select",null,r,a),t.push({event:r,listeners:c}),r.target=Xa)))}function ca(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Ja={animationend:ca("Animation","AnimationEnd"),animationiteration:ca("Animation","AnimationIteration"),animationstart:ca("Animation","AnimationStart"),transitionrun:ca("Transition","TransitionRun"),transitionstart:ca("Transition","TransitionStart"),transitioncancel:ca("Transition","TransitionCancel"),transitionend:ca("Transition","TransitionEnd")},Xh={},l0={};er&&(l0=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function ua(t){if(Xh[t])return Xh[t];if(!Ja[t])return t;var r=Ja[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in l0)return Xh[t]=r[a];return t}var c0=ua("animationend"),u0=ua("animationiteration"),d0=ua("animationstart"),TE=ua("transitionrun"),AE=ua("transitionstart"),CE=ua("transitioncancel"),h0=ua("transitionend"),f0=new Map,Jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jh.push("scrollEnd");function Ar(t,r){f0.set(t,r),Hr(r,[t])}var xu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},nr=[],Za=0,Zh=0;function vu(){for(var t=Za,r=Zh=Za=0;r<t;){var a=nr[r];nr[r++]=null;var c=nr[r];nr[r++]=null;var f=nr[r];nr[r++]=null;var p=nr[r];if(nr[r++]=null,c!==null&&f!==null){var b=c.pending;b===null?f.next=f:(f.next=b.next,b.next=f),c.pending=f}p!==0&&p0(a,f,p)}}function bu(t,r,a,c){nr[Za++]=t,nr[Za++]=r,nr[Za++]=a,nr[Za++]=c,Zh|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function ef(t,r,a,c){return bu(t,r,a,c),_u(t)}function da(t,r){return bu(t,null,null,r),_u(t)}function p0(t,r,a){t.lanes|=a;var c=t.alternate;c!==null&&(c.lanes|=a);for(var f=!1,p=t.return;p!==null;)p.childLanes|=a,c=p.alternate,c!==null&&(c.childLanes|=a),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(f=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,f&&r!==null&&(f=31-It(a),t=p.hiddenUpdates,c=t[f],c===null?t[f]=[r]:c.push(r),r.lane=a|536870912),p):null}function _u(t){if(50<ql)throw ql=0,up=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var eo={};function wE(t,r,a,c){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,r,a,c){return new wE(t,r,a,c)}function tf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bi(t,r){var a=t.alternate;return a===null?(a=Un(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function g0(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Eu(t,r,a,c,f,p){var b=0;if(c=t,typeof t=="function")tf(t)&&(b=1);else if(typeof t=="string")b=kS(t,a,N.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case A:return t=Un(31,a,r,f),t.elementType=A,t.lanes=p,t;case te:return ha(a.children,f,p,r);case G:b=8,f|=24;break;case L:return t=Un(12,a,r,f|2),t.elementType=L,t.lanes=p,t;case be:return t=Un(13,a,r,f),t.elementType=be,t.lanes=p,t;case _e:return t=Un(19,a,r,f),t.elementType=_e,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ae:b=10;break e;case $:b=9;break e;case se:b=11;break e;case I:b=14;break e;case C:b=16,c=null;break e}b=29,a=Error(s(130,t===null?"null":typeof t,"")),c=null}return r=Un(b,a,r,f),r.elementType=t,r.type=c,r.lanes=p,r}function ha(t,r,a,c){return t=Un(7,t,c,r),t.lanes=a,t}function nf(t,r,a){return t=Un(6,t,null,r),t.lanes=a,t}function m0(t){var r=Un(18,null,null,0);return r.stateNode=t,r}function rf(t,r,a){return r=Un(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var y0=new WeakMap;function rr(t,r){if(typeof t=="object"&&t!==null){var a=y0.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Je(r)},y0.set(t,r),r)}return{value:t,source:r,stack:Je(r)}}var to=[],no=0,Su=null,Sl=0,ir=[],sr=0,ts=null,Jr=1,Zr="";function _i(t,r){to[no++]=Sl,to[no++]=Su,Su=t,Sl=r}function x0(t,r,a){ir[sr++]=Jr,ir[sr++]=Zr,ir[sr++]=ts,ts=t;var c=Jr;t=Zr;var f=32-It(c)-1;c&=~(1<<f),a+=1;var p=32-It(r)+f;if(30<p){var b=f-f%5;p=(c&(1<<b)-1).toString(32),c>>=b,f-=b,Jr=1<<32-It(r)+f|a<<f|c,Zr=p+t}else Jr=1<<p|a<<f|c,Zr=t}function sf(t){t.return!==null&&(_i(t,1),x0(t,1,0))}function af(t){for(;t===Su;)Su=to[--no],to[no]=null,Sl=to[--no],to[no]=null;for(;t===ts;)ts=ir[--sr],ir[sr]=null,Zr=ir[--sr],ir[sr]=null,Jr=ir[--sr],ir[sr]=null}function v0(t,r){ir[sr++]=Jr,ir[sr++]=Zr,ir[sr++]=ts,Jr=r.id,Zr=r.overflow,ts=t}var an=null,xt=null,Qe=!1,ns=null,ar=!1,of=Error(s(519));function rs(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Tl(rr(r,t)),of}function b0(t){var r=t.stateNode,a=t.type,c=t.memoizedProps;switch(r[Vt]=t,r[Zt]=c,a){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(a=0;a<Gl.length;a++)Ue(Gl[a],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":Ue("invalid",r),nu(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ue("invalid",r);break;case"textarea":Ue("invalid",r),Qi(r,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||c.suppressHydrationWarning===!0||Fx(r.textContent,a)?(c.popover!=null&&(Ue("beforetoggle",r),Ue("toggle",r)),c.onScroll!=null&&Ue("scroll",r),c.onScrollEnd!=null&&Ue("scrollend",r),c.onClick!=null&&(r.onclick=br),r=!0):r=!1,r||rs(t,!0)}function _0(t){for(an=t.return;an;)switch(an.tag){case 5:case 31:case 13:ar=!1;return;case 27:case 3:ar=!0;return;default:an=an.return}}function ro(t){if(t!==an)return!1;if(!Qe)return _0(t),Qe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ap(t.type,t.memoizedProps)),a=!a),a&&xt&&rs(t),_0(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));xt=Gx(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));xt=Gx(t)}else r===27?(r=xt,ys(t.type)?(t=Ip,Ip=null,xt=t):xt=r):xt=an?lr(t.stateNode.nextSibling):null;return!0}function fa(){xt=an=null,Qe=!1}function lf(){var t=ns;return t!==null&&(Rn===null?Rn=t:Rn.push.apply(Rn,t),ns=null),t}function Tl(t){ns===null?ns=[t]:ns.push(t)}var cf=E(null),pa=null,Ei=null;function is(t,r,a){H(cf,r._currentValue),r._currentValue=a}function Si(t){t._currentValue=cf.current,R(cf)}function uf(t,r,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),t===a)break;t=t.return}}function df(t,r,a,c){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var p=f.dependencies;if(p!==null){var b=f.child;p=p.firstContext;e:for(;p!==null;){var T=p;p=f;for(var M=0;M<r.length;M++)if(T.context===r[M]){p.lanes|=a,T=p.alternate,T!==null&&(T.lanes|=a),uf(p.return,a,t),c||(b=null);break e}p=T.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(s(341));b.lanes|=a,p=b.alternate,p!==null&&(p.lanes|=a),uf(b,a,t),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===t){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function io(t,r,a,c){t=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var T=f.type;Ln(f.pendingProps.value,b.value)||(t!==null?t.push(T):t=[T])}}else if(f===pe.current){if(b=f.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Xl):t=[Xl])}f=f.return}t!==null&&df(r,t,a,c),r.flags|=262144}function Tu(t){for(t=t.firstContext;t!==null;){if(!Ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ga(t){pa=t,Ei=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function on(t){return E0(pa,t)}function Au(t,r){return pa===null&&ga(t),E0(t,r)}function E0(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Ei===null){if(t===null)throw Error(s(308));Ei=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Ei=Ei.next=r;return a}var RE=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,c){t.push(c)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},jE=i.unstable_scheduleCallback,IE=i.unstable_NormalPriority,Pt={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hf(){return{controller:new RE,data:new Map,refCount:0}}function Al(t){t.refCount--,t.refCount===0&&jE(IE,function(){t.controller.abort()})}var Cl=null,ff=0,so=0,ao=null;function DE(t,r){if(Cl===null){var a=Cl=[];ff=0,so=mp(),ao={status:"pending",value:void 0,then:function(c){a.push(c)}}}return ff++,r.then(S0,S0),r}function S0(){if(--ff===0&&Cl!==null){ao!==null&&(ao.status="fulfilled");var t=Cl;Cl=null,so=0,ao=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function kE(t,r){var a=[],c={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){c.status="fulfilled",c.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(c.status="rejected",c.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),c}var T0=P.S;P.S=function(t,r){ox=Jt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&DE(t,r),T0!==null&&T0(t,r)};var ma=E(null);function pf(){var t=ma.current;return t!==null?t:gt.pooledCache}function Cu(t,r){r===null?H(ma,ma.current):H(ma,r.pool)}function A0(){var t=pf();return t===null?null:{parent:Pt._currentValue,pool:t}}var oo=Error(s(460)),gf=Error(s(474)),wu=Error(s(542)),Ru={then:function(){}};function C0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function w0(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(br,br),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,j0(t),t;default:if(typeof r.status=="string")r.then(br,br);else{if(t=gt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(c){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=c}},function(c){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,j0(t),t}throw xa=r,oo}}function ya(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(xa=a,oo):a}}var xa=null;function R0(){if(xa===null)throw Error(s(459));var t=xa;return xa=null,t}function j0(t){if(t===oo||t===wu)throw Error(s(483))}var lo=null,wl=0;function ju(t){var r=wl;return wl+=1,lo===null&&(lo=[]),w0(lo,t,r)}function Rl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Iu(t,r){throw r.$$typeof===D?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function I0(t){function r(B,V){if(t){var Q=B.deletions;Q===null?(B.deletions=[V],B.flags|=16):Q.push(V)}}function a(B,V){if(!t)return null;for(;V!==null;)r(B,V),V=V.sibling;return null}function c(B){for(var V=new Map;B!==null;)B.key!==null?V.set(B.key,B):V.set(B.index,B),B=B.sibling;return V}function f(B,V){return B=bi(B,V),B.index=0,B.sibling=null,B}function p(B,V,Q){return B.index=Q,t?(Q=B.alternate,Q!==null?(Q=Q.index,Q<V?(B.flags|=67108866,V):Q):(B.flags|=67108866,V)):(B.flags|=1048576,V)}function b(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function T(B,V,Q,le){return V===null||V.tag!==6?(V=nf(Q,B.mode,le),V.return=B,V):(V=f(V,Q),V.return=B,V)}function M(B,V,Q,le){var Ce=Q.type;return Ce===te?oe(B,V,Q.props.children,le,Q.key):V!==null&&(V.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===C&&ya(Ce)===V.type)?(V=f(V,Q.props),Rl(V,Q),V.return=B,V):(V=Eu(Q.type,Q.key,Q.props,null,B.mode,le),Rl(V,Q),V.return=B,V)}function K(B,V,Q,le){return V===null||V.tag!==4||V.stateNode.containerInfo!==Q.containerInfo||V.stateNode.implementation!==Q.implementation?(V=rf(Q,B.mode,le),V.return=B,V):(V=f(V,Q.children||[]),V.return=B,V)}function oe(B,V,Q,le,Ce){return V===null||V.tag!==7?(V=ha(Q,B.mode,le,Ce),V.return=B,V):(V=f(V,Q),V.return=B,V)}function ue(B,V,Q){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=nf(""+V,B.mode,Q),V.return=B,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case O:return Q=Eu(V.type,V.key,V.props,null,B.mode,Q),Rl(Q,V),Q.return=B,Q;case W:return V=rf(V,B.mode,Q),V.return=B,V;case C:return V=ya(V),ue(B,V,Q)}if(xe(V)||U(V))return V=ha(V,B.mode,Q,null),V.return=B,V;if(typeof V.then=="function")return ue(B,ju(V),Q);if(V.$$typeof===ae)return ue(B,Au(B,V),Q);Iu(B,V)}return null}function X(B,V,Q,le){var Ce=V!==null?V.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ce!==null?null:T(B,V,""+Q,le);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case O:return Q.key===Ce?M(B,V,Q,le):null;case W:return Q.key===Ce?K(B,V,Q,le):null;case C:return Q=ya(Q),X(B,V,Q,le)}if(xe(Q)||U(Q))return Ce!==null?null:oe(B,V,Q,le,null);if(typeof Q.then=="function")return X(B,V,ju(Q),le);if(Q.$$typeof===ae)return X(B,V,Au(B,Q),le);Iu(B,Q)}return null}function ne(B,V,Q,le,Ce){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return B=B.get(Q)||null,T(V,B,""+le,Ce);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case O:return B=B.get(le.key===null?Q:le.key)||null,M(V,B,le,Ce);case W:return B=B.get(le.key===null?Q:le.key)||null,K(V,B,le,Ce);case C:return le=ya(le),ne(B,V,Q,le,Ce)}if(xe(le)||U(le))return B=B.get(Q)||null,oe(V,B,le,Ce,null);if(typeof le.then=="function")return ne(B,V,Q,ju(le),Ce);if(le.$$typeof===ae)return ne(B,V,Q,Au(V,le),Ce);Iu(V,le)}return null}function Se(B,V,Q,le){for(var Ce=null,et=null,Te=V,Fe=V=0,qe=null;Te!==null&&Fe<Q.length;Fe++){Te.index>Fe?(qe=Te,Te=null):qe=Te.sibling;var tt=X(B,Te,Q[Fe],le);if(tt===null){Te===null&&(Te=qe);break}t&&Te&&tt.alternate===null&&r(B,Te),V=p(tt,V,Fe),et===null?Ce=tt:et.sibling=tt,et=tt,Te=qe}if(Fe===Q.length)return a(B,Te),Qe&&_i(B,Fe),Ce;if(Te===null){for(;Fe<Q.length;Fe++)Te=ue(B,Q[Fe],le),Te!==null&&(V=p(Te,V,Fe),et===null?Ce=Te:et.sibling=Te,et=Te);return Qe&&_i(B,Fe),Ce}for(Te=c(Te);Fe<Q.length;Fe++)qe=ne(Te,B,Fe,Q[Fe],le),qe!==null&&(t&&qe.alternate!==null&&Te.delete(qe.key===null?Fe:qe.key),V=p(qe,V,Fe),et===null?Ce=qe:et.sibling=qe,et=qe);return t&&Te.forEach(function(Es){return r(B,Es)}),Qe&&_i(B,Fe),Ce}function je(B,V,Q,le){if(Q==null)throw Error(s(151));for(var Ce=null,et=null,Te=V,Fe=V=0,qe=null,tt=Q.next();Te!==null&&!tt.done;Fe++,tt=Q.next()){Te.index>Fe?(qe=Te,Te=null):qe=Te.sibling;var Es=X(B,Te,tt.value,le);if(Es===null){Te===null&&(Te=qe);break}t&&Te&&Es.alternate===null&&r(B,Te),V=p(Es,V,Fe),et===null?Ce=Es:et.sibling=Es,et=Es,Te=qe}if(tt.done)return a(B,Te),Qe&&_i(B,Fe),Ce;if(Te===null){for(;!tt.done;Fe++,tt=Q.next())tt=ue(B,tt.value,le),tt!==null&&(V=p(tt,V,Fe),et===null?Ce=tt:et.sibling=tt,et=tt);return Qe&&_i(B,Fe),Ce}for(Te=c(Te);!tt.done;Fe++,tt=Q.next())tt=ne(Te,B,Fe,tt.value,le),tt!==null&&(t&&tt.alternate!==null&&Te.delete(tt.key===null?Fe:tt.key),V=p(tt,V,Fe),et===null?Ce=tt:et.sibling=tt,et=tt);return t&&Te.forEach(function(HS){return r(B,HS)}),Qe&&_i(B,Fe),Ce}function pt(B,V,Q,le){if(typeof Q=="object"&&Q!==null&&Q.type===te&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case O:e:{for(var Ce=Q.key;V!==null;){if(V.key===Ce){if(Ce=Q.type,Ce===te){if(V.tag===7){a(B,V.sibling),le=f(V,Q.props.children),le.return=B,B=le;break e}}else if(V.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===C&&ya(Ce)===V.type){a(B,V.sibling),le=f(V,Q.props),Rl(le,Q),le.return=B,B=le;break e}a(B,V);break}else r(B,V);V=V.sibling}Q.type===te?(le=ha(Q.props.children,B.mode,le,Q.key),le.return=B,B=le):(le=Eu(Q.type,Q.key,Q.props,null,B.mode,le),Rl(le,Q),le.return=B,B=le)}return b(B);case W:e:{for(Ce=Q.key;V!==null;){if(V.key===Ce)if(V.tag===4&&V.stateNode.containerInfo===Q.containerInfo&&V.stateNode.implementation===Q.implementation){a(B,V.sibling),le=f(V,Q.children||[]),le.return=B,B=le;break e}else{a(B,V);break}else r(B,V);V=V.sibling}le=rf(Q,B.mode,le),le.return=B,B=le}return b(B);case C:return Q=ya(Q),pt(B,V,Q,le)}if(xe(Q))return Se(B,V,Q,le);if(U(Q)){if(Ce=U(Q),typeof Ce!="function")throw Error(s(150));return Q=Ce.call(Q),je(B,V,Q,le)}if(typeof Q.then=="function")return pt(B,V,ju(Q),le);if(Q.$$typeof===ae)return pt(B,V,Au(B,Q),le);Iu(B,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,V!==null&&V.tag===6?(a(B,V.sibling),le=f(V,Q),le.return=B,B=le):(a(B,V),le=nf(Q,B.mode,le),le.return=B,B=le),b(B)):a(B,V)}return function(B,V,Q,le){try{wl=0;var Ce=pt(B,V,Q,le);return lo=null,Ce}catch(Te){if(Te===oo||Te===wu)throw Te;var et=Un(29,Te,null,B.mode);return et.lanes=le,et.return=B,et}finally{}}}var va=I0(!0),D0=I0(!1),ss=!1;function mf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function as(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function os(t,r,a){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(rt&2)!==0){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,r=_u(t),p0(t,null,a),r}return bu(t,c,r,a),_u(t)}function jl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var c=r.lanes;c&=t.pendingLanes,a|=c,r.lanes=a,nl(t,a)}}function xf(t,r){var a=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=b:p=p.next=b,a=a.next}while(a!==null);p===null?f=p=r:p=p.next=r}else f=p=r;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var vf=!1;function Il(){if(vf){var t=ao;if(t!==null)throw t}}function Dl(t,r,a,c){vf=!1;var f=t.updateQueue;ss=!1;var p=f.firstBaseUpdate,b=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var M=T,K=M.next;M.next=null,b===null?p=K:b.next=K,b=M;var oe=t.alternate;oe!==null&&(oe=oe.updateQueue,T=oe.lastBaseUpdate,T!==b&&(T===null?oe.firstBaseUpdate=K:T.next=K,oe.lastBaseUpdate=M))}if(p!==null){var ue=f.baseState;b=0,oe=K=M=null,T=p;do{var X=T.lane&-536870913,ne=X!==T.lane;if(ne?(He&X)===X:(c&X)===X){X!==0&&X===so&&(vf=!0),oe!==null&&(oe=oe.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Se=t,je=T;X=r;var pt=a;switch(je.tag){case 1:if(Se=je.payload,typeof Se=="function"){ue=Se.call(pt,ue,X);break e}ue=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=je.payload,X=typeof Se=="function"?Se.call(pt,ue,X):Se,X==null)break e;ue=S({},ue,X);break e;case 2:ss=!0}}X=T.callback,X!==null&&(t.flags|=64,ne&&(t.flags|=8192),ne=f.callbacks,ne===null?f.callbacks=[X]:ne.push(X))}else ne={lane:X,tag:T.tag,payload:T.payload,callback:T.callback,next:null},oe===null?(K=oe=ne,M=ue):oe=oe.next=ne,b|=X;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;ne=T,T=ne.next,ne.next=null,f.lastBaseUpdate=ne,f.shared.pending=null}}while(!0);oe===null&&(M=ue),f.baseState=M,f.firstBaseUpdate=K,f.lastBaseUpdate=oe,p===null&&(f.shared.lanes=0),hs|=b,t.lanes=b,t.memoizedState=ue}}function k0(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function O0(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)k0(a[t],r)}var co=E(null),Du=E(0);function M0(t,r){t=ki,H(Du,t),H(co,r),ki=t|r.baseLanes}function bf(){H(Du,ki),H(co,co.current)}function _f(){ki=Du.current,R(co),R(Du)}var Pn=E(null),or=null;function ls(t){var r=t.alternate;H(kt,kt.current&1),H(Pn,t),or===null&&(r===null||co.current!==null||r.memoizedState!==null)&&(or=t)}function Ef(t){H(kt,kt.current),H(Pn,t),or===null&&(or=t)}function N0(t){t.tag===22?(H(kt,kt.current),H(Pn,t),or===null&&(or=t)):cs()}function cs(){H(kt,kt.current),H(Pn,Pn.current)}function Bn(t){R(Pn),or===t&&(or=null),R(kt)}var kt=E(0);function ku(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Rp(a)||jp(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ti=0,ze=null,ht=null,Bt=null,Ou=!1,uo=!1,ba=!1,Mu=0,kl=0,ho=null,OE=0;function At(){throw Error(s(321))}function Sf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Ln(t[a],r[a]))return!1;return!0}function Tf(t,r,a,c,f,p){return Ti=p,ze=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,P.H=t===null||t.memoizedState===null?xy:Lf,ba=!1,p=a(c,f),ba=!1,uo&&(p=F0(r,a,c,f)),z0(t),p}function z0(t){P.H=Nl;var r=ht!==null&&ht.next!==null;if(Ti=0,Bt=ht=ze=null,Ou=!1,kl=0,ho=null,r)throw Error(s(300));t===null||Ht||(t=t.dependencies,t!==null&&Tu(t)&&(Ht=!0))}function F0(t,r,a,c){ze=t;var f=0;do{if(uo&&(ho=null),kl=0,uo=!1,25<=f)throw Error(s(301));if(f+=1,Bt=ht=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}P.H=vy,p=r(a,c)}while(uo);return p}function ME(){var t=P.H,r=t.useState()[0];return r=typeof r.then=="function"?Ol(r):r,t=t.useState()[0],(ht!==null?ht.memoizedState:null)!==t&&(ze.flags|=1024),r}function Af(){var t=Mu!==0;return Mu=0,t}function Cf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function wf(t){if(Ou){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Ou=!1}Ti=0,Bt=ht=ze=null,uo=!1,kl=Mu=0,ho=null}function bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?ze.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function Ot(){if(ht===null){var t=ze.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var r=Bt===null?ze.memoizedState:Bt.next;if(r!==null)Bt=r,ht=t;else{if(t===null)throw ze.alternate===null?Error(s(467)):Error(s(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Bt===null?ze.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function Nu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ol(t){var r=kl;return kl+=1,ho===null&&(ho=[]),t=w0(ho,t,r),r=ze,(Bt===null?r.memoizedState:Bt.next)===null&&(r=r.alternate,P.H=r===null||r.memoizedState===null?xy:Lf),t}function zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ol(t);if(t.$$typeof===ae)return on(t)}throw Error(s(438,String(t)))}function Rf(t){var r=null,a=ze.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var c=ze.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Nu(),ze.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),c=0;c<t;c++)a[c]=z;return r.index++,a}function Ai(t,r){return typeof r=="function"?r(t):r}function Fu(t){var r=Ot();return jf(r,ht,t)}function jf(t,r,a){var c=t.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=a;var f=t.baseQueue,p=c.pending;if(p!==null){if(f!==null){var b=f.next;f.next=p.next,p.next=b}r.baseQueue=f=p,c.pending=null}if(p=t.baseState,f===null)t.memoizedState=p;else{r=f.next;var T=b=null,M=null,K=r,oe=!1;do{var ue=K.lane&-536870913;if(ue!==K.lane?(He&ue)===ue:(Ti&ue)===ue){var X=K.revertLane;if(X===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ue===so&&(oe=!0);else if((Ti&X)===X){K=K.next,X===so&&(oe=!0);continue}else ue={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(T=M=ue,b=p):M=M.next=ue,ze.lanes|=X,hs|=X;ue=K.action,ba&&a(p,ue),p=K.hasEagerState?K.eagerState:a(p,ue)}else X={lane:ue,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(T=M=X,b=p):M=M.next=X,ze.lanes|=ue,hs|=ue;K=K.next}while(K!==null&&K!==r);if(M===null?b=p:M.next=T,!Ln(p,t.memoizedState)&&(Ht=!0,oe&&(a=ao,a!==null)))throw a;t.memoizedState=p,t.baseState=b,t.baseQueue=M,c.lastRenderedState=p}return f===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function If(t){var r=Ot(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var c=a.dispatch,f=a.pending,p=r.memoizedState;if(f!==null){a.pending=null;var b=f=f.next;do p=t(p,b.action),b=b.next;while(b!==f);Ln(p,r.memoizedState)||(Ht=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),a.lastRenderedState=p}return[p,c]}function V0(t,r,a){var c=ze,f=Ot(),p=Qe;if(p){if(a===void 0)throw Error(s(407));a=a()}else a=r();var b=!Ln((ht||f).memoizedState,a);if(b&&(f.memoizedState=a,Ht=!0),f=f.queue,Of(P0.bind(null,c,f,t),[t]),f.getSnapshot!==r||b||Bt!==null&&Bt.memoizedState.tag&1){if(c.flags|=2048,fo(9,{destroy:void 0},U0.bind(null,c,f,a,r),null),gt===null)throw Error(s(349));p||(Ti&127)!==0||L0(c,r,a)}return a}function L0(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=ze.updateQueue,r===null?(r=Nu(),ze.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function U0(t,r,a,c){r.value=a,r.getSnapshot=c,B0(r)&&H0(t)}function P0(t,r,a){return a(function(){B0(r)&&H0(t)})}function B0(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Ln(t,a)}catch{return!0}}function H0(t){var r=da(t,2);r!==null&&jn(r,t,2)}function Df(t){var r=bn();if(typeof t=="function"){var a=t;if(t=a(),ba){Xn(!0);try{a()}finally{Xn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:t},r}function q0(t,r,a,c){return t.baseState=a,jf(t,ht,typeof c=="function"?c:Ai)}function NE(t,r,a,c,f){if(Uu(t))throw Error(s(485));if(t=r.action,t!==null){var p={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};P.T!==null?a(!0):p.isTransition=!1,c(p),a=r.pending,a===null?(p.next=r.pending=p,W0(r,p)):(p.next=a.next,r.pending=a.next=p)}}function W0(t,r){var a=r.action,c=r.payload,f=t.state;if(r.isTransition){var p=P.T,b={};P.T=b;try{var T=a(f,c),M=P.S;M!==null&&M(b,T),G0(t,r,T)}catch(K){kf(t,r,K)}finally{p!==null&&b.types!==null&&(p.types=b.types),P.T=p}}else try{p=a(f,c),G0(t,r,p)}catch(K){kf(t,r,K)}}function G0(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){Y0(t,r,c)},function(c){return kf(t,r,c)}):Y0(t,r,a)}function Y0(t,r,a){r.status="fulfilled",r.value=a,Q0(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,W0(t,a)))}function kf(t,r,a){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=a,Q0(r),r=r.next;while(r!==c)}t.action=null}function Q0(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function K0(t,r){return r}function $0(t,r){if(Qe){var a=gt.formState;if(a!==null){e:{var c=ze;if(Qe){if(xt){t:{for(var f=xt,p=ar;f.nodeType!==8;){if(!p){f=null;break t}if(f=lr(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){xt=lr(f.nextSibling),c=f.data==="F!";break e}}rs(c)}c=!1}c&&(r=a[0])}}return a=bn(),a.memoizedState=a.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:K0,lastRenderedState:r},a.queue=c,a=gy.bind(null,ze,c),c.dispatch=a,c=Df(!1),p=Vf.bind(null,ze,!1,c.queue),c=bn(),f={state:r,dispatch:null,action:t,pending:null},c.queue=f,a=NE.bind(null,ze,f,p,a),f.dispatch=a,c.memoizedState=t,[r,a,!1]}function X0(t){var r=Ot();return J0(r,ht,t)}function J0(t,r,a){if(r=jf(t,r,K0)[0],t=Fu(Ai)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Ol(r)}catch(b){throw b===oo?wu:b}else c=r;r=Ot();var f=r.queue,p=f.dispatch;return a!==r.memoizedState&&(ze.flags|=2048,fo(9,{destroy:void 0},zE.bind(null,f,a),null)),[c,p,t]}function zE(t,r){t.action=r}function Z0(t){var r=Ot(),a=ht;if(a!==null)return J0(r,a,t);Ot(),r=r.memoizedState,a=Ot();var c=a.queue.dispatch;return a.memoizedState=t,[r,c,!1]}function fo(t,r,a,c){return t={tag:t,create:a,deps:c,inst:r,next:null},r=ze.updateQueue,r===null&&(r=Nu(),ze.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(c=a.next,a.next=t,t.next=c,r.lastEffect=t),t}function ey(){return Ot().memoizedState}function Vu(t,r,a,c){var f=bn();ze.flags|=t,f.memoizedState=fo(1|r,{destroy:void 0},a,c===void 0?null:c)}function Lu(t,r,a,c){var f=Ot();c=c===void 0?null:c;var p=f.memoizedState.inst;ht!==null&&c!==null&&Sf(c,ht.memoizedState.deps)?f.memoizedState=fo(r,p,a,c):(ze.flags|=t,f.memoizedState=fo(1|r,p,a,c))}function ty(t,r){Vu(8390656,8,t,r)}function Of(t,r){Lu(2048,8,t,r)}function FE(t){ze.flags|=4;var r=ze.updateQueue;if(r===null)r=Nu(),ze.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function ny(t){var r=Ot().memoizedState;return FE({ref:r,nextImpl:t}),function(){if((rt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function ry(t,r){return Lu(4,2,t,r)}function iy(t,r){return Lu(4,4,t,r)}function sy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function ay(t,r,a){a=a!=null?a.concat([t]):null,Lu(4,4,sy.bind(null,r,t),a)}function Mf(){}function oy(t,r){var a=Ot();r=r===void 0?null:r;var c=a.memoizedState;return r!==null&&Sf(r,c[1])?c[0]:(a.memoizedState=[t,r],t)}function ly(t,r){var a=Ot();r=r===void 0?null:r;var c=a.memoizedState;if(r!==null&&Sf(r,c[1]))return c[0];if(c=t(),ba){Xn(!0);try{t()}finally{Xn(!1)}}return a.memoizedState=[c,r],c}function Nf(t,r,a){return a===void 0||(Ti&1073741824)!==0&&(He&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=cx(),ze.lanes|=t,hs|=t,a)}function cy(t,r,a,c){return Ln(a,r)?a:co.current!==null?(t=Nf(t,a,c),Ln(t,r)||(Ht=!0),t):(Ti&42)===0||(Ti&1073741824)!==0&&(He&261930)===0?(Ht=!0,t.memoizedState=a):(t=cx(),ze.lanes|=t,hs|=t,r)}function uy(t,r,a,c,f){var p=he.p;he.p=p!==0&&8>p?p:8;var b=P.T,T={};P.T=T,Vf(t,!1,r,a);try{var M=f(),K=P.S;if(K!==null&&K(T,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var oe=kE(M,c);Ml(t,r,oe,Wn(t))}else Ml(t,r,c,Wn(t))}catch(ue){Ml(t,r,{then:function(){},status:"rejected",reason:ue},Wn())}finally{he.p=p,b!==null&&T.types!==null&&(b.types=T.types),P.T=b}}function VE(){}function zf(t,r,a,c){if(t.tag!==5)throw Error(s(476));var f=dy(t).queue;uy(t,f,r,ye,a===null?VE:function(){return hy(t),a(c)})}function dy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:ye},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function hy(t){var r=dy(t);r.next===null&&(r=t.alternate.memoizedState),Ml(t,r.next.queue,{},Wn())}function Ff(){return on(Xl)}function fy(){return Ot().memoizedState}function py(){return Ot().memoizedState}function LE(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Wn();t=as(a);var c=os(r,t,a);c!==null&&(jn(c,r,a),jl(c,r,a)),r={cache:hf()},t.payload=r;return}r=r.return}}function UE(t,r,a){var c=Wn();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Uu(t)?my(r,a):(a=ef(t,r,a,c),a!==null&&(jn(a,t,c),yy(a,r,c)))}function gy(t,r,a){var c=Wn();Ml(t,r,a,c)}function Ml(t,r,a,c){var f={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Uu(t))my(r,f);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var b=r.lastRenderedState,T=p(b,a);if(f.hasEagerState=!0,f.eagerState=T,Ln(T,b))return bu(t,r,f,0),gt===null&&vu(),!1}catch{}finally{}if(a=ef(t,r,f,c),a!==null)return jn(a,t,c),yy(a,r,c),!0}return!1}function Vf(t,r,a,c){if(c={lane:2,revertLane:mp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Uu(t)){if(r)throw Error(s(479))}else r=ef(t,a,c,2),r!==null&&jn(r,t,2)}function Uu(t){var r=t.alternate;return t===ze||r!==null&&r===ze}function my(t,r){uo=Ou=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function yy(t,r,a){if((a&4194048)!==0){var c=r.lanes;c&=t.pendingLanes,a|=c,r.lanes=a,nl(t,a)}}var Nl={readContext:on,use:zu,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};Nl.useEffectEvent=At;var xy={readContext:on,use:zu,useCallback:function(t,r){return bn().memoizedState=[t,r===void 0?null:r],t},useContext:on,useEffect:ty,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Vu(4194308,4,sy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Vu(4194308,4,t,r)},useInsertionEffect:function(t,r){Vu(4,2,t,r)},useMemo:function(t,r){var a=bn();r=r===void 0?null:r;var c=t();if(ba){Xn(!0);try{t()}finally{Xn(!1)}}return a.memoizedState=[c,r],c},useReducer:function(t,r,a){var c=bn();if(a!==void 0){var f=a(r);if(ba){Xn(!0);try{a(r)}finally{Xn(!1)}}}else f=r;return c.memoizedState=c.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},c.queue=t,t=t.dispatch=UE.bind(null,ze,t),[c.memoizedState,t]},useRef:function(t){var r=bn();return t={current:t},r.memoizedState=t},useState:function(t){t=Df(t);var r=t.queue,a=gy.bind(null,ze,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Mf,useDeferredValue:function(t,r){var a=bn();return Nf(a,t,r)},useTransition:function(){var t=Df(!1);return t=uy.bind(null,ze,t.queue,!0,!1),bn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var c=ze,f=bn();if(Qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),gt===null)throw Error(s(349));(He&127)!==0||L0(c,r,a)}f.memoizedState=a;var p={value:a,getSnapshot:r};return f.queue=p,ty(P0.bind(null,c,p,t),[t]),c.flags|=2048,fo(9,{destroy:void 0},U0.bind(null,c,p,a,r),null),a},useId:function(){var t=bn(),r=gt.identifierPrefix;if(Qe){var a=Zr,c=Jr;a=(c&~(1<<32-It(c)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Mu++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=OE++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Ff,useFormState:$0,useActionState:$0,useOptimistic:function(t){var r=bn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Vf.bind(null,ze,!0,a),a.dispatch=r,[t,r]},useMemoCache:Rf,useCacheRefresh:function(){return bn().memoizedState=LE.bind(null,ze)},useEffectEvent:function(t){var r=bn(),a={impl:t};return r.memoizedState=a,function(){if((rt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Lf={readContext:on,use:zu,useCallback:oy,useContext:on,useEffect:Of,useImperativeHandle:ay,useInsertionEffect:ry,useLayoutEffect:iy,useMemo:ly,useReducer:Fu,useRef:ey,useState:function(){return Fu(Ai)},useDebugValue:Mf,useDeferredValue:function(t,r){var a=Ot();return cy(a,ht.memoizedState,t,r)},useTransition:function(){var t=Fu(Ai)[0],r=Ot().memoizedState;return[typeof t=="boolean"?t:Ol(t),r]},useSyncExternalStore:V0,useId:fy,useHostTransitionStatus:Ff,useFormState:X0,useActionState:X0,useOptimistic:function(t,r){var a=Ot();return q0(a,ht,t,r)},useMemoCache:Rf,useCacheRefresh:py};Lf.useEffectEvent=ny;var vy={readContext:on,use:zu,useCallback:oy,useContext:on,useEffect:Of,useImperativeHandle:ay,useInsertionEffect:ry,useLayoutEffect:iy,useMemo:ly,useReducer:If,useRef:ey,useState:function(){return If(Ai)},useDebugValue:Mf,useDeferredValue:function(t,r){var a=Ot();return ht===null?Nf(a,t,r):cy(a,ht.memoizedState,t,r)},useTransition:function(){var t=If(Ai)[0],r=Ot().memoizedState;return[typeof t=="boolean"?t:Ol(t),r]},useSyncExternalStore:V0,useId:fy,useHostTransitionStatus:Ff,useFormState:Z0,useActionState:Z0,useOptimistic:function(t,r){var a=Ot();return ht!==null?q0(a,ht,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Rf,useCacheRefresh:py};vy.useEffectEvent=ny;function Uf(t,r,a,c){r=t.memoizedState,a=a(c,r),a=a==null?r:S({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Pf={enqueueSetState:function(t,r,a){t=t._reactInternals;var c=Wn(),f=as(c);f.payload=r,a!=null&&(f.callback=a),r=os(t,f,c),r!==null&&(jn(r,t,c),jl(r,t,c))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var c=Wn(),f=as(c);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=os(t,f,c),r!==null&&(jn(r,t,c),jl(r,t,c))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Wn(),c=as(a);c.tag=2,r!=null&&(c.callback=r),r=os(t,c,a),r!==null&&(jn(r,t,a),jl(r,t,a))}};function by(t,r,a,c,f,p,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,p,b):r.prototype&&r.prototype.isPureReactComponent?!_l(a,c)||!_l(f,p):!0}function _y(t,r,a,c){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,c),r.state!==t&&Pf.enqueueReplaceState(r,r.state,null)}function _a(t,r){var a=r;if("ref"in r){a={};for(var c in r)c!=="ref"&&(a[c]=r[c])}if(t=t.defaultProps){a===r&&(a=S({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function Ey(t){xu(t)}function Sy(t){console.error(t)}function Ty(t){xu(t)}function Pu(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function Ay(t,r,a){try{var c=t.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Bf(t,r,a){return a=as(a),a.tag=3,a.payload={element:null},a.callback=function(){Pu(t,r)},a}function Cy(t){return t=as(t),t.tag=3,t}function wy(t,r,a,c){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=c.value;t.payload=function(){return f(p)},t.callback=function(){Ay(r,a,c)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){Ay(r,a,c),typeof f!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})})}function PE(t,r,a,c,f){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=a.alternate,r!==null&&io(r,a,f,!0),a=Pn.current,a!==null){switch(a.tag){case 31:case 13:return or===null?Zu():a.alternate===null&&Ct===0&&(Ct=3),a.flags&=-257,a.flags|=65536,a.lanes=f,c===Ru?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([c]):r.add(c),fp(t,c,f)),!1;case 22:return a.flags|=65536,c===Ru?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([c]):a.add(c)),fp(t,c,f)),!1}throw Error(s(435,a.tag))}return fp(t,c,f),Zu(),!1}if(Qe)return r=Pn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,c!==of&&(t=Error(s(422),{cause:c}),Tl(rr(t,a)))):(c!==of&&(r=Error(s(423),{cause:c}),Tl(rr(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,c=rr(c,a),f=Bf(t.stateNode,c,f),xf(t,f),Ct!==4&&(Ct=2)),!1;var p=Error(s(520),{cause:c});if(p=rr(p,a),Hl===null?Hl=[p]:Hl.push(p),Ct!==4&&(Ct=2),r===null)return!0;c=rr(c,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Bf(a.stateNode,c,t),xf(a,t),!1;case 1:if(r=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(fs===null||!fs.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Cy(f),wy(f,t,a,c),xf(a,f),!1}a=a.return}while(a!==null);return!1}var Hf=Error(s(461)),Ht=!1;function ln(t,r,a,c){r.child=t===null?D0(r,null,a,c):va(r,t.child,a,c)}function Ry(t,r,a,c,f){a=a.render;var p=r.ref;if("ref"in c){var b={};for(var T in c)T!=="ref"&&(b[T]=c[T])}else b=c;return ga(r),c=Tf(t,r,a,b,p,f),T=Af(),t!==null&&!Ht?(Cf(t,r,f),Ci(t,r,f)):(Qe&&T&&sf(r),r.flags|=1,ln(t,r,c,f),r.child)}function jy(t,r,a,c,f){if(t===null){var p=a.type;return typeof p=="function"&&!tf(p)&&p.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=p,Iy(t,r,p,c,f)):(t=Eu(a.type,null,c,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!Xf(t,f)){var b=p.memoizedProps;if(a=a.compare,a=a!==null?a:_l,a(b,c)&&t.ref===r.ref)return Ci(t,r,f)}return r.flags|=1,t=bi(p,c),t.ref=r.ref,t.return=r,r.child=t}function Iy(t,r,a,c,f){if(t!==null){var p=t.memoizedProps;if(_l(p,c)&&t.ref===r.ref)if(Ht=!1,r.pendingProps=c=p,Xf(t,f))(t.flags&131072)!==0&&(Ht=!0);else return r.lanes=t.lanes,Ci(t,r,f)}return qf(t,r,a,c,f)}function Dy(t,r,a,c){var f=c.children,p=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|a:a,t!==null){for(c=r.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~p}else c=0,r.child=null;return ky(t,r,p,a,c)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Cu(r,p!==null?p.cachePool:null),p!==null?M0(r,p):bf(),N0(r);else return c=r.lanes=536870912,ky(t,r,p!==null?p.baseLanes|a:a,a,c)}else p!==null?(Cu(r,p.cachePool),M0(r,p),cs(),r.memoizedState=null):(t!==null&&Cu(r,null),bf(),cs());return ln(t,r,f,a),r.child}function zl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function ky(t,r,a,c,f){var p=pf();return p=p===null?null:{parent:Pt._currentValue,pool:p},r.memoizedState={baseLanes:a,cachePool:p},t!==null&&Cu(r,null),bf(),N0(r),t!==null&&io(t,r,c,!0),r.childLanes=f,null}function Bu(t,r){return r=qu({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function Oy(t,r,a){return va(r,t.child,null,a),t=Bu(r,r.pendingProps),t.flags|=2,Bn(r),r.memoizedState=null,t}function BE(t,r,a){var c=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Qe){if(c.mode==="hidden")return t=Bu(r,c),r.lanes=536870912,zl(null,t);if(Ef(r),(t=xt)?(t=Wx(t,ar),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:ts!==null?{id:Jr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},a=m0(t),a.return=r,r.child=a,an=r,xt=null)):t=null,t===null)throw rs(r);return r.lanes=536870912,null}return Bu(r,c)}var p=t.memoizedState;if(p!==null){var b=p.dehydrated;if(Ef(r),f)if(r.flags&256)r.flags&=-257,r=Oy(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ht||io(t,r,a,!1),f=(a&t.childLanes)!==0,Ht||f){if(c=gt,c!==null&&(b=rl(c,a),b!==0&&b!==p.retryLane))throw p.retryLane=b,da(t,b),jn(c,t,b),Hf;Zu(),r=Oy(t,r,a)}else t=p.treeContext,xt=lr(b.nextSibling),an=r,Qe=!0,ns=null,ar=!1,t!==null&&v0(r,t),r=Bu(r,c),r.flags|=4096;return r}return t=bi(t.child,{mode:c.mode,children:c.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Hu(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function qf(t,r,a,c,f){return ga(r),a=Tf(t,r,a,c,void 0,f),c=Af(),t!==null&&!Ht?(Cf(t,r,f),Ci(t,r,f)):(Qe&&c&&sf(r),r.flags|=1,ln(t,r,a,f),r.child)}function My(t,r,a,c,f,p){return ga(r),r.updateQueue=null,a=F0(r,c,a,f),z0(t),c=Af(),t!==null&&!Ht?(Cf(t,r,p),Ci(t,r,p)):(Qe&&c&&sf(r),r.flags|=1,ln(t,r,a,p),r.child)}function Ny(t,r,a,c,f){if(ga(r),r.stateNode===null){var p=eo,b=a.contextType;typeof b=="object"&&b!==null&&(p=on(b)),p=new a(c,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Pf,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=c,p.state=r.memoizedState,p.refs={},mf(r),b=a.contextType,p.context=typeof b=="object"&&b!==null?on(b):eo,p.state=r.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(Uf(r,a,b,c),p.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&Pf.enqueueReplaceState(p,p.state,null),Dl(r,c,p,f),Il(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(t===null){p=r.stateNode;var T=r.memoizedProps,M=_a(a,T);p.props=M;var K=p.context,oe=a.contextType;b=eo,typeof oe=="object"&&oe!==null&&(b=on(oe));var ue=a.getDerivedStateFromProps;oe=typeof ue=="function"||typeof p.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,oe||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T||K!==b)&&_y(r,p,c,b),ss=!1;var X=r.memoizedState;p.state=X,Dl(r,c,p,f),Il(),K=r.memoizedState,T||X!==K||ss?(typeof ue=="function"&&(Uf(r,a,ue,c),K=r.memoizedState),(M=ss||by(r,a,M,c,X,K,b))?(oe||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=K),p.props=c,p.state=K,p.context=b,c=M):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{p=r.stateNode,yf(t,r),b=r.memoizedProps,oe=_a(a,b),p.props=oe,ue=r.pendingProps,X=p.context,K=a.contextType,M=eo,typeof K=="object"&&K!==null&&(M=on(K)),T=a.getDerivedStateFromProps,(K=typeof T=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==ue||X!==M)&&_y(r,p,c,M),ss=!1,X=r.memoizedState,p.state=X,Dl(r,c,p,f),Il();var ne=r.memoizedState;b!==ue||X!==ne||ss||t!==null&&t.dependencies!==null&&Tu(t.dependencies)?(typeof T=="function"&&(Uf(r,a,T,c),ne=r.memoizedState),(oe=ss||by(r,a,oe,c,X,ne,M)||t!==null&&t.dependencies!==null&&Tu(t.dependencies))?(K||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,ne,M),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,ne,M)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===t.memoizedProps&&X===t.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&X===t.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=ne),p.props=c,p.state=ne,p.context=M,c=oe):(typeof p.componentDidUpdate!="function"||b===t.memoizedProps&&X===t.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&X===t.memoizedState||(r.flags|=1024),c=!1)}return p=c,Hu(t,r),c=(r.flags&128)!==0,p||c?(p=r.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,t!==null&&c?(r.child=va(r,t.child,null,f),r.child=va(r,null,a,f)):ln(t,r,a,f),r.memoizedState=p.state,t=r.child):t=Ci(t,r,f),t}function zy(t,r,a,c){return fa(),r.flags|=256,ln(t,r,a,c),r.child}var Wf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(t){return{baseLanes:t,cachePool:A0()}}function Yf(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=qn),t}function Fy(t,r,a){var c=r.pendingProps,f=!1,p=(r.flags&128)!==0,b;if((b=p)||(b=t!==null&&t.memoizedState===null?!1:(kt.current&2)!==0),b&&(f=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,t===null){if(Qe){if(f?ls(r):cs(),(t=xt)?(t=Wx(t,ar),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:ts!==null?{id:Jr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},a=m0(t),a.return=r,r.child=a,an=r,xt=null)):t=null,t===null)throw rs(r);return jp(t)?r.lanes=32:r.lanes=536870912,null}var T=c.children;return c=c.fallback,f?(cs(),f=r.mode,T=qu({mode:"hidden",children:T},f),c=ha(c,f,a,null),T.return=r,c.return=r,T.sibling=c,r.child=T,c=r.child,c.memoizedState=Gf(a),c.childLanes=Yf(t,b,a),r.memoizedState=Wf,zl(null,c)):(ls(r),Qf(r,T))}var M=t.memoizedState;if(M!==null&&(T=M.dehydrated,T!==null)){if(p)r.flags&256?(ls(r),r.flags&=-257,r=Kf(t,r,a)):r.memoizedState!==null?(cs(),r.child=t.child,r.flags|=128,r=null):(cs(),T=c.fallback,f=r.mode,c=qu({mode:"visible",children:c.children},f),T=ha(T,f,a,null),T.flags|=2,c.return=r,T.return=r,c.sibling=T,r.child=c,va(r,t.child,null,a),c=r.child,c.memoizedState=Gf(a),c.childLanes=Yf(t,b,a),r.memoizedState=Wf,r=zl(null,c));else if(ls(r),jp(T)){if(b=T.nextSibling&&T.nextSibling.dataset,b)var K=b.dgst;b=K,c=Error(s(419)),c.stack="",c.digest=b,Tl({value:c,source:null,stack:null}),r=Kf(t,r,a)}else if(Ht||io(t,r,a,!1),b=(a&t.childLanes)!==0,Ht||b){if(b=gt,b!==null&&(c=rl(b,a),c!==0&&c!==M.retryLane))throw M.retryLane=c,da(t,c),jn(b,t,c),Hf;Rp(T)||Zu(),r=Kf(t,r,a)}else Rp(T)?(r.flags|=192,r.child=t.child,r=null):(t=M.treeContext,xt=lr(T.nextSibling),an=r,Qe=!0,ns=null,ar=!1,t!==null&&v0(r,t),r=Qf(r,c.children),r.flags|=4096);return r}return f?(cs(),T=c.fallback,f=r.mode,M=t.child,K=M.sibling,c=bi(M,{mode:"hidden",children:c.children}),c.subtreeFlags=M.subtreeFlags&65011712,K!==null?T=bi(K,T):(T=ha(T,f,a,null),T.flags|=2),T.return=r,c.return=r,c.sibling=T,r.child=c,zl(null,c),c=r.child,T=t.child.memoizedState,T===null?T=Gf(a):(f=T.cachePool,f!==null?(M=Pt._currentValue,f=f.parent!==M?{parent:M,pool:M}:f):f=A0(),T={baseLanes:T.baseLanes|a,cachePool:f}),c.memoizedState=T,c.childLanes=Yf(t,b,a),r.memoizedState=Wf,zl(t.child,c)):(ls(r),a=t.child,t=a.sibling,a=bi(a,{mode:"visible",children:c.children}),a.return=r,a.sibling=null,t!==null&&(b=r.deletions,b===null?(r.deletions=[t],r.flags|=16):b.push(t)),r.child=a,r.memoizedState=null,a)}function Qf(t,r){return r=qu({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function qu(t,r){return t=Un(22,t,null,r),t.lanes=0,t}function Kf(t,r,a){return va(r,t.child,null,a),t=Qf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Vy(t,r,a){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r),uf(t.return,r,a)}function $f(t,r,a,c,f,p){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f,treeForkCount:p}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=a,b.tailMode=f,b.treeForkCount=p)}function Ly(t,r,a){var c=r.pendingProps,f=c.revealOrder,p=c.tail;c=c.children;var b=kt.current,T=(b&2)!==0;if(T?(b=b&1|2,r.flags|=128):b&=1,H(kt,b),ln(t,r,c,a),c=Qe?Sl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vy(t,a,r);else if(t.tag===19)Vy(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&ku(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),$f(r,!1,f,a,p,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&ku(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}$f(r,!0,a,null,p,c);break;case"together":$f(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function Ci(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),hs|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(io(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=bi(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=bi(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Xf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Tu(t)))}function HE(t,r,a){switch(r.tag){case 3:Be(r,r.stateNode.containerInfo),is(r,Pt,t.memoizedState.cache),fa();break;case 27:case 5:zt(r);break;case 4:Be(r,r.stateNode.containerInfo);break;case 10:is(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Ef(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(ls(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Fy(t,r,a):(ls(r),t=Ci(t,r,a),t!==null?t.sibling:null);ls(r);break;case 19:var f=(t.flags&128)!==0;if(c=(a&r.childLanes)!==0,c||(io(t,r,a,!1),c=(a&r.childLanes)!==0),f){if(c)return Ly(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),H(kt,kt.current),c)break;return null;case 22:return r.lanes=0,Dy(t,r,a,r.pendingProps);case 24:is(r,Pt,t.memoizedState.cache)}return Ci(t,r,a)}function Uy(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Ht=!0;else{if(!Xf(t,a)&&(r.flags&128)===0)return Ht=!1,HE(t,r,a);Ht=(t.flags&131072)!==0}else Ht=!1,Qe&&(r.flags&1048576)!==0&&x0(r,Sl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(t=ya(r.elementType),r.type=t,typeof t=="function")tf(t)?(c=_a(t,c),r.tag=1,r=Ny(null,r,t,c,a)):(r.tag=0,r=qf(null,r,t,c,a));else{if(t!=null){var f=t.$$typeof;if(f===se){r.tag=11,r=Ry(null,r,t,c,a);break e}else if(f===I){r.tag=14,r=jy(null,r,t,c,a);break e}}throw r=ve(t)||t,Error(s(306,r,""))}}return r;case 0:return qf(t,r,r.type,r.pendingProps,a);case 1:return c=r.type,f=_a(c,r.pendingProps),Ny(t,r,c,f,a);case 3:e:{if(Be(r,r.stateNode.containerInfo),t===null)throw Error(s(387));c=r.pendingProps;var p=r.memoizedState;f=p.element,yf(t,r),Dl(r,c,null,a);var b=r.memoizedState;if(c=b.cache,is(r,Pt,c),c!==p.cache&&df(r,[Pt],a,!0),Il(),c=b.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=zy(t,r,c,a);break e}else if(c!==f){f=rr(Error(s(424)),r),Tl(f),r=zy(t,r,c,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(xt=lr(t.firstChild),an=r,Qe=!0,ns=null,ar=!0,a=D0(r,null,c,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(fa(),c===f){r=Ci(t,r,a);break e}ln(t,r,c,a)}r=r.child}return r;case 26:return Hu(t,r),t===null?(a=Xx(r.type,null,r.pendingProps,null))?r.memoizedState=a:Qe||(a=r.type,t=r.pendingProps,c=ad(J.current).createElement(a),c[Vt]=r,c[Zt]=t,cn(c,a,t),Lt(c),r.stateNode=c):r.memoizedState=Xx(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return zt(r),t===null&&Qe&&(c=r.stateNode=Qx(r.type,r.pendingProps,J.current),an=r,ar=!0,f=xt,ys(r.type)?(Ip=f,xt=lr(c.firstChild)):xt=f),ln(t,r,r.pendingProps.children,a),Hu(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Qe&&((f=c=xt)&&(c=vS(c,r.type,r.pendingProps,ar),c!==null?(r.stateNode=c,an=r,xt=lr(c.firstChild),ar=!1,f=!0):f=!1),f||rs(r)),zt(r),f=r.type,p=r.pendingProps,b=t!==null?t.memoizedProps:null,c=p.children,Ap(f,p)?c=null:b!==null&&Ap(f,b)&&(r.flags|=32),r.memoizedState!==null&&(f=Tf(t,r,ME,null,null,a),Xl._currentValue=f),Hu(t,r),ln(t,r,c,a),r.child;case 6:return t===null&&Qe&&((t=a=xt)&&(a=bS(a,r.pendingProps,ar),a!==null?(r.stateNode=a,an=r,xt=null,t=!0):t=!1),t||rs(r)),null;case 13:return Fy(t,r,a);case 4:return Be(r,r.stateNode.containerInfo),c=r.pendingProps,t===null?r.child=va(r,null,c,a):ln(t,r,c,a),r.child;case 11:return Ry(t,r,r.type,r.pendingProps,a);case 7:return ln(t,r,r.pendingProps,a),r.child;case 8:return ln(t,r,r.pendingProps.children,a),r.child;case 12:return ln(t,r,r.pendingProps.children,a),r.child;case 10:return c=r.pendingProps,is(r,r.type,c.value),ln(t,r,c.children,a),r.child;case 9:return f=r.type._context,c=r.pendingProps.children,ga(r),f=on(f),c=c(f),r.flags|=1,ln(t,r,c,a),r.child;case 14:return jy(t,r,r.type,r.pendingProps,a);case 15:return Iy(t,r,r.type,r.pendingProps,a);case 19:return Ly(t,r,a);case 31:return BE(t,r,a);case 22:return Dy(t,r,a,r.pendingProps);case 24:return ga(r),c=on(Pt),t===null?(f=pf(),f===null&&(f=gt,p=hf(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),r.memoizedState={parent:c,cache:f},mf(r),is(r,Pt,f)):((t.lanes&a)!==0&&(yf(t,r),Dl(r,null,null,a),Il()),f=t.memoizedState,p=r.memoizedState,f.parent!==c?(f={parent:c,cache:c},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),is(r,Pt,c)):(c=p.cache,is(r,Pt,c),c!==f.cache&&df(r,[Pt],a,!0))),ln(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function wi(t){t.flags|=4}function Jf(t,r,a,c,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(fx())t.flags|=8192;else throw xa=Ru,gf}else t.flags&=-16777217}function Py(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!n1(r))if(fx())t.flags|=8192;else throw xa=Ru,gf}function Wu(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Xc():536870912,t.lanes|=r,yo|=r)}function Fl(t,r){if(!Qe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function vt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,c=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=c,t.childLanes=a,r}function qE(t,r,a){var c=r.pendingProps;switch(af(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(r),null;case 1:return vt(r),null;case 3:return a=r.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Si(Pt),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ro(r)?wi(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,lf())),vt(r),null;case 26:var f=r.type,p=r.memoizedState;return t===null?(wi(r),p!==null?(vt(r),Py(r,p)):(vt(r),Jf(r,f,null,c,a))):p?p!==t.memoizedState?(wi(r),vt(r),Py(r,p)):(vt(r),r.flags&=-16777217):(t=t.memoizedProps,t!==c&&wi(r),vt(r),Jf(r,f,t,c,a)),null;case 27:if(at(r),a=J.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==c&&wi(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return vt(r),null}t=N.current,ro(r)?b0(r):(t=Qx(f,c,a),r.stateNode=t,wi(r))}return vt(r),null;case 5:if(at(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==c&&wi(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return vt(r),null}if(p=N.current,ro(r))b0(r);else{var b=ad(J.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?p.multiple=!0:c.size&&(p.size=c.size);break;default:p=typeof c.is=="string"?b.createElement(f,{is:c.is}):b.createElement(f)}}p[Vt]=r,p[Zt]=c;e:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break e;for(;b.sibling===null;){if(b.return===null||b.return===r)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=p;e:switch(cn(p,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&wi(r)}}return vt(r),Jf(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==c&&wi(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(t=J.current,ro(r)){if(t=r.stateNode,a=r.memoizedProps,c=null,f=an,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}t[Vt]=r,t=!!(t.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||Fx(t.nodeValue,a)),t||rs(r,!0)}else t=ad(t).createTextNode(c),t[Vt]=r,r.stateNode=t}return vt(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(c=ro(r),a!==null){if(t===null){if(!c)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Vt]=r}else fa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;vt(r),t=!1}else a=lf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(Bn(r),r):(Bn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return vt(r),null;case 13:if(c=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=ro(r),c!==null&&c.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Vt]=r}else fa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;vt(r),f=!1}else f=lf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Bn(r),r):(Bn(r),null)}return Bn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=c!==null,t=t!==null&&t.memoizedState!==null,a&&(c=r.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==f&&(c.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Wu(r,r.updateQueue),vt(r),null);case 4:return st(),t===null&&bp(r.stateNode.containerInfo),vt(r),null;case 10:return Si(r.type),vt(r),null;case 19:if(R(kt),c=r.memoizedState,c===null)return vt(r),null;if(f=(r.flags&128)!==0,p=c.rendering,p===null)if(f)Fl(c,!1);else{if(Ct!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(p=ku(t),p!==null){for(r.flags|=128,Fl(c,!1),t=p.updateQueue,r.updateQueue=t,Wu(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)g0(a,t),a=a.sibling;return H(kt,kt.current&1|2),Qe&&_i(r,c.treeForkCount),r.child}t=t.sibling}c.tail!==null&&Jt()>$u&&(r.flags|=128,f=!0,Fl(c,!1),r.lanes=4194304)}else{if(!f)if(t=ku(p),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,Wu(r,t),Fl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!Qe)return vt(r),null}else 2*Jt()-c.renderingStartTime>$u&&a!==536870912&&(r.flags|=128,f=!0,Fl(c,!1),r.lanes=4194304);c.isBackwards?(p.sibling=r.child,r.child=p):(t=c.last,t!==null?t.sibling=p:r.child=p,c.last=p)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Jt(),t.sibling=null,a=kt.current,H(kt,f?a&1|2:a&1),Qe&&_i(r,c.treeForkCount),t):(vt(r),null);case 22:case 23:return Bn(r),_f(),c=r.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(a&536870912)!==0&&(r.flags&128)===0&&(vt(r),r.subtreeFlags&6&&(r.flags|=8192)):vt(r),a=r.updateQueue,a!==null&&Wu(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==a&&(r.flags|=2048),t!==null&&R(ma),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Si(Pt),vt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function WE(t,r){switch(af(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Si(Pt),st(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return at(r),null;case 31:if(r.memoizedState!==null){if(Bn(r),r.alternate===null)throw Error(s(340));fa()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Bn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));fa()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return R(kt),null;case 4:return st(),null;case 10:return Si(r.type),null;case 22:case 23:return Bn(r),_f(),t!==null&&R(ma),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Si(Pt),null;case 25:return null;default:return null}}function By(t,r){switch(af(r),r.tag){case 3:Si(Pt),st();break;case 26:case 27:case 5:at(r);break;case 4:st();break;case 31:r.memoizedState!==null&&Bn(r);break;case 13:Bn(r);break;case 19:R(kt);break;case 10:Si(r.type);break;case 22:case 23:Bn(r),_f(),t!==null&&R(ma);break;case 24:Si(Pt)}}function Vl(t,r){try{var a=r.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var f=c.next;a=f;do{if((a.tag&t)===t){c=void 0;var p=a.create,b=a.inst;c=p(),b.destroy=c}a=a.next}while(a!==f)}}catch(T){ut(r,r.return,T)}}function us(t,r,a){try{var c=r.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var p=f.next;c=p;do{if((c.tag&t)===t){var b=c.inst,T=b.destroy;if(T!==void 0){b.destroy=void 0,f=r;var M=a,K=T;try{K()}catch(oe){ut(f,M,oe)}}}c=c.next}while(c!==p)}}catch(oe){ut(r,r.return,oe)}}function Hy(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{O0(r,a)}catch(c){ut(t,t.return,c)}}}function qy(t,r,a){a.props=_a(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(c){ut(t,r,c)}}function Ll(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof a=="function"?t.refCleanup=a(c):a.current=c}}catch(f){ut(t,r,f)}}function ei(t,r){var a=t.ref,c=t.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(f){ut(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ut(t,r,f)}else a.current=null}function Wy(t){var r=t.type,a=t.memoizedProps,c=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(f){ut(t,t.return,f)}}function Zf(t,r,a){try{var c=t.stateNode;fS(c,t.type,a,r),c[Zt]=r}catch(f){ut(t,t.return,f)}}function Gy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ys(t.type)||t.tag===4}function ep(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Gy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ys(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tp(t,r,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=br));else if(c!==4&&(c===27&&ys(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(tp(t,r,a),t=t.sibling;t!==null;)tp(t,r,a),t=t.sibling}function Gu(t,r,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(c!==4&&(c===27&&ys(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Gu(t,r,a),t=t.sibling;t!==null;)Gu(t,r,a),t=t.sibling}function Yy(t){var r=t.stateNode,a=t.memoizedProps;try{for(var c=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);cn(r,c,a),r[Vt]=t,r[Zt]=a}catch(p){ut(t,t.return,p)}}var Ri=!1,qt=!1,np=!1,Qy=typeof WeakSet=="function"?WeakSet:Set,tn=null;function GE(t,r){if(t=t.containerInfo,Sp=fd,t=a0(t),Qh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var b=0,T=-1,M=-1,K=0,oe=0,ue=t,X=null;t:for(;;){for(var ne;ue!==a||f!==0&&ue.nodeType!==3||(T=b+f),ue!==p||c!==0&&ue.nodeType!==3||(M=b+c),ue.nodeType===3&&(b+=ue.nodeValue.length),(ne=ue.firstChild)!==null;)X=ue,ue=ne;for(;;){if(ue===t)break t;if(X===a&&++K===f&&(T=b),X===p&&++oe===c&&(M=b),(ne=ue.nextSibling)!==null)break;ue=X,X=ue.parentNode}ue=ne}a=T===-1||M===-1?null:{start:T,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(Tp={focusedElem:t,selectionRange:a},fd=!1,tn=r;tn!==null;)if(r=tn,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,tn=t;else for(;tn!==null;){switch(r=tn,p=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,a=r,f=p.memoizedProps,p=p.memoizedState,c=a.stateNode;try{var Se=_a(a.type,f);t=c.getSnapshotBeforeUpdate(Se,p),c.__reactInternalSnapshotBeforeUpdate=t}catch(je){ut(a,a.return,je)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)wp(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":wp(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,tn=t;break}tn=r.return}}function Ky(t,r,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Ii(t,a),c&4&&Vl(5,a);break;case 1:if(Ii(t,a),c&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(b){ut(a,a.return,b)}else{var f=_a(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(b){ut(a,a.return,b)}}c&64&&Hy(a),c&512&&Ll(a,a.return);break;case 3:if(Ii(t,a),c&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{O0(t,r)}catch(b){ut(a,a.return,b)}}break;case 27:r===null&&c&4&&Yy(a);case 26:case 5:Ii(t,a),r===null&&c&4&&Wy(a),c&512&&Ll(a,a.return);break;case 12:Ii(t,a);break;case 31:Ii(t,a),c&4&&Jy(t,a);break;case 13:Ii(t,a),c&4&&Zy(t,a),c&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=tS.bind(null,a),_S(t,a))));break;case 22:if(c=a.memoizedState!==null||Ri,!c){r=r!==null&&r.memoizedState!==null||qt,f=Ri;var p=qt;Ri=c,(qt=r)&&!p?Di(t,a,(a.subtreeFlags&8772)!==0):Ii(t,a),Ri=f,qt=p}break;case 30:break;default:Ii(t,a)}}function $y(t){var r=t.alternate;r!==null&&(t.alternate=null,$y(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Ua(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Et=null,An=!1;function ji(t,r,a){for(a=a.child;a!==null;)Xy(t,r,a),a=a.sibling}function Xy(t,r,a){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(mr,a)}catch{}switch(a.tag){case 26:qt||ei(a,r),ji(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:qt||ei(a,r);var c=Et,f=An;ys(a.type)&&(Et=a.stateNode,An=!1),ji(t,r,a),Ql(a.stateNode),Et=c,An=f;break;case 5:qt||ei(a,r);case 6:if(c=Et,f=An,Et=null,ji(t,r,a),Et=c,An=f,Et!==null)if(An)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(a.stateNode)}catch(p){ut(a,r,p)}else try{Et.removeChild(a.stateNode)}catch(p){ut(a,r,p)}break;case 18:Et!==null&&(An?(t=Et,Hx(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ao(t)):Hx(Et,a.stateNode));break;case 4:c=Et,f=An,Et=a.stateNode.containerInfo,An=!0,ji(t,r,a),Et=c,An=f;break;case 0:case 11:case 14:case 15:us(2,a,r),qt||us(4,a,r),ji(t,r,a);break;case 1:qt||(ei(a,r),c=a.stateNode,typeof c.componentWillUnmount=="function"&&qy(a,r,c)),ji(t,r,a);break;case 21:ji(t,r,a);break;case 22:qt=(c=qt)||a.memoizedState!==null,ji(t,r,a),qt=c;break;default:ji(t,r,a)}}function Jy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ao(t)}catch(a){ut(r,r.return,a)}}}function Zy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ao(t)}catch(a){ut(r,r.return,a)}}function YE(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Qy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Qy),r;default:throw Error(s(435,t.tag))}}function Yu(t,r){var a=YE(t);r.forEach(function(c){if(!a.has(c)){a.add(c);var f=nS.bind(null,t,c);c.then(f,f)}})}function Cn(t,r){var a=r.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c],p=t,b=r,T=b;e:for(;T!==null;){switch(T.tag){case 27:if(ys(T.type)){Et=T.stateNode,An=!1;break e}break;case 5:Et=T.stateNode,An=!1;break e;case 3:case 4:Et=T.stateNode.containerInfo,An=!0;break e}T=T.return}if(Et===null)throw Error(s(160));Xy(p,b,f),Et=null,An=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)ex(r,t),r=r.sibling}var Cr=null;function ex(t,r){var a=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Cn(r,t),wn(t),c&4&&(us(3,t,t.return),Vl(3,t),us(5,t,t.return));break;case 1:Cn(r,t),wn(t),c&512&&(qt||a===null||ei(a,a.return)),c&64&&Ri&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var f=Cr;if(Cn(r,t),wn(t),c&512&&(qt||a===null||ei(a,a.return)),c&4){var p=a!==null?a.memoizedState:null;if(c=t.memoizedState,a===null)if(c===null)if(t.stateNode===null){e:{c=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Ur]||p[Vt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(c),f.head.insertBefore(p,f.querySelector("head > title"))),cn(p,c,a),p[Vt]=t,Lt(p),c=p;break e;case"link":var b=e1("link","href",f).get(c+(a.href||""));if(b){for(var T=0;T<b.length;T++)if(p=b[T],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(T,1);break t}}p=f.createElement(c),cn(p,c,a),f.head.appendChild(p);break;case"meta":if(b=e1("meta","content",f).get(c+(a.content||""))){for(T=0;T<b.length;T++)if(p=b[T],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(T,1);break t}}p=f.createElement(c),cn(p,c,a),f.head.appendChild(p);break;default:throw Error(s(468,c))}p[Vt]=t,Lt(p),c=p}t.stateNode=c}else t1(f,t.type,t.stateNode);else t.stateNode=Zx(f,c,t.memoizedProps);else p!==c?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,c===null?t1(f,t.type,t.stateNode):Zx(f,c,t.memoizedProps)):c===null&&t.stateNode!==null&&Zf(t,t.memoizedProps,a.memoizedProps)}break;case 27:Cn(r,t),wn(t),c&512&&(qt||a===null||ei(a,a.return)),a!==null&&c&4&&Zf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Cn(r,t),wn(t),c&512&&(qt||a===null||ei(a,a.return)),t.flags&32){f=t.stateNode;try{Tn(f,"")}catch(Se){ut(t,t.return,Se)}}c&4&&t.stateNode!=null&&(f=t.memoizedProps,Zf(t,f,a!==null?a.memoizedProps:f)),c&1024&&(np=!0);break;case 6:if(Cn(r,t),wn(t),c&4){if(t.stateNode===null)throw Error(s(162));c=t.memoizedProps,a=t.stateNode;try{a.nodeValue=c}catch(Se){ut(t,t.return,Se)}}break;case 3:if(cd=null,f=Cr,Cr=od(r.containerInfo),Cn(r,t),Cr=f,wn(t),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Ao(r.containerInfo)}catch(Se){ut(t,t.return,Se)}np&&(np=!1,tx(t));break;case 4:c=Cr,Cr=od(t.stateNode.containerInfo),Cn(r,t),wn(t),Cr=c;break;case 12:Cn(r,t),wn(t);break;case 31:Cn(r,t),wn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Yu(t,c)));break;case 13:Cn(r,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ku=Jt()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Yu(t,c)));break;case 22:f=t.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,K=Ri,oe=qt;if(Ri=K||f,qt=oe||M,Cn(r,t),qt=oe,Ri=K,wn(t),c&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||M||Ri||qt||Ea(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){M=a=r;try{if(p=M.stateNode,f)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{T=M.stateNode;var ue=M.memoizedProps.style,X=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;T.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Se){ut(M,M.return,Se)}}}else if(r.tag===6){if(a===null){M=r;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(Se){ut(M,M.return,Se)}}}else if(r.tag===18){if(a===null){M=r;try{var ne=M.stateNode;f?qx(ne,!0):qx(M.stateNode,!1)}catch(Se){ut(M,M.return,Se)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=t.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,Yu(t,a))));break;case 19:Cn(r,t),wn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Yu(t,c)));break;case 30:break;case 21:break;default:Cn(r,t),wn(t)}}function wn(t){var r=t.flags;if(r&2){try{for(var a,c=t.return;c!==null;){if(Gy(c)){a=c;break}c=c.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,p=ep(t);Gu(t,p,f);break;case 5:var b=a.stateNode;a.flags&32&&(Tn(b,""),a.flags&=-33);var T=ep(t);Gu(t,T,b);break;case 3:case 4:var M=a.stateNode.containerInfo,K=ep(t);tp(t,K,M);break;default:throw Error(s(161))}}catch(oe){ut(t,t.return,oe)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function tx(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;tx(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Ii(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Ky(t,r.alternate,r),r=r.sibling}function Ea(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:us(4,r,r.return),Ea(r);break;case 1:ei(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&qy(r,r.return,a),Ea(r);break;case 27:Ql(r.stateNode);case 26:case 5:ei(r,r.return),Ea(r);break;case 22:r.memoizedState===null&&Ea(r);break;case 30:Ea(r);break;default:Ea(r)}t=t.sibling}}function Di(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,f=t,p=r,b=p.flags;switch(p.tag){case 0:case 11:case 15:Di(f,p,a),Vl(4,p);break;case 1:if(Di(f,p,a),c=p,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){ut(c,c.return,K)}if(c=p,f=c.updateQueue,f!==null){var T=c.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)k0(M[f],T)}catch(K){ut(c,c.return,K)}}a&&b&64&&Hy(p),Ll(p,p.return);break;case 27:Yy(p);case 26:case 5:Di(f,p,a),a&&c===null&&b&4&&Wy(p),Ll(p,p.return);break;case 12:Di(f,p,a);break;case 31:Di(f,p,a),a&&b&4&&Jy(f,p);break;case 13:Di(f,p,a),a&&b&4&&Zy(f,p);break;case 22:p.memoizedState===null&&Di(f,p,a),Ll(p,p.return);break;case 30:break;default:Di(f,p,a)}r=r.sibling}}function rp(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Al(a))}function ip(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Al(t))}function wr(t,r,a,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)nx(t,r,a,c),r=r.sibling}function nx(t,r,a,c){var f=r.flags;switch(r.tag){case 0:case 11:case 15:wr(t,r,a,c),f&2048&&Vl(9,r);break;case 1:wr(t,r,a,c);break;case 3:wr(t,r,a,c),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Al(t)));break;case 12:if(f&2048){wr(t,r,a,c),t=r.stateNode;try{var p=r.memoizedProps,b=p.id,T=p.onPostCommit;typeof T=="function"&&T(b,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){ut(r,r.return,M)}}else wr(t,r,a,c);break;case 31:wr(t,r,a,c);break;case 13:wr(t,r,a,c);break;case 23:break;case 22:p=r.stateNode,b=r.alternate,r.memoizedState!==null?p._visibility&2?wr(t,r,a,c):Ul(t,r):p._visibility&2?wr(t,r,a,c):(p._visibility|=2,po(t,r,a,c,(r.subtreeFlags&10256)!==0||!1)),f&2048&&rp(b,r);break;case 24:wr(t,r,a,c),f&2048&&ip(r.alternate,r);break;default:wr(t,r,a,c)}}function po(t,r,a,c,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=t,b=r,T=a,M=c,K=b.flags;switch(b.tag){case 0:case 11:case 15:po(p,b,T,M,f),Vl(8,b);break;case 23:break;case 22:var oe=b.stateNode;b.memoizedState!==null?oe._visibility&2?po(p,b,T,M,f):Ul(p,b):(oe._visibility|=2,po(p,b,T,M,f)),f&&K&2048&&rp(b.alternate,b);break;case 24:po(p,b,T,M,f),f&&K&2048&&ip(b.alternate,b);break;default:po(p,b,T,M,f)}r=r.sibling}}function Ul(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,c=r,f=c.flags;switch(c.tag){case 22:Ul(a,c),f&2048&&rp(c.alternate,c);break;case 24:Ul(a,c),f&2048&&ip(c.alternate,c);break;default:Ul(a,c)}r=r.sibling}}var Pl=8192;function go(t,r,a){if(t.subtreeFlags&Pl)for(t=t.child;t!==null;)rx(t,r,a),t=t.sibling}function rx(t,r,a){switch(t.tag){case 26:go(t,r,a),t.flags&Pl&&t.memoizedState!==null&&OS(a,Cr,t.memoizedState,t.memoizedProps);break;case 5:go(t,r,a);break;case 3:case 4:var c=Cr;Cr=od(t.stateNode.containerInfo),go(t,r,a),Cr=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=Pl,Pl=16777216,go(t,r,a),Pl=c):go(t,r,a));break;default:go(t,r,a)}}function ix(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Bl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var c=r[a];tn=c,ax(c,t)}ix(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)sx(t),t=t.sibling}function sx(t){switch(t.tag){case 0:case 11:case 15:Bl(t),t.flags&2048&&us(9,t,t.return);break;case 3:Bl(t);break;case 12:Bl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Qu(t)):Bl(t);break;default:Bl(t)}}function Qu(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var c=r[a];tn=c,ax(c,t)}ix(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:us(8,r,r.return),Qu(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Qu(r));break;default:Qu(r)}t=t.sibling}}function ax(t,r){for(;tn!==null;){var a=tn;switch(a.tag){case 0:case 11:case 15:us(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Al(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,tn=c;else e:for(a=t;tn!==null;){c=tn;var f=c.sibling,p=c.return;if($y(c),c===a){tn=null;break e}if(f!==null){f.return=p,tn=f;break e}tn=p}}}var QE={getCacheForType:function(t){var r=on(Pt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return on(Pt).controller.signal}},KE=typeof WeakMap=="function"?WeakMap:Map,rt=0,gt=null,Le=null,He=0,ct=0,Hn=null,ds=!1,mo=!1,sp=!1,ki=0,Ct=0,hs=0,Sa=0,ap=0,qn=0,yo=0,Hl=null,Rn=null,op=!1,Ku=0,ox=0,$u=1/0,Xu=null,fs=null,Kt=0,ps=null,xo=null,Oi=0,lp=0,cp=null,lx=null,ql=0,up=null;function Wn(){return(rt&2)!==0&&He!==0?He&-He:P.T!==null?mp():Jc()}function cx(){if(qn===0)if((He&536870912)===0||Qe){var t=$s;$s<<=1,($s&3932160)===0&&($s=262144),qn=t}else qn=536870912;return t=Pn.current,t!==null&&(t.flags|=32),qn}function jn(t,r,a){(t===gt&&(ct===2||ct===9)||t.cancelPendingCommit!==null)&&(vo(t,0),gs(t,He,qn,!1)),Xs(t,a),((rt&2)===0||t!==gt)&&(t===gt&&((rt&2)===0&&(Sa|=a),Ct===4&&gs(t,He,qn,!1)),ti(t))}function ux(t,r,a){if((rt&6)!==0)throw Error(s(327));var c=!a&&(r&127)===0&&(r&t.expiredLanes)===0||yr(t,r),f=c?JE(t,r):hp(t,r,!0),p=c;do{if(f===0){mo&&!c&&gs(t,r,0,!1);break}else{if(a=t.current.alternate,p&&!$E(a)){f=hp(t,r,!1),p=!1;continue}if(f===2){if(p=r,t.errorRecoveryDisabledLanes&p)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var T=t;f=Hl;var M=T.current.memoizedState.isDehydrated;if(M&&(vo(T,b).flags|=256),b=hp(T,b,!1),b!==2){if(sp&&!M){T.errorRecoveryDisabledLanes|=p,Sa|=p,f=4;break e}p=Rn,Rn=f,p!==null&&(Rn===null?Rn=p:Rn.push.apply(Rn,p))}f=b}if(p=!1,f!==2)continue}}if(f===1){vo(t,0),gs(t,r,0,!0);break}e:{switch(c=t,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:gs(c,r,qn,!ds);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Ku+300-Jt(),10<f)){if(gs(c,r,qn,!ds),Fr(c,0,!0)!==0)break e;Oi=r,c.timeoutHandle=Px(dx.bind(null,c,a,Rn,Xu,op,r,qn,Sa,yo,ds,p,"Throttled",-0,0),f);break e}dx(c,a,Rn,Xu,op,r,qn,Sa,yo,ds,p,null,-0,0)}}break}while(!0);ti(t)}function dx(t,r,a,c,f,p,b,T,M,K,oe,ue,X,ne){if(t.timeoutHandle=-1,ue=r.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:br},rx(r,p,ue);var Se=(p&62914560)===p?Ku-Jt():(p&4194048)===p?ox-Jt():0;if(Se=MS(ue,Se),Se!==null){Oi=p,t.cancelPendingCommit=Se(vx.bind(null,t,r,p,a,c,f,b,T,M,oe,ue,null,X,ne)),gs(t,p,b,!K);return}}vx(t,r,p,a,c,f,b,T,M)}function $E(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var f=a[c],p=f.getSnapshot;f=f.value;try{if(!Ln(p(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function gs(t,r,a,c){r&=~ap,r&=~Sa,t.suspendedLanes|=r,t.pingedLanes&=~r,c&&(t.warmLanes|=r),c=t.expirationTimes;for(var f=r;0<f;){var p=31-It(f),b=1<<p;c[p]=-1,f&=~b}a!==0&&Js(t,a,r)}function Ju(){return(rt&6)===0?(Wl(0),!1):!0}function dp(){if(Le!==null){if(ct===0)var t=Le.return;else t=Le,Ei=pa=null,wf(t),lo=null,wl=0,t=Le;for(;t!==null;)By(t.alternate,t),t=t.return;Le=null}}function vo(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,mS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Oi=0,dp(),gt=t,Le=a=bi(t.current,null),He=r,ct=0,Hn=null,ds=!1,mo=yr(t,r),sp=!1,yo=qn=ap=Sa=hs=Ct=0,Rn=Hl=null,op=!1,(r&8)!==0&&(r|=r&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=r;0<c;){var f=31-It(c),p=1<<f;r|=t[f],c&=~p}return ki=r,vu(),a}function hx(t,r){ze=null,P.H=Nl,r===oo||r===wu?(r=R0(),ct=3):r===gf?(r=R0(),ct=4):ct=r===Hf?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Hn=r,Le===null&&(Ct=1,Pu(t,rr(r,t.current)))}function fx(){var t=Pn.current;return t===null?!0:(He&4194048)===He?or===null:(He&62914560)===He||(He&536870912)!==0?t===or:!1}function px(){var t=P.H;return P.H=Nl,t===null?Nl:t}function gx(){var t=P.A;return P.A=QE,t}function Zu(){Ct=4,ds||(He&4194048)!==He&&Pn.current!==null||(mo=!0),(hs&134217727)===0&&(Sa&134217727)===0||gt===null||gs(gt,He,qn,!1)}function hp(t,r,a){var c=rt;rt|=2;var f=px(),p=gx();(gt!==t||He!==r)&&(Xu=null,vo(t,r)),r=!1;var b=Ct;e:do try{if(ct!==0&&Le!==null){var T=Le,M=Hn;switch(ct){case 8:dp(),b=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(r=!0);var K=ct;if(ct=0,Hn=null,bo(t,T,M,K),a&&mo){b=0;break e}break;default:K=ct,ct=0,Hn=null,bo(t,T,M,K)}}XE(),b=Ct;break}catch(oe){hx(t,oe)}while(!0);return r&&t.shellSuspendCounter++,Ei=pa=null,rt=c,P.H=f,P.A=p,Le===null&&(gt=null,He=0,vu()),b}function XE(){for(;Le!==null;)mx(Le)}function JE(t,r){var a=rt;rt|=2;var c=px(),f=gx();gt!==t||He!==r?(Xu=null,$u=Jt()+500,vo(t,r)):mo=yr(t,r);e:do try{if(ct!==0&&Le!==null){r=Le;var p=Hn;t:switch(ct){case 1:ct=0,Hn=null,bo(t,r,p,1);break;case 2:case 9:if(C0(p)){ct=0,Hn=null,yx(r);break}r=function(){ct!==2&&ct!==9||gt!==t||(ct=7),ti(t)},p.then(r,r);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:C0(p)?(ct=0,Hn=null,yx(r)):(ct=0,Hn=null,bo(t,r,p,7));break;case 5:var b=null;switch(Le.tag){case 26:b=Le.memoizedState;case 5:case 27:var T=Le;if(b?n1(b):T.stateNode.complete){ct=0,Hn=null;var M=T.sibling;if(M!==null)Le=M;else{var K=T.return;K!==null?(Le=K,ed(K)):Le=null}break t}}ct=0,Hn=null,bo(t,r,p,5);break;case 6:ct=0,Hn=null,bo(t,r,p,6);break;case 8:dp(),Ct=6;break e;default:throw Error(s(462))}}ZE();break}catch(oe){hx(t,oe)}while(!0);return Ei=pa=null,P.H=c,P.A=f,rt=a,Le!==null?0:(gt=null,He=0,vu(),Ct)}function ZE(){for(;Le!==null&&!tl();)mx(Le)}function mx(t){var r=Uy(t.alternate,t,ki);t.memoizedProps=t.pendingProps,r===null?ed(t):Le=r}function yx(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=My(a,r,r.pendingProps,r.type,void 0,He);break;case 11:r=My(a,r,r.pendingProps,r.type.render,r.ref,He);break;case 5:wf(r);default:By(a,r),r=Le=g0(r,ki),r=Uy(a,r,ki)}t.memoizedProps=t.pendingProps,r===null?ed(t):Le=r}function bo(t,r,a,c){Ei=pa=null,wf(r),lo=null,wl=0;var f=r.return;try{if(PE(t,f,r,a,He)){Ct=1,Pu(t,rr(a,t.current)),Le=null;return}}catch(p){if(f!==null)throw Le=f,p;Ct=1,Pu(t,rr(a,t.current)),Le=null;return}r.flags&32768?(Qe||c===1?t=!0:mo||(He&536870912)!==0?t=!1:(ds=t=!0,(c===2||c===9||c===3||c===6)&&(c=Pn.current,c!==null&&c.tag===13&&(c.flags|=16384))),xx(r,t)):ed(r)}function ed(t){var r=t;do{if((r.flags&32768)!==0){xx(r,ds);return}t=r.return;var a=qE(r.alternate,r,ki);if(a!==null){Le=a;return}if(r=r.sibling,r!==null){Le=r;return}Le=r=t}while(r!==null);Ct===0&&(Ct=5)}function xx(t,r){do{var a=WE(t.alternate,t);if(a!==null){a.flags&=32767,Le=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Le=t;return}Le=t=a}while(t!==null);Ct=6,Le=null}function vx(t,r,a,c,f,p,b,T,M){t.cancelPendingCommit=null;do td();while(Kt!==0);if((rt&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=Zh,qh(t,a,p,b,T,M),t===gt&&(Le=gt=null,He=0),xo=r,ps=t,Oi=a,lp=p,cp=f,lx=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,rS(Mr,function(){return Tx(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=P.T,P.T=null,f=he.p,he.p=2,b=rt,rt|=4;try{GE(t,r,a)}finally{rt=b,he.p=f,P.T=c}}Kt=1,bx(),_x(),Ex()}}function bx(){if(Kt===1){Kt=0;var t=ps,r=xo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=P.T,P.T=null;var c=he.p;he.p=2;var f=rt;rt|=4;try{ex(r,t);var p=Tp,b=a0(t.containerInfo),T=p.focusedElem,M=p.selectionRange;if(b!==T&&T&&T.ownerDocument&&s0(T.ownerDocument.documentElement,T)){if(M!==null&&Qh(T)){var K=M.start,oe=M.end;if(oe===void 0&&(oe=K),"selectionStart"in T)T.selectionStart=K,T.selectionEnd=Math.min(oe,T.value.length);else{var ue=T.ownerDocument||document,X=ue&&ue.defaultView||window;if(X.getSelection){var ne=X.getSelection(),Se=T.textContent.length,je=Math.min(M.start,Se),pt=M.end===void 0?je:Math.min(M.end,Se);!ne.extend&&je>pt&&(b=pt,pt=je,je=b);var B=i0(T,je),V=i0(T,pt);if(B&&V&&(ne.rangeCount!==1||ne.anchorNode!==B.node||ne.anchorOffset!==B.offset||ne.focusNode!==V.node||ne.focusOffset!==V.offset)){var Q=ue.createRange();Q.setStart(B.node,B.offset),ne.removeAllRanges(),je>pt?(ne.addRange(Q),ne.extend(V.node,V.offset)):(Q.setEnd(V.node,V.offset),ne.addRange(Q))}}}}for(ue=[],ne=T;ne=ne.parentNode;)ne.nodeType===1&&ue.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ue.length;T++){var le=ue[T];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}fd=!!Sp,Tp=Sp=null}finally{rt=f,he.p=c,P.T=a}}t.current=r,Kt=2}}function _x(){if(Kt===2){Kt=0;var t=ps,r=xo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=P.T,P.T=null;var c=he.p;he.p=2;var f=rt;rt|=4;try{Ky(t,r.alternate,r)}finally{rt=f,he.p=c,P.T=a}}Kt=3}}function Ex(){if(Kt===4||Kt===3){Kt=0,Qs();var t=ps,r=xo,a=Oi,c=lx;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Kt=5:(Kt=0,xo=ps=null,Sx(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(fs=null),mi(a),r=r.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(mr,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=P.T,f=he.p,he.p=2,P.T=null;try{for(var p=t.onRecoverableError,b=0;b<c.length;b++){var T=c[b];p(T.value,{componentStack:T.stack})}}finally{P.T=r,he.p=f}}(Oi&3)!==0&&td(),ti(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===up?ql++:(ql=0,up=t):ql=0,Wl(0)}}function Sx(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Al(r)))}function td(){return bx(),_x(),Ex(),Tx()}function Tx(){if(Kt!==5)return!1;var t=ps,r=lp;lp=0;var a=mi(Oi),c=P.T,f=he.p;try{he.p=32>a?32:a,P.T=null,a=cp,cp=null;var p=ps,b=Oi;if(Kt=0,xo=ps=null,Oi=0,(rt&6)!==0)throw Error(s(331));var T=rt;if(rt|=4,sx(p.current),nx(p,p.current,b,a),rt=T,Wl(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(mr,p)}catch{}return!0}finally{he.p=f,P.T=c,Sx(t,r)}}function Ax(t,r,a){r=rr(a,r),r=Bf(t.stateNode,r,2),t=os(t,r,2),t!==null&&(Xs(t,2),ti(t))}function ut(t,r,a){if(t.tag===3)Ax(t,t,a);else for(;r!==null;){if(r.tag===3){Ax(r,t,a);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(fs===null||!fs.has(c))){t=rr(a,t),a=Cy(2),c=os(r,a,2),c!==null&&(wy(a,c,r,t),Xs(c,2),ti(c));break}}r=r.return}}function fp(t,r,a){var c=t.pingCache;if(c===null){c=t.pingCache=new KE;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(a)||(sp=!0,f.add(a),t=eS.bind(null,t,r,a),r.then(t,t))}function eS(t,r,a){var c=t.pingCache;c!==null&&c.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,gt===t&&(He&a)===a&&(Ct===4||Ct===3&&(He&62914560)===He&&300>Jt()-Ku?(rt&2)===0&&vo(t,0):ap|=a,yo===He&&(yo=0)),ti(t)}function Cx(t,r){r===0&&(r=Xc()),t=da(t,r),t!==null&&(Xs(t,r),ti(t))}function tS(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Cx(t,a)}function nS(t,r){var a=0;switch(t.tag){case 31:case 13:var c=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),Cx(t,a)}function rS(t,r){return Ze(t,r)}var nd=null,_o=null,pp=!1,rd=!1,gp=!1,ms=0;function ti(t){t!==_o&&t.next===null&&(_o===null?nd=_o=t:_o=_o.next=t),rd=!0,pp||(pp=!0,sS())}function Wl(t,r){if(!gp&&rd){gp=!0;do for(var a=!1,c=nd;c!==null;){if(t!==0){var f=c.pendingLanes;if(f===0)var p=0;else{var b=c.suspendedLanes,T=c.pingedLanes;p=(1<<31-It(42|t)+1)-1,p&=f&~(b&~T),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,Ix(c,p))}else p=He,p=Fr(c,c===gt?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||yr(c,p)||(a=!0,Ix(c,p));c=c.next}while(a);gp=!1}}function iS(){wx()}function wx(){rd=pp=!1;var t=0;ms!==0&&gS()&&(t=ms);for(var r=Jt(),a=null,c=nd;c!==null;){var f=c.next,p=Rx(c,r);p===0?(c.next=null,a===null?nd=f:a.next=f,f===null&&(_o=a)):(a=c,(t!==0||(p&3)!==0)&&(rd=!0)),c=f}Kt!==0&&Kt!==5||Wl(t),ms!==0&&(ms=0)}function Rx(t,r){for(var a=t.suspendedLanes,c=t.pingedLanes,f=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var b=31-It(p),T=1<<b,M=f[b];M===-1?((T&a)===0||(T&c)!==0)&&(f[b]=Hh(T,r)):M<=r&&(t.expiredLanes|=T),p&=~T}if(r=gt,a=He,a=Fr(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,a===0||t===r&&(ct===2||ct===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&zn(c),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||yr(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(c!==null&&zn(c),mi(a)){case 2:case 8:a=Ks;break;case 32:a=Mr;break;case 268435456:a=Gc;break;default:a=Mr}return c=jx.bind(null,t),a=Ze(a,c),t.callbackPriority=r,t.callbackNode=a,r}return c!==null&&c!==null&&zn(c),t.callbackPriority=2,t.callbackNode=null,2}function jx(t,r){if(Kt!==0&&Kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(td()&&t.callbackNode!==a)return null;var c=He;return c=Fr(t,t===gt?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(ux(t,c,r),Rx(t,Jt()),t.callbackNode!=null&&t.callbackNode===a?jx.bind(null,t):null)}function Ix(t,r){if(td())return null;ux(t,r,!0)}function sS(){yS(function(){(rt&6)!==0?Ze(gi,iS):wx()})}function mp(){if(ms===0){var t=so;t===0&&(t=Nr,Nr<<=1,(Nr&261888)===0&&(Nr=256)),ms=t}return ms}function Dx(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:qa(""+t)}function kx(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function aS(t,r,a,c,f){if(r==="submit"&&a&&a.stateNode===f){var p=Dx((f[Zt]||null).action),b=c.submitter;b&&(r=(r=b[Zt]||null)?Dx(r.formAction):b.getAttribute("formAction"),r!==null&&(p=r,b=null));var T=new Qr("action","action",null,c,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ms!==0){var M=b?kx(f,b):new FormData(f);zf(a,{pending:!0,data:M,method:f.method,action:p},null,M)}}else typeof p=="function"&&(T.preventDefault(),M=b?kx(f,b):new FormData(f),zf(a,{pending:!0,data:M,method:f.method,action:p},p,M))},currentTarget:f}]})}}for(var yp=0;yp<Jh.length;yp++){var xp=Jh[yp],oS=xp.toLowerCase(),lS=xp[0].toUpperCase()+xp.slice(1);Ar(oS,"on"+lS)}Ar(c0,"onAnimationEnd"),Ar(u0,"onAnimationIteration"),Ar(d0,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(TE,"onTransitionRun"),Ar(AE,"onTransitionStart"),Ar(CE,"onTransitionCancel"),Ar(h0,"onTransitionEnd"),qr("onMouseEnter",["mouseout","mouseover"]),qr("onMouseLeave",["mouseout","mouseover"]),qr("onPointerEnter",["pointerout","pointerover"]),qr("onPointerLeave",["pointerout","pointerover"]),Hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gl));function Ox(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var c=t[a],f=c.event;c=c.listeners;e:{var p=void 0;if(r)for(var b=c.length-1;0<=b;b--){var T=c[b],M=T.instance,K=T.currentTarget;if(T=T.listener,M!==p&&f.isPropagationStopped())break e;p=T,f.currentTarget=K;try{p(f)}catch(oe){xu(oe)}f.currentTarget=null,p=M}else for(b=0;b<c.length;b++){if(T=c[b],M=T.instance,K=T.currentTarget,T=T.listener,M!==p&&f.isPropagationStopped())break e;p=T,f.currentTarget=K;try{p(f)}catch(oe){xu(oe)}f.currentTarget=null,p=M}}}}function Ue(t,r){var a=r[La];a===void 0&&(a=r[La]=new Set);var c=t+"__bubble";a.has(c)||(Mx(r,t,2,!1),a.add(c))}function vp(t,r,a){var c=0;r&&(c|=4),Mx(a,t,c,r)}var id="_reactListening"+Math.random().toString(36).slice(2);function bp(t){if(!t[id]){t[id]=!0,il.forEach(function(a){a!=="selectionchange"&&(cS.has(a)||vp(a,!1,t),vp(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[id]||(r[id]=!0,vp("selectionchange",!1,r))}}function Mx(t,r,a,c){switch(c1(r)){case 2:var f=FS;break;case 8:f=VS;break;default:f=Np}a=f.bind(null,r,a,t),f=void 0,!ra||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function _p(t,r,a,c,f){var p=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var T=c.stateNode.containerInfo;if(T===f)break;if(b===4)for(b=c.return;b!==null;){var M=b.tag;if((M===3||M===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;T!==null;){if(b=Pr(T),b===null)return;if(M=b.tag,M===5||M===6||M===26||M===27){c=p=b;continue e}T=T.parentNode}}c=c.return}Xi(function(){var K=p,oe=Zn(a),ue=[];e:{var X=f0.get(t);if(X!==void 0){var ne=Qr,Se=t;switch(t){case"keypress":if(sa(a)===0)break e;case"keydown":case"keyup":ne=gu;break;case"focusin":Se="focus",ne=oa;break;case"focusout":Se="blur",ne=oa;break;case"beforeblur":case"afterblur":ne=oa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=yl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=y;break;case c0:case u0:case d0:ne=lu;break;case h0:ne=j;break;case"scroll":case"scrollend":ne=ml;break;case"wheel":ne=Z;break;case"copy":case"cut":case"paste":ne=cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=vi;break;case"toggle":case"beforetoggle":ne=Ne}var je=(r&4)!==0,pt=!je&&(t==="scroll"||t==="scrollend"),B=je?X!==null?X+"Capture":null:X;je=[];for(var V=K,Q;V!==null;){var le=V;if(Q=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||Q===null||B===null||(le=_r(V,B),le!=null&&je.push(Yl(V,le,Q))),pt)break;V=V.return}0<je.length&&(X=new ne(X,Se,null,a,oe),ue.push({event:X,listeners:je}))}}if((r&7)===0){e:{if(X=t==="mouseover"||t==="pointerover",ne=t==="mouseout"||t==="pointerout",X&&a!==fl&&(Se=a.relatedTarget||a.fromElement)&&(Pr(Se)||Se[Lr]))break e;if((ne||X)&&(X=oe.window===oe?oe:(X=oe.ownerDocument)?X.defaultView||X.parentWindow:window,ne?(Se=a.relatedTarget||a.toElement,ne=K,Se=Se?Pr(Se):null,Se!==null&&(pt=u(Se),je=Se.tag,Se!==pt||je!==5&&je!==27&&je!==6)&&(Se=null)):(ne=null,Se=K),ne!==Se)){if(je=yl,le="onMouseLeave",B="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(je=vi,le="onPointerLeave",B="onPointerEnter",V="pointer"),pt=ne==null?X:Fn(ne),Q=Se==null?X:Fn(Se),X=new je(le,V+"leave",ne,a,oe),X.target=pt,X.relatedTarget=Q,le=null,Pr(oe)===K&&(je=new je(B,V+"enter",Se,a,oe),je.target=Q,je.relatedTarget=pt,le=je),pt=le,ne&&Se)t:{for(je=uS,B=ne,V=Se,Q=0,le=B;le;le=je(le))Q++;le=0;for(var Ce=V;Ce;Ce=je(Ce))le++;for(;0<Q-le;)B=je(B),Q--;for(;0<le-Q;)V=je(V),le--;for(;Q--;){if(B===V||V!==null&&B===V.alternate){je=B;break t}B=je(B),V=je(V)}je=null}else je=null;ne!==null&&Nx(ue,X,ne,je,!1),Se!==null&&pt!==null&&Nx(ue,pt,Se,je,!0)}}e:{if(X=K?Fn(K):window,ne=X.nodeName&&X.nodeName.toLowerCase(),ne==="select"||ne==="input"&&X.type==="file")var et=Jm;else if($m(X))if(Zm)et=_E;else{et=vE;var Te=xE}else ne=X.nodeName,!ne||ne.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?K&&Ha(K.elementType)&&(et=Jm):et=bE;if(et&&(et=et(t,K))){Xm(ue,et,a,oe);break e}Te&&Te(t,X,K),t==="focusout"&&K&&X.type==="number"&&K.memoizedProps.value!=null&&ul(X,"number",X.value)}switch(Te=K?Fn(K):window,t){case"focusin":($m(Te)||Te.contentEditable==="true")&&(Xa=Te,Kh=K,El=null);break;case"focusout":El=Kh=Xa=null;break;case"mousedown":$h=!0;break;case"contextmenu":case"mouseup":case"dragend":$h=!1,o0(ue,a,oe);break;case"selectionchange":if(SE)break;case"keydown":case"keyup":o0(ue,a,oe)}var Fe;if(nt)e:{switch(t){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else $a?la(t,a)&&(qe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(qe="onCompositionStart");qe&&(Xr&&a.locale!=="ko"&&($a||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&$a&&(Fe=gl()):(Yr=oe,pl="value"in Yr?Yr.value:Yr.textContent,$a=!0)),Te=sd(K,qe),0<Te.length&&(qe=new $r(qe,t,null,a,oe),ue.push({event:qe,listeners:Te}),Fe?qe.data=Fe:(Fe=Ka(a),Fe!==null&&(qe.data=Fe)))),(Fe=tr?pE(t,a):gE(t,a))&&(qe=sd(K,"onBeforeInput"),0<qe.length&&(Te=new $r("onBeforeInput","beforeinput",null,a,oe),ue.push({event:Te,listeners:qe}),Te.data=Fe)),aS(ue,t,K,a,oe)}Ox(ue,r)})}function Yl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function sd(t,r){for(var a=r+"Capture",c=[];t!==null;){var f=t,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=_r(t,a),f!=null&&c.unshift(Yl(t,f,p)),f=_r(t,r),f!=null&&c.push(Yl(t,f,p))),t.tag===3)return c;t=t.return}return[]}function uS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Nx(t,r,a,c,f){for(var p=r._reactName,b=[];a!==null&&a!==c;){var T=a,M=T.alternate,K=T.stateNode;if(T=T.tag,M!==null&&M===c)break;T!==5&&T!==26&&T!==27||K===null||(M=K,f?(K=_r(a,p),K!=null&&b.unshift(Yl(a,K,M))):f||(K=_r(a,p),K!=null&&b.push(Yl(a,K,M)))),a=a.return}b.length!==0&&t.push({event:r,listeners:b})}var dS=/\r\n?/g,hS=/\u0000|\uFFFD/g;function zx(t){return(typeof t=="string"?t:""+t).replace(dS,`
`).replace(hS,"")}function Fx(t,r){return r=zx(r),zx(t)===r}function ft(t,r,a,c,f,p){switch(a){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Tn(t,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Tn(t,""+c);break;case"className":Vn(t,"class",c);break;case"tabIndex":Vn(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Vn(t,a,c);break;case"style":hl(t,c,p);break;case"data":if(r!=="object"){Vn(t,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=qa(""+c),t.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(r!=="input"&&ft(t,r,"name",f.name,f,null),ft(t,r,"formEncType",f.formEncType,f,null),ft(t,r,"formMethod",f.formMethod,f,null),ft(t,r,"formTarget",f.formTarget,f,null)):(ft(t,r,"encType",f.encType,f,null),ft(t,r,"method",f.method,f,null),ft(t,r,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=qa(""+c),t.setAttribute(a,c);break;case"onClick":c!=null&&(t.onclick=br);break;case"onScroll":c!=null&&Ue("scroll",t);break;case"onScrollEnd":c!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(a=c.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}a=qa(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""+c):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":c===!0?t.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,c):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(a,c):t.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(a):t.setAttribute(a,c);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),Pa(t,"popover",c);break;case"xlinkActuate":Ut(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ut(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ut(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ut(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ut(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ut(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Pa(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=su.get(a)||a,Pa(t,a,c))}}function Ep(t,r,a,c,f,p){switch(a){case"style":hl(t,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(a=c.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof c=="string"?Tn(t,c):(typeof c=="number"||typeof c=="bigint")&&Tn(t,""+c);break;case"onScroll":c!=null&&Ue("scroll",t);break;case"onScrollEnd":c!=null&&Ue("scrollend",t);break;case"onClick":c!=null&&(t.onclick=br);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),p=t[Zt]||null,p=p!=null?p[a]:null,typeof p=="function"&&t.removeEventListener(r,p,f),typeof c=="function")){typeof p!="function"&&p!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,c,f);break e}a in t?t[a]=c:c===!0?t.setAttribute(a,""):Pa(t,a,c)}}}function cn(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var c=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var b=a[p];if(b!=null)switch(p){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ft(t,r,p,b,a,null)}}f&&ft(t,r,"srcSet",a.srcSet,a,null),c&&ft(t,r,"src",a.src,a,null);return;case"input":Ue("invalid",t);var T=p=b=f=null,M=null,K=null;for(c in a)if(a.hasOwnProperty(c)){var oe=a[c];if(oe!=null)switch(c){case"name":f=oe;break;case"type":b=oe;break;case"checked":M=oe;break;case"defaultChecked":K=oe;break;case"value":p=oe;break;case"defaultValue":T=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(s(137,r));break;default:ft(t,r,c,oe,a,null)}}nu(t,p,T,M,K,b,f,!1);return;case"select":Ue("invalid",t),c=b=p=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":p=T;break;case"defaultValue":b=T;break;case"multiple":c=T;default:ft(t,r,f,T,a,null)}r=p,a=b,t.multiple=!!c,r!=null?Yi(t,!!c,r,!1):a!=null&&Yi(t,!!c,a,!0);return;case"textarea":Ue("invalid",t),p=f=c=null;for(b in a)if(a.hasOwnProperty(b)&&(T=a[b],T!=null))switch(b){case"value":c=T;break;case"defaultValue":f=T;break;case"children":p=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:ft(t,r,b,T,a,null)}Qi(t,c,f,p);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(c=a[M],c!=null))switch(M){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ft(t,r,M,c,a,null)}return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(c=0;c<Gl.length;c++)Ue(Gl[c],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in a)if(a.hasOwnProperty(K)&&(c=a[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ft(t,r,K,c,a,null)}return;default:if(Ha(r)){for(oe in a)a.hasOwnProperty(oe)&&(c=a[oe],c!==void 0&&Ep(t,r,oe,c,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(c=a[T],c!=null&&ft(t,r,T,c,a,null))}function fS(t,r,a,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,b=null,T=null,M=null,K=null,oe=null;for(ne in a){var ue=a[ne];if(a.hasOwnProperty(ne)&&ue!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":M=ue;default:c.hasOwnProperty(ne)||ft(t,r,ne,null,c,ue)}}for(var X in c){var ne=c[X];if(ue=a[X],c.hasOwnProperty(X)&&(ne!=null||ue!=null))switch(X){case"type":p=ne;break;case"name":f=ne;break;case"checked":K=ne;break;case"defaultChecked":oe=ne;break;case"value":b=ne;break;case"defaultValue":T=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,r));break;default:ne!==ue&&ft(t,r,X,ne,c,ue)}}Ba(t,b,T,M,K,oe,p,f);return;case"select":ne=b=T=X=null;for(p in a)if(M=a[p],a.hasOwnProperty(p)&&M!=null)switch(p){case"value":break;case"multiple":ne=M;default:c.hasOwnProperty(p)||ft(t,r,p,null,c,M)}for(f in c)if(p=c[f],M=a[f],c.hasOwnProperty(f)&&(p!=null||M!=null))switch(f){case"value":X=p;break;case"defaultValue":T=p;break;case"multiple":b=p;default:p!==M&&ft(t,r,f,p,c,M)}r=T,a=b,c=ne,X!=null?Yi(t,!!a,X,!1):!!c!=!!a&&(r!=null?Yi(t,!!a,r,!0):Yi(t,!!a,a?[]:"",!1));return;case"textarea":ne=X=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!c.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ft(t,r,T,null,c,f)}for(b in c)if(f=c[b],p=a[b],c.hasOwnProperty(b)&&(f!=null||p!=null))switch(b){case"value":X=f;break;case"defaultValue":ne=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&ft(t,r,b,f,c,p)}ru(t,X,ne);return;case"option":for(var Se in a)if(X=a[Se],a.hasOwnProperty(Se)&&X!=null&&!c.hasOwnProperty(Se))switch(Se){case"selected":t.selected=!1;break;default:ft(t,r,Se,null,c,X)}for(M in c)if(X=c[M],ne=a[M],c.hasOwnProperty(M)&&X!==ne&&(X!=null||ne!=null))switch(M){case"selected":t.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:ft(t,r,M,X,c,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in a)X=a[je],a.hasOwnProperty(je)&&X!=null&&!c.hasOwnProperty(je)&&ft(t,r,je,null,c,X);for(K in c)if(X=c[K],ne=a[K],c.hasOwnProperty(K)&&X!==ne&&(X!=null||ne!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:ft(t,r,K,X,c,ne)}return;default:if(Ha(r)){for(var pt in a)X=a[pt],a.hasOwnProperty(pt)&&X!==void 0&&!c.hasOwnProperty(pt)&&Ep(t,r,pt,void 0,c,X);for(oe in c)X=c[oe],ne=a[oe],!c.hasOwnProperty(oe)||X===ne||X===void 0&&ne===void 0||Ep(t,r,oe,X,c,ne);return}}for(var B in a)X=a[B],a.hasOwnProperty(B)&&X!=null&&!c.hasOwnProperty(B)&&ft(t,r,B,null,c,X);for(ue in c)X=c[ue],ne=a[ue],!c.hasOwnProperty(ue)||X===ne||X==null&&ne==null||ft(t,r,ue,X,c,ne)}function Vx(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var f=a[c],p=f.transferSize,b=f.initiatorType,T=f.duration;if(p&&T&&Vx(b)){for(b=0,T=f.responseEnd,c+=1;c<a.length;c++){var M=a[c],K=M.startTime;if(K>T)break;var oe=M.transferSize,ue=M.initiatorType;oe&&Vx(ue)&&(M=M.responseEnd,b+=oe*(M<T?1:(T-K)/(M-K)))}if(--c,r+=8*(p+b)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Sp=null,Tp=null;function ad(t){return t.nodeType===9?t:t.ownerDocument}function Lx(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ux(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Ap(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Cp=null;function gS(){var t=window.event;return t&&t.type==="popstate"?t===Cp?!1:(Cp=t,!0):(Cp=null,!1)}var Px=typeof setTimeout=="function"?setTimeout:void 0,mS=typeof clearTimeout=="function"?clearTimeout:void 0,Bx=typeof Promise=="function"?Promise:void 0,yS=typeof queueMicrotask=="function"?queueMicrotask:typeof Bx<"u"?function(t){return Bx.resolve(null).then(t).catch(xS)}:Px;function xS(t){setTimeout(function(){throw t})}function ys(t){return t==="head"}function Hx(t,r){var a=r,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(c===0){t.removeChild(f),Ao(r);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")Ql(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ql(a);for(var p=a.firstChild;p;){var b=p.nextSibling,T=p.nodeName;p[Ur]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=b}}else a==="body"&&Ql(t.ownerDocument.body);a=f}while(a);Ao(r)}function qx(t,r){var a=t;t=0;do{var c=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=c}while(a)}function wp(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wp(a),Ua(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function vS(t,r,a,c){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[Ur])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=lr(t.nextSibling),t===null)break}return null}function bS(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=lr(t.nextSibling),t===null))return null;return t}function Wx(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=lr(t.nextSibling),t===null))return null;return t}function Rp(t){return t.data==="$?"||t.data==="$~"}function jp(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function _S(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var c=function(){r(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function lr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Ip=null;function Gx(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return lr(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function Yx(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function Qx(t,r,a){switch(r=ad(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ql(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Ua(t)}var cr=new Map,Kx=new Set;function od(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Mi=he.d;he.d={f:ES,r:SS,D:TS,C:AS,L:CS,m:wS,X:jS,S:RS,M:IS};function ES(){var t=Mi.f(),r=Ju();return t||r}function SS(t){var r=Jn(t);r!==null&&r.tag===5&&r.type==="form"?hy(r):Mi.r(t)}var Eo=typeof document>"u"?null:document;function $x(t,r,a){var c=Eo;if(c&&typeof r=="string"&&r){var f=Sn(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Kx.has(f)||(Kx.add(f),t={rel:t,crossOrigin:a,href:r},c.querySelector(f)===null&&(r=c.createElement("link"),cn(r,"link",t),Lt(r),c.head.appendChild(r)))}}function TS(t){Mi.D(t),$x("dns-prefetch",t,null)}function AS(t,r){Mi.C(t,r),$x("preconnect",t,r)}function CS(t,r,a){Mi.L(t,r,a);var c=Eo;if(c&&t&&r){var f='link[rel="preload"][as="'+Sn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Sn(a.imageSizes)+'"]')):f+='[href="'+Sn(t)+'"]';var p=f;switch(r){case"style":p=So(t);break;case"script":p=To(t)}cr.has(p)||(t=S({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),cr.set(p,t),c.querySelector(f)!==null||r==="style"&&c.querySelector(Kl(p))||r==="script"&&c.querySelector($l(p))||(r=c.createElement("link"),cn(r,"link",t),Lt(r),c.head.appendChild(r)))}}function wS(t,r){Mi.m(t,r);var a=Eo;if(a&&t){var c=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Sn(c)+'"][href="'+Sn(t)+'"]',p=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=To(t)}if(!cr.has(p)&&(t=S({rel:"modulepreload",href:t},r),cr.set(p,t),a.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector($l(p)))return}c=a.createElement("link"),cn(c,"link",t),Lt(c),a.head.appendChild(c)}}}function RS(t,r,a){Mi.S(t,r,a);var c=Eo;if(c&&t){var f=Br(c).hoistableStyles,p=So(t);r=r||"default";var b=f.get(p);if(!b){var T={loading:0,preload:null};if(b=c.querySelector(Kl(p)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":r},a),(a=cr.get(p))&&Dp(t,a);var M=b=c.createElement("link");Lt(M),cn(M,"link",t),M._p=new Promise(function(K,oe){M.onload=K,M.onerror=oe}),M.addEventListener("load",function(){T.loading|=1}),M.addEventListener("error",function(){T.loading|=2}),T.loading|=4,ld(b,r,c)}b={type:"stylesheet",instance:b,count:1,state:T},f.set(p,b)}}}function jS(t,r){Mi.X(t,r);var a=Eo;if(a&&t){var c=Br(a).hoistableScripts,f=To(t),p=c.get(f);p||(p=a.querySelector($l(f)),p||(t=S({src:t,async:!0},r),(r=cr.get(f))&&kp(t,r),p=a.createElement("script"),Lt(p),cn(p,"link",t),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function IS(t,r){Mi.M(t,r);var a=Eo;if(a&&t){var c=Br(a).hoistableScripts,f=To(t),p=c.get(f);p||(p=a.querySelector($l(f)),p||(t=S({src:t,async:!0,type:"module"},r),(r=cr.get(f))&&kp(t,r),p=a.createElement("script"),Lt(p),cn(p,"link",t),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function Xx(t,r,a,c){var f=(f=J.current)?od(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=So(a.href),a=Br(f).hoistableStyles,c=a.get(r),c||(c={type:"style",instance:null,count:0,state:null},a.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=So(a.href);var p=Br(f).hoistableStyles,b=p.get(t);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,b),(p=f.querySelector(Kl(t)))&&!p._p&&(b.instance=p,b.state.loading=5),cr.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},cr.set(t,a),p||DS(f,t,a,b.state))),r&&c===null)throw Error(s(528,""));return b}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=To(a),a=Br(f).hoistableScripts,c=a.get(r),c||(c={type:"script",instance:null,count:0,state:null},a.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function So(t){return'href="'+Sn(t)+'"'}function Kl(t){return'link[rel="stylesheet"]['+t+"]"}function Jx(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function DS(t,r,a,c){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=t.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),cn(r,"link",a),Lt(r),t.head.appendChild(r))}function To(t){return'[src="'+Sn(t)+'"]'}function $l(t){return"script[async]"+t}function Zx(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var c=t.querySelector('style[data-href~="'+Sn(a.href)+'"]');if(c)return r.instance=c,Lt(c),c;var f=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),Lt(c),cn(c,"style",f),ld(c,a.precedence,t),r.instance=c;case"stylesheet":f=So(a.href);var p=t.querySelector(Kl(f));if(p)return r.state.loading|=4,r.instance=p,Lt(p),p;c=Jx(a),(f=cr.get(f))&&Dp(c,f),p=(t.ownerDocument||t).createElement("link"),Lt(p);var b=p;return b._p=new Promise(function(T,M){b.onload=T,b.onerror=M}),cn(p,"link",c),r.state.loading|=4,ld(p,a.precedence,t),r.instance=p;case"script":return p=To(a.src),(f=t.querySelector($l(p)))?(r.instance=f,Lt(f),f):(c=a,(f=cr.get(p))&&(c=S({},a),kp(c,f)),t=t.ownerDocument||t,f=t.createElement("script"),Lt(f),cn(f,"link",c),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,ld(c,a.precedence,t));return r.instance}function ld(t,r,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,p=f,b=0;b<c.length;b++){var T=c[b];if(T.dataset.precedence===r)p=T;else if(p!==f)break}p?p.parentNode.insertBefore(t,p.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Dp(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function kp(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var cd=null;function e1(t,r,a){if(cd===null){var c=new Map,f=cd=new Map;f.set(a,c)}else f=cd,c=f.get(a),c||(c=new Map,f.set(a,c));if(c.has(t))return c;for(c.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var p=a[f];if(!(p[Ur]||p[Vt]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(r)||"";b=t+b;var T=c.get(b);T?T.push(p):c.set(b,[p])}}return c}function t1(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function kS(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function n1(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function OS(t,r,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=So(c.href),p=r.querySelector(Kl(f));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=ud.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=p,Lt(p);return}p=r.ownerDocument||r,c=Jx(c),(f=cr.get(f))&&Dp(c,f),p=p.createElement("link"),Lt(p);var b=p;b._p=new Promise(function(T,M){b.onload=T,b.onerror=M}),cn(p,"link",c),a.instance=p}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=ud.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var Op=0;function MS(t,r){return t.stylesheets&&t.count===0&&hd(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var c=setTimeout(function(){if(t.stylesheets&&hd(t,t.stylesheets),t.unsuspend){var p=t.unsuspend;t.unsuspend=null,p()}},6e4+r);0<t.imgBytes&&Op===0&&(Op=62500*pS());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&hd(t,t.stylesheets),t.unsuspend)){var p=t.unsuspend;t.unsuspend=null,p()}},(t.imgBytes>Op?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function ud(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var dd=null;function hd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,dd=new Map,r.forEach(NS,t),dd=null,ud.call(t))}function NS(t,r){if(!(r.state.loading&4)){var a=dd.get(t);if(a)var c=a.get(null);else{a=new Map,dd.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var b=f[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),c=b)}c&&a.set(null,c)}f=r.instance,b=f.getAttribute("data-precedence"),p=a.get(b)||c,p===c&&a.set(null,f),a.set(b,f),this.count++,c=ud.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),p?p.parentNode.insertBefore(f,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var Xl={$$typeof:ae,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function zS(t,r,a,c,f,p,b,T,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vr(0),this.hiddenUpdates=Vr(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function r1(t,r,a,c,f,p,b,T,M,K,oe,ue){return t=new zS(t,r,a,b,M,K,oe,ue,T),r=1,p===!0&&(r|=24),p=Un(3,null,null,r),t.current=p,p.stateNode=t,r=hf(),r.refCount++,t.pooledCache=r,r.refCount++,p.memoizedState={element:c,isDehydrated:a,cache:r},mf(p),t}function i1(t){return t?(t=eo,t):eo}function s1(t,r,a,c,f,p){f=i1(f),c.context===null?c.context=f:c.pendingContext=f,c=as(r),c.payload={element:a},p=p===void 0?null:p,p!==null&&(c.callback=p),a=os(t,c,r),a!==null&&(jn(a,t,r),jl(a,t,r))}function a1(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Mp(t,r){a1(t,r),(t=t.alternate)&&a1(t,r)}function o1(t){if(t.tag===13||t.tag===31){var r=da(t,67108864);r!==null&&jn(r,t,67108864),Mp(t,67108864)}}function l1(t){if(t.tag===13||t.tag===31){var r=Wn();r=Zs(r);var a=da(t,r);a!==null&&jn(a,t,r),Mp(t,r)}}var fd=!0;function FS(t,r,a,c){var f=P.T;P.T=null;var p=he.p;try{he.p=2,Np(t,r,a,c)}finally{he.p=p,P.T=f}}function VS(t,r,a,c){var f=P.T;P.T=null;var p=he.p;try{he.p=8,Np(t,r,a,c)}finally{he.p=p,P.T=f}}function Np(t,r,a,c){if(fd){var f=zp(c);if(f===null)_p(t,r,c,pd,a),u1(t,c);else if(US(f,t,r,a,c))c.stopPropagation();else if(u1(t,c),r&4&&-1<LS.indexOf(t)){for(;f!==null;){var p=Jn(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=zr(p.pendingLanes);if(b!==0){var T=p;for(T.pendingLanes|=2,T.entangledLanes|=2;b;){var M=1<<31-It(b);T.entanglements[1]|=M,b&=~M}ti(p),(rt&6)===0&&($u=Jt()+500,Wl(0))}}break;case 31:case 13:T=da(p,2),T!==null&&jn(T,p,2),Ju(),Mp(p,2)}if(p=zp(c),p===null&&_p(t,r,c,pd,a),p===f)break;f=p}f!==null&&c.stopPropagation()}else _p(t,r,c,null,a)}}function zp(t){return t=Zn(t),Fp(t)}var pd=null;function Fp(t){if(pd=null,t=Pr(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===31){if(t=g(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return pd=t,null}function c1(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pi()){case gi:return 2;case Ks:return 8;case Mr:case Bh:return 32;case Gc:return 268435456;default:return 32}default:return 32}}var Vp=!1,xs=null,vs=null,bs=null,Jl=new Map,Zl=new Map,_s=[],LS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function u1(t,r){switch(t){case"focusin":case"focusout":xs=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":Jl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(r.pointerId)}}function ec(t,r,a,c,f,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:a,eventSystemFlags:c,nativeEvent:p,targetContainers:[f]},r!==null&&(r=Jn(r),r!==null&&o1(r)),t):(t.eventSystemFlags|=c,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function US(t,r,a,c,f){switch(r){case"focusin":return xs=ec(xs,t,r,a,c,f),!0;case"dragenter":return vs=ec(vs,t,r,a,c,f),!0;case"mouseover":return bs=ec(bs,t,r,a,c,f),!0;case"pointerover":var p=f.pointerId;return Jl.set(p,ec(Jl.get(p)||null,t,r,a,c,f)),!0;case"gotpointercapture":return p=f.pointerId,Zl.set(p,ec(Zl.get(p)||null,t,r,a,c,f)),!0}return!1}function d1(t){var r=Pr(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,xr(t.priority,function(){l1(a)});return}}else if(r===31){if(r=g(a),r!==null){t.blockedOn=r,xr(t.priority,function(){l1(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gd(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=zp(t.nativeEvent);if(a===null){a=t.nativeEvent;var c=new a.constructor(a.type,a);fl=c,a.target.dispatchEvent(c),fl=null}else return r=Jn(a),r!==null&&o1(r),t.blockedOn=a,!1;r.shift()}return!0}function h1(t,r,a){gd(t)&&a.delete(r)}function PS(){Vp=!1,xs!==null&&gd(xs)&&(xs=null),vs!==null&&gd(vs)&&(vs=null),bs!==null&&gd(bs)&&(bs=null),Jl.forEach(h1),Zl.forEach(h1)}function md(t,r){t.blockedOn===r&&(t.blockedOn=null,Vp||(Vp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,PS)))}var yd=null;function f1(t){yd!==t&&(yd=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){yd===t&&(yd=null);for(var r=0;r<t.length;r+=3){var a=t[r],c=t[r+1],f=t[r+2];if(typeof c!="function"){if(Fp(c||a)===null)continue;break}var p=Jn(a);p!==null&&(t.splice(r,3),r-=3,zf(p,{pending:!0,data:f,method:a.method,action:c},c,f))}}))}function Ao(t){function r(M){return md(M,t)}xs!==null&&md(xs,t),vs!==null&&md(vs,t),bs!==null&&md(bs,t),Jl.forEach(r),Zl.forEach(r);for(var a=0;a<_s.length;a++){var c=_s[a];c.blockedOn===t&&(c.blockedOn=null)}for(;0<_s.length&&(a=_s[0],a.blockedOn===null);)d1(a),a.blockedOn===null&&_s.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var f=a[c],p=a[c+1],b=f[Zt]||null;if(typeof p=="function")b||f1(a);else if(b){var T=null;if(p&&p.hasAttribute("formAction")){if(f=p,b=p[Zt]||null)T=b.formAction;else if(Fp(f)!==null)continue}else T=b.action;typeof T=="function"?a[c+1]=T:(a.splice(c,3),c-=3),f1(a)}}}function p1(){function t(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Lp(t){this._internalRoot=t}xd.prototype.render=Lp.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,c=Wn();s1(a,c,t,r,null,null)},xd.prototype.unmount=Lp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;s1(t.current,2,null,t,null,null),Ju(),r[Lr]=null}};function xd(t){this._internalRoot=t}xd.prototype.unstable_scheduleHydration=function(t){if(t){var r=Jc();t={blockedOn:null,target:t,priority:r};for(var a=0;a<_s.length&&r!==0&&r<_s[a].priority;a++);_s.splice(a,0,t),a===0&&d1(t)}};var g1=e.version;if(g1!=="19.2.3")throw Error(s(527,g1,"19.2.3"));he.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=x(r),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var BS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vd.isDisabled&&vd.supportsFiber)try{mr=vd.inject(BS),rn=vd}catch{}}return nc.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,c="",f=Ey,p=Sy,b=Ty;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=r1(t,1,!1,null,null,a,c,null,f,p,b,p1),t[Lr]=r.current,bp(t),new Lp(r)},nc.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var c=!1,f="",p=Ey,b=Sy,T=Ty,M=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),r=r1(t,1,!0,r,a??null,c,f,M,p,b,T,p1),r.context=i1(null),a=r.current,c=Wn(),c=Zs(c),f=as(c),f.callback=null,os(a,f,c),a=c,r.current.lanes=a,Xs(r,a),ti(r),t[Lr]=r.current,bp(t),new xd(r)},nc.version="19.2.3",nc}var A1;function ZS(){if(A1)return Bp.exports;A1=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Bp.exports=JS(),Bp.exports}var eT=ZS();const tT=()=>{};var C1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},nT=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],g=i[n++],m=((o&7)<<18|(u&63)<<12|(h&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},S2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,g=h?i[o+1]:0,m=o+2<i.length,x=m?i[o+2]:0,v=u>>2,S=(u&3)<<4|g>>4;let D=(g&15)<<2|x>>6,O=x&63;m||(O=64,h||(D=64)),s.push(n[v],n[S],n[D],n[O])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(E2(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):nT(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],g=o<i.length?n[i.charAt(o)]:0;++o;const x=o<i.length?n[i.charAt(o)]:64;++o;const S=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||g==null||x==null||S==null)throw new rT;const D=u<<2|g>>4;if(s.push(D),x!==64){const O=g<<4&240|x>>2;if(s.push(O),S!==64){const W=x<<6&192|S;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class rT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iT=function(i){const e=E2(i);return S2.encodeByteArray(e,!0)},Ld=function(i){return iT(i).replace(/\./g,"")},T2=function(i){try{return S2.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT=()=>sT().__FIREBASE_DEFAULTS__,oT=()=>{if(typeof process>"u"||typeof C1>"u")return;const i=C1.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},lT=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&T2(i[1]);return e&&JSON.parse(e)},hh=()=>{try{return tT()||aT()||oT()||lT()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},A2=i=>{var e,n;return(n=(e=hh())==null?void 0:e.emulatorHosts)==null?void 0:n[i]},Yg=i=>{const e=A2(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},C2=()=>{var i;return(i=hh())==null?void 0:i.config},w2=i=>{var e;return(e=hh())==null?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fh(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Ld(JSON.stringify(n)),Ld(JSON.stringify(h)),""].join(".")}const dc={};function uT(){const i={prod:[],emulator:[]};for(const e of Object.keys(dc))dc[e]?i.emulator.push(e):i.prod.push(e);return i}function dT(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let w1=!1;function ph(i,e){if(typeof window>"u"||typeof document>"u"||!fi(window.location.host)||dc[i]===e||dc[i]||w1)return;dc[i]=e;function n(D){return`__firebase__banner__${D}`}const s="__firebase__banner",u=uT().prod.length>0;function h(){const D=document.getElementById(s);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function m(D,O){D.setAttribute("width","24"),D.setAttribute("id",O),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function x(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{w1=!0,h()},D}function v(D,O){D.setAttribute("id",O),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function S(){const D=dT(s),O=n("text"),W=document.getElementById(O)||document.createElement("span"),te=n("learnmore"),G=document.getElementById(te)||document.createElement("a"),L=n("preprendIcon"),$=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ae=D.element;g(ae),v(G,te);const se=x();m($,L),ae.append($,W,G,se),document.body.appendChild(ae)}u?(W.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xn())}function fT(){var e;const i=(e=hh())==null?void 0:e.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gT(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function mT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yT(){const i=xn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function xT(){return!fT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vT(){try{return typeof indexedDB=="object"}catch{return!1}}function bT(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="FirebaseError";class Or extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=_T,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mc.prototype.create)}}class Mc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?ET(u,s):"Error",g=`${this.serviceName}: ${h} (${o}).`;return new Or(o,g,s)}}function ET(i,e){return i.replace(ST,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const ST=/\{\$([^}]+)}/g;function TT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ja(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(R1(u)&&R1(h)){if(!ja(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function R1(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ic(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function sc(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function AT(i,e){const n=new CT(i,e);return n.subscribe.bind(n)}class CT{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");wT(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Gp),o.error===void 0&&(o.error=Gp),o.complete===void 0&&(o.complete=Gp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wT(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Gp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(i){return i&&i._delegate?i._delegate:i}class Li{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new cT;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IT(e))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ta){return this.instances.has(e)}getOptions(e=Ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);s===g&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:jT(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ta){return this.component?this.component.multipleInstances?e:Ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jT(i){return i===Ta?void 0:i}function IT(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new RT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(We||(We={}));const kT={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},OT=We.INFO,MT={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},NT=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=MT[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qg{constructor(e){this.name=e,this._logLevel=OT,this._logHandler=NT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const zT=(i,e)=>e.some(n=>i instanceof n);let j1,I1;function FT(){return j1||(j1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VT(){return I1||(I1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const j2=new WeakMap,gg=new WeakMap,I2=new WeakMap,Yp=new WeakMap,Kg=new WeakMap;function LT(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(Is(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&j2.set(n,i)}).catch(()=>{}),Kg.set(e,i),e}function UT(i){if(gg.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});gg.set(i,e)}let mg={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return gg.get(i);if(e==="objectStoreNames")return i.objectStoreNames||I2.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Is(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function PT(i){mg=i(mg)}function BT(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Qp(this),e,...n);return I2.set(s,e.sort?e.sort():[e]),Is(s)}:VT().includes(i)?function(...e){return i.apply(Qp(this),e),Is(j2.get(this))}:function(...e){return Is(i.apply(Qp(this),e))}}function HT(i){return typeof i=="function"?BT(i):(i instanceof IDBTransaction&&UT(i),zT(i,FT())?new Proxy(i,mg):i)}function Is(i){if(i instanceof IDBRequest)return LT(i);if(Yp.has(i))return Yp.get(i);const e=HT(i);return e!==i&&(Yp.set(i,e),Kg.set(e,i)),e}const Qp=i=>Kg.get(i);function qT(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),g=Is(h);return s&&h.addEventListener("upgradeneeded",m=>{s(Is(h.result),m.oldVersion,m.newVersion,Is(h.transaction),m)}),n&&h.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),g.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",x=>o(x.oldVersion,x.newVersion,x))}).catch(()=>{}),g}const WT=["get","getKey","getAll","getAllKeys","count"],GT=["put","add","delete","clear"],Kp=new Map;function D1(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Kp.get(e))return Kp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=GT.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||WT.includes(n)))return;const u=async function(h,...g){const m=this.transaction(h,o?"readwrite":"readonly");let x=m.store;return s&&(x=x.index(g.shift())),(await Promise.all([x[n](...g),o&&m.done]))[0]};return Kp.set(e,u),u}PT(i=>({...i,get:(e,n,s)=>D1(e,n)||i.get(e,n,s),has:(e,n)=>!!D1(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QT(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function QT(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yg="@firebase/app",k1="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new Qg("@firebase/app"),KT="@firebase/app-compat",$T="@firebase/analytics-compat",XT="@firebase/analytics",JT="@firebase/app-check-compat",ZT="@firebase/app-check",eA="@firebase/auth",tA="@firebase/auth-compat",nA="@firebase/database",rA="@firebase/data-connect",iA="@firebase/database-compat",sA="@firebase/functions",aA="@firebase/functions-compat",oA="@firebase/installations",lA="@firebase/installations-compat",cA="@firebase/messaging",uA="@firebase/messaging-compat",dA="@firebase/performance",hA="@firebase/performance-compat",fA="@firebase/remote-config",pA="@firebase/remote-config-compat",gA="@firebase/storage",mA="@firebase/storage-compat",yA="@firebase/firestore",xA="@firebase/ai",vA="@firebase/firestore-compat",bA="firebase",_A="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="[DEFAULT]",EA={[yg]:"fire-core",[KT]:"fire-core-compat",[XT]:"fire-analytics",[$T]:"fire-analytics-compat",[ZT]:"fire-app-check",[JT]:"fire-app-check-compat",[eA]:"fire-auth",[tA]:"fire-auth-compat",[nA]:"fire-rtdb",[rA]:"fire-data-connect",[iA]:"fire-rtdb-compat",[sA]:"fire-fn",[aA]:"fire-fn-compat",[oA]:"fire-iid",[lA]:"fire-iid-compat",[cA]:"fire-fcm",[uA]:"fire-fcm-compat",[dA]:"fire-perf",[hA]:"fire-perf-compat",[fA]:"fire-rc",[pA]:"fire-rc-compat",[gA]:"fire-gcs",[mA]:"fire-gcs-compat",[yA]:"fire-fst",[vA]:"fire-fst-compat",[xA]:"fire-vertex","fire-js":"fire-js",[bA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=new Map,SA=new Map,vg=new Map;function O1(i,e){try{i.container.addComponent(e)}catch(n){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Ns(i){const e=i.name;if(vg.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;vg.set(e,i);for(const n of Ud.values())O1(n,i);for(const n of SA.values())O1(n,i);return!0}function zc(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Gn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ds=new Mc("app","Firebase",TA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=_A;function D2(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:xg,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ds.create("bad-app-name",{appName:String(o)});if(n||(n=C2()),!n)throw Ds.create("no-options");const u=Ud.get(o);if(u){if(ja(n,u.options)&&ja(s,u.config))return u;throw Ds.create("duplicate-app",{appName:o})}const h=new DT(o);for(const m of vg.values())h.addComponent(m);const g=new AA(n,s,h);return Ud.set(o,g),g}function gh(i=xg){const e=Ud.get(i);if(!e&&i===xg&&C2())return D2();if(!e)throw Ds.create("no-app",{appName:i});return e}function hr(i,e,n){let s=EA[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(h.join(" "));return}Ns(new Li(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="firebase-heartbeat-database",wA=1,_c="firebase-heartbeat-store";let $p=null;function k2(){return $p||($p=qT(CA,wA,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(_c)}catch(n){console.warn(n)}}}}).catch(i=>{throw Ds.create("idb-open",{originalErrorMessage:i.message})})),$p}async function RA(i){try{const n=(await k2()).transaction(_c),s=await n.objectStore(_c).get(O2(i));return await n.done,s}catch(e){if(e instanceof Or)Ui.warn(e.message);else{const n=Ds.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ui.warn(n.message)}}}async function M1(i,e){try{const s=(await k2()).transaction(_c,"readwrite");await s.objectStore(_c).put(e,O2(i)),await s.done}catch(n){if(n instanceof Or)Ui.warn(n.message);else{const s=Ds.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ui.warn(s.message)}}}function O2(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=1024,IA=30;class DA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OA(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=N1();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>IA){const h=MA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ui.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=N1(),{heartbeatsToSend:s,unsentEntries:o}=kA(this._heartbeatsCache.heartbeats),u=Ld(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Ui.warn(n),""}}}function N1(){return new Date().toISOString().substring(0,10)}function kA(i,e=jA){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),z1(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),z1(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class OA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vT()?bT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await RA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return M1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return M1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function z1(i){return Ld(JSON.stringify({version:2,heartbeats:i})).length}function MA(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(i){Ns(new Li("platform-logger",e=>new YT(e),"PRIVATE")),Ns(new Li("heartbeat",e=>new DA(e),"PRIVATE")),hr(yg,k1,i),hr(yg,k1,"esm2020"),hr("fire-js","")}NA("");var zA="firebase",FA="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hr(zA,FA,"app");function M2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VA=M2,N2=new Mc("auth","Firebase",M2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd=new Qg("@firebase/auth");function LA(i,...e){Pd.logLevel<=We.WARN&&Pd.warn(`Auth (${Ma}): ${i}`,...e)}function jd(i,...e){Pd.logLevel<=We.ERROR&&Pd.error(`Auth (${Ma}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(i,...e){throw $g(i,...e)}function ii(i,...e){return $g(i,...e)}function z2(i,e,n){const s={...VA(),[e]:n};return new Mc("auth","Firebase",s).create(e,{appName:i.name})}function ks(i){return z2(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $g(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return N2.create(i,...e)}function Ie(i,e,...n){if(!i)throw $g(e,...n)}function zi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw jd(e),new Error(e)}function Pi(i,e){i||zi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.href)||""}function UA(){return F1()==="http:"||F1()==="https:"}function F1(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UA()||gT()||"connection"in navigator)?navigator.onLine:!0}function BA(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pi(n>e,"Short delay should be less than long delay!"),this.isMobile=hT()||mT()}get(){return PA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(i,e){Pi(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WA=new Fc(3e4,6e4);function Na(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function qs(i,e,n,s,o={}){return V2(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const g=Nc({key:i.config.apiKey,...h}).slice(1),m=await i._getAdditionalHeaders();m["Content-Type"]="application/json",i.languageCode&&(m["X-Firebase-Locale"]=i.languageCode);const x={method:e,headers:m,...u};return pT()||(x.referrerPolicy="no-referrer"),i.emulatorConfig&&fi(i.emulatorConfig.host)&&(x.credentials="include"),F2.fetch()(await L2(i,i.config.apiHost,n,g),x)})}async function V2(i,e,n){i._canInitEmulator=!1;const s={...HA,...e};try{const o=new YA(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw bd(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const g=u.ok?h.errorMessage:h.error.message,[m,x]=g.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw bd(i,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw bd(i,"email-already-in-use",h);if(m==="USER_DISABLED")throw bd(i,"user-disabled",h);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(x)throw z2(i,v,x);Dr(i,v)}}catch(o){if(o instanceof Or)throw o;Dr(i,"network-request-failed",{message:String(o)})}}async function mh(i,e,n,s,o={}){const u=await qs(i,e,n,s,o);return"mfaPendingCredential"in u&&Dr(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function L2(i,e,n,s){const o=`${e}${n}?${s}`,u=i,h=u.config.emulator?Xg(i.config,o):`${i.config.apiScheme}://${o}`;return qA.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function GA(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ii(this.auth,"network-request-failed")),WA.get())})}}function bd(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ii(i,e,s);return o.customData._tokenResponse=n,o}function V1(i){return i!==void 0&&i.enterprise!==void 0}class QA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return GA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function KA(i,e){return qs(i,"GET","/v2/recaptchaConfig",Na(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $A(i,e){return qs(i,"POST","/v1/accounts:delete",e)}async function Bd(i,e){return qs(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XA(i,e=!1){const n=yt(i),s=await n.getIdToken(e),o=Jg(s);Ie(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:hc(Xp(o.auth_time)),issuedAtTime:hc(Xp(o.iat)),expirationTime:hc(Xp(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Xp(i){return Number(i)*1e3}function Jg(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return jd("JWT malformed, contained fewer than 3 sections"),null;try{const o=T2(n);return o?JSON.parse(o):(jd("Failed to decode base64 JWT payload"),null)}catch(o){return jd("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function L1(i){const e=Jg(i);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ec(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Or&&JA(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function JA({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hc(this.lastLoginAt),this.creationTime=hc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hd(i){var S;const e=i.auth,n=await i.getIdToken(),s=await Ec(i,Bd(e,{idToken:n}));Ie(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=(S=o.providerUserInfo)!=null&&S.length?U2(o.providerUserInfo):[],h=tC(i.providerData,u),g=i.isAnonymous,m=!(i.email&&o.passwordHash)&&!(h!=null&&h.length),x=g?m:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new _g(o.createdAt,o.lastLoginAt),isAnonymous:x};Object.assign(i,v)}async function eC(i){const e=yt(i);await Hd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tC(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function U2(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nC(i,e){const n=await V2(i,{},async()=>{const s=Nc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await L2(i,o,"/v1/token",`key=${u}`),g=await i._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:g,body:s};return i.emulatorConfig&&fi(i.emulatorConfig.host)&&(m.credentials="include"),F2.fetch()(h,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rC(i,e){return qs(i,"POST","/v2/accounts:revokeToken",Na(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):L1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const n=L1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await nC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new Oo;return s&&(Ie(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ie(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ie(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oo,this.toJSON())}_performRefresh(){return zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(i,e){Ie(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class jr{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new ZA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new _g(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ec(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return XA(this,e)}reload(){return eC(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new jr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Hd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(ks(this.auth));const e=await this.getIdToken();return await Ec(this,$A(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,g=n.tenantId??void 0,m=n._redirectEventId??void 0,x=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:S,emailVerified:D,isAnonymous:O,providerData:W,stsTokenManager:te}=n;Ie(S&&te,e,"internal-error");const G=Oo.fromJSON(this.name,te);Ie(typeof S=="string",e,"internal-error"),Ss(s,e.name),Ss(o,e.name),Ie(typeof D=="boolean",e,"internal-error"),Ie(typeof O=="boolean",e,"internal-error"),Ss(u,e.name),Ss(h,e.name),Ss(g,e.name),Ss(m,e.name),Ss(x,e.name),Ss(v,e.name);const L=new jr({uid:S,auth:e,email:o,emailVerified:D,displayName:s,isAnonymous:O,photoURL:h,phoneNumber:u,tenantId:g,stsTokenManager:G,createdAt:x,lastLoginAt:v});return W&&Array.isArray(W)&&(L.providerData=W.map($=>({...$}))),m&&(L._redirectEventId=m),L}static async _fromIdTokenResponse(e,n,s=!1){const o=new Oo;o.updateFromServerResponse(n);const u=new jr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Hd(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ie(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?U2(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),g=new Oo;g.updateFromIdToken(s);const m=new jr({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:h}),x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new _g(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,x),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=new Map;function Fi(i){Pi(i instanceof Function,"Expected a class definition");let e=U1.get(i);return e?(Pi(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,U1.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}P2.type="NONE";const P1=P2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(i,e,n){return`firebase:${i}:${e}:${n}`}class Mo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Id(this.userKey,o.apiKey,u),this.fullPersistenceKey=Id("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Bd(this.auth,{idToken:e}).catch(()=>{});return n?jr._fromGetAccountInfoResponse(this.auth,n,e):null}return jr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Mo(Fi(P1),e,s);const o=(await Promise.all(n.map(async x=>{if(await x._isAvailable())return x}))).filter(x=>x);let u=o[0]||Fi(P1);const h=Id(s,e.config.apiKey,e.name);let g=null;for(const x of n)try{const v=await x._get(h);if(v){let S;if(typeof v=="string"){const D=await Bd(e,{idToken:v}).catch(()=>{});if(!D)break;S=await jr._fromGetAccountInfoResponse(e,D,v)}else S=jr._fromJSON(e,v);x!==u&&(g=S),u=x;break}}catch{}const m=o.filter(x=>x._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new Mo(u,e,s):(u=m[0],g&&await u._set(h,g.toJSON()),await Promise.all(n.map(async x=>{if(x!==u)try{await x._remove(h)}catch{}})),new Mo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(W2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(B2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Y2(e))return"Blackberry";if(Q2(e))return"Webos";if(H2(e))return"Safari";if((e.includes("chrome/")||q2(e))&&!e.includes("edge/"))return"Chrome";if(G2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function B2(i=xn()){return/firefox\//i.test(i)}function H2(i=xn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function q2(i=xn()){return/crios\//i.test(i)}function W2(i=xn()){return/iemobile/i.test(i)}function G2(i=xn()){return/android/i.test(i)}function Y2(i=xn()){return/blackberry/i.test(i)}function Q2(i=xn()){return/webos/i.test(i)}function Zg(i=xn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function iC(i=xn()){var e;return Zg(i)&&!!((e=window.navigator)!=null&&e.standalone)}function sC(){return yT()&&document.documentMode===10}function K2(i=xn()){return Zg(i)||G2(i)||Q2(i)||Y2(i)||/windows phone/i.test(i)||W2(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(i,e=[]){let n;switch(i){case"Browser":n=B1(xn());break;case"Worker":n=`${B1(xn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ma}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,g)=>{try{const m=e(u);h(m)}catch(m){g(m)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oC(i,e={}){return qs(i,"GET","/v2/passwordPolicy",Na(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=6;class cC{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??lC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new H1(this),this.idTokenSubscription=new H1(this),this.beforeStateQueue=new aC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=N2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fi(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Mo.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Bd(this,{idToken:e}),s=await jr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(Gn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(g,g))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(u=this.redirectUser)==null?void 0:u._redirectEventId,g=s==null?void 0:s._redirectEventId,m=await this.tryRedirectSignIn(e);(!h||h===g)&&(m!=null&&m.user)&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(h){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(ks(this));const n=e?yt(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oC(this),n=new cC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Mc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await rC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fi(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await Mo.create(this,[Fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(g,this,"internal-error"),g.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,o);return()=>{h=!0,m()}}else{const m=e.addObserver(n);return()=>{h=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&LA(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Wo(i){return yt(i)}class H1{constructor(e){this.auth=e,this.observer=null,this.addObserver=AT(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dC(i){yh=i}function X2(i){return yh.loadJS(i)}function hC(){return yh.recaptchaEnterpriseScript}function fC(){return yh.gapiScript}function pC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class gC{constructor(){this.enterprise=new mC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class mC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const yC="recaptcha-enterprise",J2="NO_RECAPTCHA";class xC{constructor(e){this.type=yC,this.auth=Wo(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,g)=>{KA(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const x=new QA(m);return u.tenantId==null?u._agentRecaptchaConfig=x:u._tenantRecaptchaConfigs[u.tenantId]=x,h(x.siteKey)}}).catch(m=>{g(m)})})}function o(u,h,g){const m=window.grecaptcha;V1(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(x=>{h(x)}).catch(()=>{h(J2)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new gC().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(g=>{if(!n&&V1(window.grecaptcha))o(g,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let m=hC();m.length!==0&&(m+=g),X2(m).then(()=>{o(g,u,h)}).catch(x=>{h(x)})}}).catch(g=>{h(g)})})}}async function q1(i,e,n,s=!1,o=!1){const u=new xC(i);let h;if(o)h=J2;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const g={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const m=g.phoneEnrollmentInfo.phoneNumber,x=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:x,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const m=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:h}):Object.assign(g,{captchaResponse:h}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function W1(i,e,n,s,o){var u;if((u=i._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await q1(i,e,n,n==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await q1(i,e,n,n==="getOobCode");return s(i,g)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(i,e){const n=zc(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ja(u,e??{}))return o;Dr(o,"already-initialized")}return n.initialize({options:e})}function bC(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Fi);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function _C(i,e,n){const s=Wo(i);Ie(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Z2(e),{host:h,port:g}=EC(e),m=g===null?"":`:${g}`,x={url:`${u}//${h}${m}/`},v=Object.freeze({host:h,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ie(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ie(ja(x,s.config.emulator)&&ja(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=x,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,fi(h)?(fh(`${u}//${h}${m}`),ph("Auth",!0)):SC()}function Z2(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function EC(i){const e=Z2(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:G1(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:G1(h)}}}function G1(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function SC(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zi("not implemented")}_getIdTokenResponse(e){return zi("not implemented")}_linkToIdToken(e,n){return zi("not implemented")}_getReauthenticationResolver(e){return zi("not implemented")}}async function TC(i,e){return qs(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AC(i,e){return mh(i,"POST","/v1/accounts:signInWithPassword",Na(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(i,e){return mh(i,"POST","/v1/accounts:signInWithEmailLink",Na(i,e))}async function wC(i,e){return mh(i,"POST","/v1/accounts:signInWithEmailLink",Na(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends em{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Sc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Sc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return W1(e,n,"signInWithPassword",AC);case"emailLink":return CC(e,{email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return W1(e,s,"signUpPassword",TC);case"emailLink":return wC(e,{idToken:n,email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(i,e){return mh(i,"POST","/v1/accounts:signInWithIdp",Na(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="http://localhost";class Ia extends em{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Dr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new Ia(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return No(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,No(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,No(e,n)}buildRequest(){const e={requestUri:RC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function IC(i){const e=ic(sc(i)).link,n=e?ic(sc(e)).deep_link_id:null,s=ic(sc(i)).deep_link_id;return(s?ic(sc(s)).link:null)||s||n||e||i}class tm{constructor(e){const n=ic(sc(e)),s=n.apiKey??null,o=n.oobCode??null,u=jC(n.mode??null);Ie(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=IC(e);try{return new tm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.providerId=Go.PROVIDER_ID}static credential(e,n){return Sc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=tm.parseLink(n);return Ie(s,"argument-error"),Sc._fromEmailAndCode(e,s.code,s.tenantId)}}Go.PROVIDER_ID="password";Go.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc extends eb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Vc{constructor(){super("facebook.com")}static credential(e){return Ia._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ts.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends Vc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ia._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return As.credential(n,s)}catch{return null}}}As.GOOGLE_SIGN_IN_METHOD="google.com";As.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends Vc{constructor(){super("github.com")}static credential(e){return Ia._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.GITHUB_SIGN_IN_METHOD="github.com";Cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends Vc{constructor(){super("twitter.com")}static credential(e,n){return Ia._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ws.credential(n,s)}catch{return null}}}ws.TWITTER_SIGN_IN_METHOD="twitter.com";ws.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await jr._fromIdTokenResponse(e,s,o),h=Y1(s);return new Fo({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Y1(s);return new Fo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Y1(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd extends Or{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,qd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new qd(e,n,s,o)}}function tb(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?qd._fromErrorAndOperation(i,u,e,s):u})}async function DC(i,e,n=!1){const s=await Ec(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Fo._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(i,e,n=!1){const{auth:s}=i;if(Gn(s.app))return Promise.reject(ks(s));const o="reauthenticate";try{const u=await Ec(i,tb(s,o,e,i),n);Ie(u.idToken,s,"internal-error");const h=Jg(u.idToken);Ie(h,s,"internal-error");const{sub:g}=h;return Ie(i.uid===g,s,"user-mismatch"),Fo._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Dr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nb(i,e,n=!1){if(Gn(i.app))return Promise.reject(ks(i));const s="signIn",o=await tb(i,s,e),u=await Fo._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function OC(i,e){return nb(Wo(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MC(i){const e=Wo(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function NC(i,e,n){return Gn(i.app)?Promise.reject(ks(i)):OC(yt(i),Go.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&MC(i),s})}function zC(i,e,n,s){return yt(i).onIdTokenChanged(e,n,s)}function FC(i,e,n){return yt(i).beforeAuthStateChanged(e,n)}function VC(i,e,n,s){return yt(i).onAuthStateChanged(e,n,s)}function LC(i){return yt(i).signOut()}const Wd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wd,"1"),this.storage.removeItem(Wd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=1e3,PC=10;class ib extends rb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=K2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,g,m)=>{this.notifyListeners(h,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);sC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,PC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},UC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ib.type="LOCAL";const BC=ib;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb extends rb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}sb.type="SESSION";const ab=sb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new xh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const g=Array.from(h).map(async x=>x(n.origin,u)),m=await HC(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((g,m)=>{const x=nm("",20);o.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(S){const D=S;if(D.data.eventId===x)switch(D.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(D.data.response);break;default:clearTimeout(v),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:x,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(){return window}function WC(i){si().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(){return typeof si().WorkerGlobalScope<"u"&&typeof si().importScripts=="function"}async function GC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YC(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)==null?void 0:i.controller)||null}function QC(){return ob()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="firebaseLocalStorageDb",KC=1,Gd="firebaseLocalStorage",cb="fbase_key";class Lc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vh(i,e){return i.transaction([Gd],e?"readwrite":"readonly").objectStore(Gd)}function $C(){const i=indexedDB.deleteDatabase(lb);return new Lc(i).toPromise()}function Eg(){const i=indexedDB.open(lb,KC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Gd,{keyPath:cb})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Gd)?e(s):(s.close(),await $C(),e(await Eg()))})})}async function Q1(i,e,n){const s=vh(i,!0).put({[cb]:e,value:n});return new Lc(s).toPromise()}async function XC(i,e){const n=vh(i,!1).get(e),s=await new Lc(n).toPromise();return s===void 0?null:s.value}function K1(i,e){const n=vh(i,!0).delete(e);return new Lc(n).toPromise()}const JC=800,ZC=3;class ub{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Eg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>ZC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ob()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xh._getInstance(QC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await GC(),!this.activeServiceWorker)return;this.sender=new qC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Eg();return await Q1(e,Wd,"1"),await K1(e,Wd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Q1(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>XC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>K1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=vh(o,!1).getAll();return new Lc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ub.type="LOCAL";const ew=ub;new Fc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(i,e){return e?Fi(e):(Ie(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm extends em{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return No(e,this._buildIdpRequest())}_linkToIdToken(e,n){return No(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return No(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function nw(i){return nb(i.auth,new rm(i),i.bypassAuthState)}function rw(i){const{auth:e,user:n}=i;return Ie(n,e,"internal-error"),kC(n,new rm(i),i.bypassAuthState)}async function iw(i){const{auth:e,user:n}=i;return Ie(n,e,"internal-error"),DC(n,new rm(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:g}=e;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(m))}catch(x){this.reject(x)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nw;case"linkViaPopup":case"linkViaRedirect":return iw;case"reauthViaPopup":case"reauthViaRedirect":return rw;default:Dr(this.auth,"internal-error")}}resolve(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=new Fc(2e3,1e4);class ko extends db{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ko.currentPopupAction&&ko.currentPopupAction.cancel(),ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Pi(this.filter.length===1,"Popup operations only handle one event");const e=nm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sw.get())};e()}}ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="pendingRedirect",Dd=new Map;class ow extends db{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Dd.get(this.auth._key());if(!e){try{const s=await lw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Dd.set(this.auth._key(),e)}return this.bypassAuthState||Dd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lw(i,e){const n=dw(e),s=uw(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function cw(i,e){Dd.set(i._key(),e)}function uw(i){return Fi(i._redirectPersistence)}function dw(i){return Id(aw,i.config.apiKey,i.name)}async function hw(i,e,n=!1){if(Gn(i.app))return Promise.reject(ks(i));const s=Wo(i),o=tw(s,e),h=await new ow(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=600*1e3;class pw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gw(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!hb(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(ii(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fw&&this.cachedEventUids.clear(),this.cachedEventUids.has($1(e))}saveEventToCache(e){this.cachedEventUids.add($1(e)),this.lastProcessedEventTime=Date.now()}}function $1(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function hb({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function gw(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hb(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mw(i,e={}){return qs(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xw=/^https?/;async function vw(i){if(i.config.emulator)return;const{authorizedDomains:e}=await mw(i);for(const n of e)try{if(bw(n))return}catch{}Dr(i,"unauthorized-domain")}function bw(i){const e=bg(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!xw.test(n))return!1;if(yw.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=new Fc(3e4,6e4);function X1(){const i=si().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function Ew(i){return new Promise((e,n)=>{var o,u,h;function s(){X1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{X1(),n(ii(i,"network-request-failed"))},timeout:_w.get()})}if((u=(o=si().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((h=si().gapi)!=null&&h.load)s();else{const g=pC("iframefcb");return si()[g]=()=>{gapi.load?s():n(ii(i,"network-request-failed"))},X2(`${fC()}?onload=${g}`).catch(m=>n(m))}}).catch(e=>{throw kd=null,e})}let kd=null;function Sw(i){return kd=kd||Ew(i),kd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=new Fc(5e3,15e3),Aw="__/auth/iframe",Cw="emulator/auth/iframe",ww={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jw(i){const e=i.config;Ie(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Xg(e,Cw):`https://${i.config.authDomain}/${Aw}`,s={apiKey:e.apiKey,appName:i.name,v:Ma},o=Rw.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Nc(s).slice(1)}`}async function Iw(i){const e=await Sw(i),n=si().gapi;return Ie(n,i,"internal-error"),e.open({where:document.body,url:jw(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ww,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=ii(i,"network-request-failed"),g=si().setTimeout(()=>{u(h)},Tw.get());function m(){si().clearTimeout(g),o(s)}s.ping(m).then(m,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kw=500,Ow=600,Mw="_blank",Nw="http://localhost";class J1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zw(i,e,n,s=kw,o=Ow){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const m={...Dw,width:s.toString(),height:o.toString(),top:u,left:h},x=xn().toLowerCase();n&&(g=q2(x)?Mw:n),B2(x)&&(e=e||Nw,m.scrollbars="yes");const v=Object.entries(m).reduce((D,[O,W])=>`${D}${O}=${W},`,"");if(iC(x)&&g!=="_self")return Fw(e||"",g),new J1(null);const S=window.open(e||"",g,v);Ie(S,i,"popup-blocked");try{S.focus()}catch{}return new J1(S)}function Fw(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="__/auth/handler",Lw="emulator/auth/handler",Uw=encodeURIComponent("fac");async function Z1(i,e,n,s,o,u){Ie(i.config.authDomain,i,"auth-domain-config-required"),Ie(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Ma,eventId:o};if(e instanceof eb){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",TT(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,S]of Object.entries({}))h[v]=S}if(e instanceof Vc){const v=e.getScopes().filter(S=>S!=="");v.length>0&&(h.scopes=v.join(","))}i.tenantId&&(h.tid=i.tenantId);const g=h;for(const v of Object.keys(g))g[v]===void 0&&delete g[v];const m=await i._getAppCheckToken(),x=m?`#${Uw}=${encodeURIComponent(m)}`:"";return`${Pw(i)}?${Nc(g).slice(1)}${x}`}function Pw({config:i}){return i.emulator?Xg(i,Lw):`https://${i.authDomain}/${Vw}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="webStorageSupport";class Bw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ab,this._completeRedirectFn=hw,this._overrideRedirectResult=cw}async _openPopup(e,n,s,o){var h;Pi((h=this.eventManagers[e._key()])==null?void 0:h.manager,"_initialize() not called before _openPopup()");const u=await Z1(e,n,s,bg(),o);return zw(e,u,nm())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Z1(e,n,s,bg(),o);return WC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Pi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await Iw(e),s=new pw(e);return n.register("authEvent",o=>(Ie(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Jp,{type:Jp},o=>{var h;const u=(h=o==null?void 0:o[0])==null?void 0:h[Jp];u!==void 0&&n(!!u),Dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vw(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return K2()||H2()||Zg()}}const Hw=Bw;var ev="@firebase/auth",tv="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Gw(i){Ns(new Li("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:g}=s.options;Ie(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:h,authDomain:g,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$2(i)},x=new uC(s,o,u,m);return bC(x,n),x},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ns(new Li("auth-internal",e=>{const n=Wo(e.getProvider("auth").getImmediate());return(s=>new qw(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hr(ev,tv,Ww(i)),hr(ev,tv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=300,Qw=w2("authIdTokenMaxAge")||Yw;let nv=null;const Kw=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Qw)return;const o=n==null?void 0:n.token;nv!==o&&(nv=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function $w(i=gh()){const e=zc(i,"auth");if(e.isInitialized())return e.getImmediate();const n=vC(i,{popupRedirectResolver:Hw,persistence:[ew,BC,ab]}),s=w2("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=Kw(u.toString());FC(n,h,()=>h(n.currentUser)),zC(n,g=>h(g))}}const o=A2("auth");return o&&_C(n,`http://${o}`),n}function Xw(){var i;return((i=document.getElementsByTagName("head"))==null?void 0:i[0])??document}dC({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=ii("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",Xw().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Gw("Browser");var rv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Os,fb;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,C){function A(){}A.prototype=C.prototype,I.F=C.prototype,I.prototype=new A,I.prototype.constructor=I,I.D=function(z,k,U){for(var w=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)w[ve-2]=arguments[ve];return C.prototype[k].apply(z,w)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,C,A){A||(A=0);const z=Array(16);if(typeof C=="string")for(var k=0;k<16;++k)z[k]=C.charCodeAt(A++)|C.charCodeAt(A++)<<8|C.charCodeAt(A++)<<16|C.charCodeAt(A++)<<24;else for(k=0;k<16;++k)z[k]=C[A++]|C[A++]<<8|C[A++]<<16|C[A++]<<24;C=I.g[0],A=I.g[1],k=I.g[2];let U=I.g[3],w;w=C+(U^A&(k^U))+z[0]+3614090360&4294967295,C=A+(w<<7&4294967295|w>>>25),w=U+(k^C&(A^k))+z[1]+3905402710&4294967295,U=C+(w<<12&4294967295|w>>>20),w=k+(A^U&(C^A))+z[2]+606105819&4294967295,k=U+(w<<17&4294967295|w>>>15),w=A+(C^k&(U^C))+z[3]+3250441966&4294967295,A=k+(w<<22&4294967295|w>>>10),w=C+(U^A&(k^U))+z[4]+4118548399&4294967295,C=A+(w<<7&4294967295|w>>>25),w=U+(k^C&(A^k))+z[5]+1200080426&4294967295,U=C+(w<<12&4294967295|w>>>20),w=k+(A^U&(C^A))+z[6]+2821735955&4294967295,k=U+(w<<17&4294967295|w>>>15),w=A+(C^k&(U^C))+z[7]+4249261313&4294967295,A=k+(w<<22&4294967295|w>>>10),w=C+(U^A&(k^U))+z[8]+1770035416&4294967295,C=A+(w<<7&4294967295|w>>>25),w=U+(k^C&(A^k))+z[9]+2336552879&4294967295,U=C+(w<<12&4294967295|w>>>20),w=k+(A^U&(C^A))+z[10]+4294925233&4294967295,k=U+(w<<17&4294967295|w>>>15),w=A+(C^k&(U^C))+z[11]+2304563134&4294967295,A=k+(w<<22&4294967295|w>>>10),w=C+(U^A&(k^U))+z[12]+1804603682&4294967295,C=A+(w<<7&4294967295|w>>>25),w=U+(k^C&(A^k))+z[13]+4254626195&4294967295,U=C+(w<<12&4294967295|w>>>20),w=k+(A^U&(C^A))+z[14]+2792965006&4294967295,k=U+(w<<17&4294967295|w>>>15),w=A+(C^k&(U^C))+z[15]+1236535329&4294967295,A=k+(w<<22&4294967295|w>>>10),w=C+(k^U&(A^k))+z[1]+4129170786&4294967295,C=A+(w<<5&4294967295|w>>>27),w=U+(A^k&(C^A))+z[6]+3225465664&4294967295,U=C+(w<<9&4294967295|w>>>23),w=k+(C^A&(U^C))+z[11]+643717713&4294967295,k=U+(w<<14&4294967295|w>>>18),w=A+(U^C&(k^U))+z[0]+3921069994&4294967295,A=k+(w<<20&4294967295|w>>>12),w=C+(k^U&(A^k))+z[5]+3593408605&4294967295,C=A+(w<<5&4294967295|w>>>27),w=U+(A^k&(C^A))+z[10]+38016083&4294967295,U=C+(w<<9&4294967295|w>>>23),w=k+(C^A&(U^C))+z[15]+3634488961&4294967295,k=U+(w<<14&4294967295|w>>>18),w=A+(U^C&(k^U))+z[4]+3889429448&4294967295,A=k+(w<<20&4294967295|w>>>12),w=C+(k^U&(A^k))+z[9]+568446438&4294967295,C=A+(w<<5&4294967295|w>>>27),w=U+(A^k&(C^A))+z[14]+3275163606&4294967295,U=C+(w<<9&4294967295|w>>>23),w=k+(C^A&(U^C))+z[3]+4107603335&4294967295,k=U+(w<<14&4294967295|w>>>18),w=A+(U^C&(k^U))+z[8]+1163531501&4294967295,A=k+(w<<20&4294967295|w>>>12),w=C+(k^U&(A^k))+z[13]+2850285829&4294967295,C=A+(w<<5&4294967295|w>>>27),w=U+(A^k&(C^A))+z[2]+4243563512&4294967295,U=C+(w<<9&4294967295|w>>>23),w=k+(C^A&(U^C))+z[7]+1735328473&4294967295,k=U+(w<<14&4294967295|w>>>18),w=A+(U^C&(k^U))+z[12]+2368359562&4294967295,A=k+(w<<20&4294967295|w>>>12),w=C+(A^k^U)+z[5]+4294588738&4294967295,C=A+(w<<4&4294967295|w>>>28),w=U+(C^A^k)+z[8]+2272392833&4294967295,U=C+(w<<11&4294967295|w>>>21),w=k+(U^C^A)+z[11]+1839030562&4294967295,k=U+(w<<16&4294967295|w>>>16),w=A+(k^U^C)+z[14]+4259657740&4294967295,A=k+(w<<23&4294967295|w>>>9),w=C+(A^k^U)+z[1]+2763975236&4294967295,C=A+(w<<4&4294967295|w>>>28),w=U+(C^A^k)+z[4]+1272893353&4294967295,U=C+(w<<11&4294967295|w>>>21),w=k+(U^C^A)+z[7]+4139469664&4294967295,k=U+(w<<16&4294967295|w>>>16),w=A+(k^U^C)+z[10]+3200236656&4294967295,A=k+(w<<23&4294967295|w>>>9),w=C+(A^k^U)+z[13]+681279174&4294967295,C=A+(w<<4&4294967295|w>>>28),w=U+(C^A^k)+z[0]+3936430074&4294967295,U=C+(w<<11&4294967295|w>>>21),w=k+(U^C^A)+z[3]+3572445317&4294967295,k=U+(w<<16&4294967295|w>>>16),w=A+(k^U^C)+z[6]+76029189&4294967295,A=k+(w<<23&4294967295|w>>>9),w=C+(A^k^U)+z[9]+3654602809&4294967295,C=A+(w<<4&4294967295|w>>>28),w=U+(C^A^k)+z[12]+3873151461&4294967295,U=C+(w<<11&4294967295|w>>>21),w=k+(U^C^A)+z[15]+530742520&4294967295,k=U+(w<<16&4294967295|w>>>16),w=A+(k^U^C)+z[2]+3299628645&4294967295,A=k+(w<<23&4294967295|w>>>9),w=C+(k^(A|~U))+z[0]+4096336452&4294967295,C=A+(w<<6&4294967295|w>>>26),w=U+(A^(C|~k))+z[7]+1126891415&4294967295,U=C+(w<<10&4294967295|w>>>22),w=k+(C^(U|~A))+z[14]+2878612391&4294967295,k=U+(w<<15&4294967295|w>>>17),w=A+(U^(k|~C))+z[5]+4237533241&4294967295,A=k+(w<<21&4294967295|w>>>11),w=C+(k^(A|~U))+z[12]+1700485571&4294967295,C=A+(w<<6&4294967295|w>>>26),w=U+(A^(C|~k))+z[3]+2399980690&4294967295,U=C+(w<<10&4294967295|w>>>22),w=k+(C^(U|~A))+z[10]+4293915773&4294967295,k=U+(w<<15&4294967295|w>>>17),w=A+(U^(k|~C))+z[1]+2240044497&4294967295,A=k+(w<<21&4294967295|w>>>11),w=C+(k^(A|~U))+z[8]+1873313359&4294967295,C=A+(w<<6&4294967295|w>>>26),w=U+(A^(C|~k))+z[15]+4264355552&4294967295,U=C+(w<<10&4294967295|w>>>22),w=k+(C^(U|~A))+z[6]+2734768916&4294967295,k=U+(w<<15&4294967295|w>>>17),w=A+(U^(k|~C))+z[13]+1309151649&4294967295,A=k+(w<<21&4294967295|w>>>11),w=C+(k^(A|~U))+z[4]+4149444226&4294967295,C=A+(w<<6&4294967295|w>>>26),w=U+(A^(C|~k))+z[11]+3174756917&4294967295,U=C+(w<<10&4294967295|w>>>22),w=k+(C^(U|~A))+z[2]+718787259&4294967295,k=U+(w<<15&4294967295|w>>>17),w=A+(U^(k|~C))+z[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(k+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+U&4294967295}s.prototype.v=function(I,C){C===void 0&&(C=I.length);const A=C-this.blockSize,z=this.C;let k=this.h,U=0;for(;U<C;){if(k==0)for(;U<=A;)o(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<C;)if(z[k++]=I.charCodeAt(U++),k==this.blockSize){o(this,z),k=0;break}}else for(;U<C;)if(z[k++]=I[U++],k==this.blockSize){o(this,z),k=0;break}}this.h=k,this.o+=C},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;C=this.o*8;for(var A=I.length-8;A<I.length;++A)I[A]=C&255,C/=256;for(this.v(I),I=Array(16),C=0,A=0;A<4;++A)for(let z=0;z<32;z+=8)I[C++]=this.g[A]>>>z&255;return I};function u(I,C){var A=g;return Object.prototype.hasOwnProperty.call(A,I)?A[I]:A[I]=C(I)}function h(I,C){this.h=C;const A=[];let z=!0;for(let k=I.length-1;k>=0;k--){const U=I[k]|0;z&&U==C||(A[k]=U,z=!1)}this.g=A}var g={};function m(I){return-128<=I&&I<128?u(I,function(C){return new h([C|0],C<0?-1:0)}):new h([I|0],I<0?-1:0)}function x(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return G(x(-I));const C=[];let A=1;for(let z=0;I>=A;z++)C[z]=I/A|0,A*=4294967296;return new h(C,0)}function v(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return G(v(I.substring(1),C));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=x(Math.pow(C,8));let z=S;for(let U=0;U<I.length;U+=8){var k=Math.min(8,I.length-U);const w=parseInt(I.substring(U,U+k),C);k<8?(k=x(Math.pow(C,k)),z=z.j(k).add(x(w))):(z=z.j(A),z=z.add(x(w)))}return z}var S=m(0),D=m(1),O=m(16777216);i=h.prototype,i.m=function(){if(te(this))return-G(this).m();let I=0,C=1;for(let A=0;A<this.g.length;A++){const z=this.i(A);I+=(z>=0?z:4294967296+z)*C,C*=4294967296}return I},i.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(W(this))return"0";if(te(this))return"-"+G(this).toString(I);const C=x(Math.pow(I,6));var A=this;let z="";for(;;){const k=se(A,C).g;A=L(A,k.j(C));let U=((A.g.length>0?A.g[0]:A.h)>>>0).toString(I);if(A=k,W(A))return U+z;for(;U.length<6;)U="0"+U;z=U+z}},i.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function W(I){if(I.h!=0)return!1;for(let C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function te(I){return I.h==-1}i.l=function(I){return I=L(this,I),te(I)?-1:W(I)?0:1};function G(I){const C=I.g.length,A=[];for(let z=0;z<C;z++)A[z]=~I.g[z];return new h(A,~I.h).add(D)}i.abs=function(){return te(this)?G(this):this},i.add=function(I){const C=Math.max(this.g.length,I.g.length),A=[];let z=0;for(let k=0;k<=C;k++){let U=z+(this.i(k)&65535)+(I.i(k)&65535),w=(U>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);z=w>>>16,U&=65535,w&=65535,A[k]=w<<16|U}return new h(A,A[A.length-1]&-2147483648?-1:0)};function L(I,C){return I.add(G(C))}i.j=function(I){if(W(this)||W(I))return S;if(te(this))return te(I)?G(this).j(G(I)):G(G(this).j(I));if(te(I))return G(this.j(G(I)));if(this.l(O)<0&&I.l(O)<0)return x(this.m()*I.m());const C=this.g.length+I.g.length,A=[];for(var z=0;z<2*C;z++)A[z]=0;for(z=0;z<this.g.length;z++)for(let k=0;k<I.g.length;k++){const U=this.i(z)>>>16,w=this.i(z)&65535,ve=I.i(k)>>>16,xe=I.i(k)&65535;A[2*z+2*k]+=w*xe,$(A,2*z+2*k),A[2*z+2*k+1]+=U*xe,$(A,2*z+2*k+1),A[2*z+2*k+1]+=w*ve,$(A,2*z+2*k+1),A[2*z+2*k+2]+=U*ve,$(A,2*z+2*k+2)}for(I=0;I<C;I++)A[I]=A[2*I+1]<<16|A[2*I];for(I=C;I<2*C;I++)A[I]=0;return new h(A,0)};function $(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function ae(I,C){this.g=I,this.h=C}function se(I,C){if(W(C))throw Error("division by zero");if(W(I))return new ae(S,S);if(te(I))return C=se(G(I),C),new ae(G(C.g),G(C.h));if(te(C))return C=se(I,G(C)),new ae(G(C.g),C.h);if(I.g.length>30){if(te(I)||te(C))throw Error("slowDivide_ only works with positive integers.");for(var A=D,z=C;z.l(I)<=0;)A=be(A),z=be(z);var k=_e(A,1),U=_e(z,1);for(z=_e(z,2),A=_e(A,2);!W(z);){var w=U.add(z);w.l(I)<=0&&(k=k.add(A),U=w),z=_e(z,1),A=_e(A,1)}return C=L(I,k.j(C)),new ae(k,C)}for(k=S;I.l(C)>=0;){for(A=Math.max(1,Math.floor(I.m()/C.m())),z=Math.ceil(Math.log(A)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),U=x(A),w=U.j(C);te(w)||w.l(I)>0;)A-=z,U=x(A),w=U.j(C);W(U)&&(U=D),k=k.add(U),I=L(I,w)}return new ae(k,I)}i.B=function(I){return se(this,I).h},i.and=function(I){const C=Math.max(this.g.length,I.g.length),A=[];for(let z=0;z<C;z++)A[z]=this.i(z)&I.i(z);return new h(A,this.h&I.h)},i.or=function(I){const C=Math.max(this.g.length,I.g.length),A=[];for(let z=0;z<C;z++)A[z]=this.i(z)|I.i(z);return new h(A,this.h|I.h)},i.xor=function(I){const C=Math.max(this.g.length,I.g.length),A=[];for(let z=0;z<C;z++)A[z]=this.i(z)^I.i(z);return new h(A,this.h^I.h)};function be(I){const C=I.g.length+1,A=[];for(let z=0;z<C;z++)A[z]=I.i(z)<<1|I.i(z-1)>>>31;return new h(A,I.h)}function _e(I,C){const A=C>>5;C%=32;const z=I.g.length-A,k=[];for(let U=0;U<z;U++)k[U]=C>0?I.i(U+A)>>>C|I.i(U+A+1)<<32-C:I.i(U+A);return new h(k,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,fb=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=x,h.fromString=v,Os=h}).apply(typeof rv<"u"?rv:typeof self<"u"?self:typeof window<"u"?window:{});var _d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pb,ac,gb,Od,Sg,mb,yb,xb;(function(){var i,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof _d=="object"&&_d];for(var y=0;y<d.length;++y){var _=d[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(d,y){if(y)e:{var _=s;d=d.split(".");for(var j=0;j<d.length-1;j++){var Y=d[j];if(!(Y in _))break e;_=_[Y]}d=d[d.length-1],j=_[d],y=y(j),y!=j&&y!=null&&e(_,d,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(d){return d||function(y){var _=[],j;for(j in y)Object.prototype.hasOwnProperty.call(y,j)&&_.push([j,y[j]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function g(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function m(d,y,_){return d.call.apply(d.bind,arguments)}function x(d,y,_){return x=m,x.apply(null,arguments)}function v(d,y){var _=Array.prototype.slice.call(arguments,1);return function(){var j=_.slice();return j.push.apply(j,arguments),d.apply(this,j)}}function S(d,y){function _(){}_.prototype=y.prototype,d.Z=y.prototype,d.prototype=new _,d.prototype.constructor=d,d.Ob=function(j,Y,Z){for(var ge=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)ge[Ne-2]=arguments[Ne];return y.prototype[Y].apply(j,ge)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function O(d){const y=d.length;if(y>0){const _=Array(y);for(let j=0;j<y;j++)_[j]=d[j];return _}return[]}function W(d,y){for(let j=1;j<arguments.length;j++){const Y=arguments[j];var _=typeof Y;if(_=_!="object"?_:Y?Array.isArray(Y)?"array":_:"null",_=="array"||_=="object"&&typeof Y.length=="number"){_=d.length||0;const Z=Y.length||0;d.length=_+Z;for(let ge=0;ge<Z;ge++)d[_+ge]=Y[ge]}else d.push(Y)}}class te{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function G(d){h.setTimeout(()=>{throw d},0)}function L(){var d=I;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class ${constructor(){this.h=this.g=null}add(y,_){const j=ae.get();j.set(y,_),this.h?this.h.next=j:this.g=j,this.h=j}}var ae=new te(()=>new se,d=>d.reset());class se{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let be,_e=!1,I=new $,C=()=>{const d=Promise.resolve(void 0);be=()=>{d.then(A)}};function A(){for(var d;d=L();){try{d.h.call(d.g)}catch(_){G(_)}var y=ae;y.j(d),y.h<100&&(y.h++,d.next=y.g,y.g=d)}_e=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const _=()=>{};h.addEventListener("test",_,y),h.removeEventListener("test",_,y)}catch{}return d})();function w(d){return/^[\s\xa0]*$/.test(d)}function ve(d,y){k.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,y)}S(ve,k),ve.prototype.init=function(d,y){const _=this.type=d.type,j=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget,y||(_=="mouseover"?y=d.fromElement:_=="mouseout"&&(y=d.toElement)),this.relatedTarget=y,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&ve.Z.h.call(this)},ve.prototype.h=function(){ve.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var xe="closure_listenable_"+(Math.random()*1e6|0),P=0;function he(d,y,_,j,Y){this.listener=d,this.proxy=null,this.src=y,this.type=_,this.capture=!!j,this.ha=Y,this.key=++P,this.da=this.fa=!1}function ye(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function re(d,y,_){for(const j in d)y.call(_,d[j],j,d)}function F(d,y){for(const _ in d)y.call(void 0,d[_],_,d)}function E(d){const y={};for(const _ in d)y[_]=d[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(d,y){let _,j;for(let Y=1;Y<arguments.length;Y++){j=arguments[Y];for(_ in j)d[_]=j[_];for(let Z=0;Z<R.length;Z++)_=R[Z],Object.prototype.hasOwnProperty.call(j,_)&&(d[_]=j[_])}}function N(d){this.src=d,this.g={},this.h=0}N.prototype.add=function(d,y,_,j,Y){const Z=d.toString();d=this.g[Z],d||(d=this.g[Z]=[],this.h++);const ge=J(d,y,j,Y);return ge>-1?(y=d[ge],_||(y.fa=!1)):(y=new he(y,this.src,Z,!!j,Y),y.fa=_,d.push(y)),y};function q(d,y){const _=y.type;if(_ in d.g){var j=d.g[_],Y=Array.prototype.indexOf.call(j,y,void 0),Z;(Z=Y>=0)&&Array.prototype.splice.call(j,Y,1),Z&&(ye(y),d.g[_].length==0&&(delete d.g[_],d.h--))}}function J(d,y,_,j){for(let Y=0;Y<d.length;++Y){const Z=d[Y];if(!Z.da&&Z.listener==y&&Z.capture==!!_&&Z.ha==j)return Y}return-1}var pe="closure_lm_"+(Math.random()*1e6|0),Be={};function st(d,y,_,j,Y){if(Array.isArray(y)){for(let Z=0;Z<y.length;Z++)st(d,y[Z],_,j,Y);return null}return _=Je(_),d&&d[xe]?d.J(y,_,g(j)?!!j.capture:!1,Y):zt(d,y,_,!1,j,Y)}function zt(d,y,_,j,Y,Z){if(!y)throw Error("Invalid event type");const ge=g(Y)?!!Y.capture:!!Y;let Ne=Ke(d);if(Ne||(d[pe]=Ne=new N(d)),_=Ne.add(y,_,j,ge,Z),_.proxy)return _;if(j=at(),_.proxy=j,j.src=d,j.listener=_,d.addEventListener)U||(Y=ge),Y===void 0&&(Y=!1),d.addEventListener(y.toString(),j,Y);else if(d.attachEvent)d.attachEvent(Xe(y.toString()),j);else if(d.addListener&&d.removeListener)d.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return _}function at(){function d(_){return y.call(d.src,d.listener,_)}const y=jt;return d}function Kn(d,y,_,j,Y){if(Array.isArray(y))for(var Z=0;Z<y.length;Z++)Kn(d,y[Z],_,j,Y);else j=g(j)?!!j.capture:!!j,_=Je(_),d&&d[xe]?(d=d.i,Z=String(y).toString(),Z in d.g&&(y=d.g[Z],_=J(y,_,j,Y),_>-1&&(ye(y[_]),Array.prototype.splice.call(y,_,1),y.length==0&&(delete d.g[Z],d.h--)))):d&&(d=Ke(d))&&(y=d.g[y.toString()],d=-1,y&&(d=J(y,_,j,Y)),(_=d>-1?y[d]:null)&&$n(_))}function $n(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[xe])q(y.i,d);else{var _=d.type,j=d.proxy;y.removeEventListener?y.removeEventListener(_,j,d.capture):y.detachEvent?y.detachEvent(Xe(_),j):y.addListener&&y.removeListener&&y.removeListener(j),(_=Ke(y))?(q(_,d),_.h==0&&(_.src=null,y[pe]=null)):ye(d)}}}function Xe(d){return d in Be?Be[d]:Be[d]="on"+d}function jt(d,y){if(d.da)d=!0;else{y=new ve(y,this);const _=d.listener,j=d.ha||d.src;d.fa&&$n(d),d=_.call(j,y)}return d}function Ke(d){return d=d[pe],d instanceof N?d:null}var Tt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Je(d){return typeof d=="function"?d:(d[Tt]||(d[Tt]=function(y){return d.handleEvent(y)}),d[Tt])}function Re(){z.call(this),this.i=new N(this),this.M=this,this.G=null}S(Re,z),Re.prototype[xe]=!0,Re.prototype.removeEventListener=function(d,y,_,j){Kn(this,d,y,_,j)};function Ze(d,y){var _,j=d.G;if(j)for(_=[];j;j=j.G)_.push(j);if(d=d.M,j=y.type||y,typeof y=="string")y=new k(y,d);else if(y instanceof k)y.target=y.target||d;else{var Y=y;y=new k(j,d),H(y,Y)}Y=!0;let Z,ge;if(_)for(ge=_.length-1;ge>=0;ge--)Z=y.g=_[ge],Y=zn(Z,j,!0,y)&&Y;if(Z=y.g=d,Y=zn(Z,j,!0,y)&&Y,Y=zn(Z,j,!1,y)&&Y,_)for(ge=0;ge<_.length;ge++)Z=y.g=_[ge],Y=zn(Z,j,!1,y)&&Y}Re.prototype.N=function(){if(Re.Z.N.call(this),this.i){var d=this.i;for(const y in d.g){const _=d.g[y];for(let j=0;j<_.length;j++)ye(_[j]);delete d.g[y],d.h--}}this.G=null},Re.prototype.J=function(d,y,_,j){return this.i.add(String(d),y,!1,_,j)},Re.prototype.K=function(d,y,_,j){return this.i.add(String(d),y,!0,_,j)};function zn(d,y,_,j){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();let Y=!0;for(let Z=0;Z<y.length;++Z){const ge=y[Z];if(ge&&!ge.da&&ge.capture==_){const Ne=ge.listener,Dt=ge.ha||ge.src;ge.fa&&q(d.i,ge),Y=Ne.call(Dt,j)!==!1&&Y}}return Y&&!j.defaultPrevented}function tl(d,y){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=x(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(d,y||0)}function Qs(d){d.g=tl(()=>{d.g=null,d.i&&(d.i=!1,Qs(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class Jt extends z{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Qs(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pi(d){z.call(this),this.h=d,this.g={}}S(pi,z);var gi=[];function Ks(d){re(d.g,function(y,_){this.g.hasOwnProperty(_)&&$n(y)},d),d.g={}}pi.prototype.N=function(){pi.Z.N.call(this),Ks(this)},pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mr=h.JSON.stringify,Bh=h.JSON.parse,Gc=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function Yc(){}function Qc(){}var mr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function rn(){k.call(this,"d")}S(rn,k);function Xn(){k.call(this,"c")}S(Xn,k);var It={},Kc=null;function Va(){return Kc=Kc||new Re}It.Ia="serverreachability";function $c(d){k.call(this,It.Ia,d)}S($c,k);function Nr(d){const y=Va();Ze(y,new $c(y))}It.STAT_EVENT="statevent";function $s(d,y){k.call(this,It.STAT_EVENT,d),this.stat=y}S($s,k);function Ft(d){const y=Va();Ze(y,new $s(y,d))}It.Ja="timingevent";function zr(d,y){k.call(this,It.Ja,d),this.size=y}S(zr,k);function Fr(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},y)}function yr(){this.g=!0}yr.prototype.ua=function(){this.g=!1};function Hh(d,y,_,j,Y,Z){d.info(function(){if(d.g)if(Z){var ge="",Ne=Z.split("&");for(let nt=0;nt<Ne.length;nt++){var Dt=Ne[nt].split("=");if(Dt.length>1){const _t=Dt[0];Dt=Dt[1];const tr=_t.split("_");ge=tr.length>=2&&tr[1]=="type"?ge+(_t+"="+Dt+"&"):ge+(_t+"=redacted&")}}}else ge=null;else ge=Z;return"XMLHTTP REQ ("+j+") [attempt "+Y+"]: "+y+`
`+_+`
`+ge})}function Xc(d,y,_,j,Y,Z,ge){d.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+Y+"]: "+y+`
`+_+`
`+Z+" "+ge})}function Vr(d,y,_,j){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+qh(d,_)+(j?" "+j:"")})}function Xs(d,y){d.info(function(){return"TIMEOUT: "+y})}yr.prototype.info=function(){};function qh(d,y){if(!d.g)return y;if(!y)return null;try{const Z=JSON.parse(y);if(Z){for(d=0;d<Z.length;d++)if(Array.isArray(Z[d])){var _=Z[d];if(!(_.length<2)){var j=_[1];if(Array.isArray(j)&&!(j.length<1)){var Y=j[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let ge=1;ge<j.length;ge++)j[ge]=""}}}}return Mr(Z)}catch{return y}}var Js={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},nl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},rl;function Zs(){}S(Zs,Yc),Zs.prototype.g=function(){return new XMLHttpRequest},rl=new Zs;function mi(d){return encodeURIComponent(String(d))}function Jc(d){var y=1;d=d.split(":");const _=[];for(;y>0&&d.length;)_.push(d.shift()),y--;return d.length&&_.push(d.join(":")),_}function xr(d,y,_,j){this.j=d,this.i=y,this.l=_,this.S=j||1,this.V=new pi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new vr}function vr(){this.i=null,this.g="",this.h=!1}var Vt={},Zt={};function Lr(d,y,_){d.M=1,d.A=ea(Ut(y)),d.u=_,d.R=!0,La(d,null)}function La(d,y){d.F=Date.now(),Ur(d),d.B=Ut(d.A);var _=d.B,j=d.S;Array.isArray(j)||(j=[String(j)]),Ha(_.i,"t",j),d.C=0,_=d.j.L,d.h=new vr,d.g=fu(d.j,_?y:null,!d.u),d.P>0&&(d.O=new Jt(x(d.Y,d,d.g),d.P)),y=d.V,_=d.g,j=d.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(gi[0]=Y.toString()),Y=gi);for(let Z=0;Z<Y.length;Z++){const ge=st(_,Y[Z],j||y.handleEvent,!1,y.h||y);if(!ge)break;y.g[ge.key]=ge}y=d.J?E(d.J):{},d.u?(d.v||(d.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,y)):(d.v="GET",d.g.ea(d.B,d.v,null,y)),Nr(),Hh(d.i,d.v,d.B,d.l,d.S,d.u)}xr.prototype.ba=function(d){d=d.target;const y=this.O;y&&Er(d)==3?y.j():this.Y(d)},xr.prototype.Y=function(d){try{if(d==this.g)e:{const Ne=Er(this.g),Dt=this.g.ya(),nt=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||sn(this.g)))){this.K||Ne!=4||Dt==7||(Dt==8||nt<=0?Nr(3):Nr(2)),Pr(this);var y=this.g.ca();this.X=y;var _=Wh(this);if(this.o=y==200,Xc(this.i,this.v,this.B,this.l,this.S,Ne,y),this.o){if(this.U&&!this.L){t:{if(this.g){var j,Y=this.g;if((j=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(j)){var Z=j;break t}}Z=null}if(d=Z)Vr(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Br(this,d);else{this.o=!1,this.m=3,Ft(12),Fn(this),Jn(this);break e}}if(this.R){d=!0;let _t;for(;!this.K&&this.C<_.length;)if(_t=eu(this,_),_t==Zt){Ne==4&&(this.m=4,Ft(14),d=!1),Vr(this.i,this.l,null,"[Incomplete Response]");break}else if(_t==Vt){this.m=4,Ft(15),Vr(this.i,this.l,_,"[Invalid Chunk]"),d=!1;break}else Vr(this.i,this.l,_t,null),Br(this,_t);if(Zc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||_.length!=0||this.h.h||(this.m=1,Ft(16),d=!1),this.o=this.o&&d,!d)Vr(this.i,this.l,_,"[Invalid Chunked Response]"),Fn(this),Jn(this);else if(_.length>0&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.aa&&!ge.P&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),xl(ge),ge.P=!0,Ft(11))}}else Vr(this.i,this.l,_,null),Br(this,_);Ne==4&&Fn(this),this.o&&!this.K&&(Ne==4?cu(this.j,this):(this.o=!1,Ur(this)))}else xi(this.g),y==400&&_.indexOf("Unknown SID")>0?(this.m=3,Ft(12)):(this.m=0,Ft(13)),Fn(this),Jn(this)}}}catch{}finally{}};function Wh(d){if(!Zc(d))return d.g.la();const y=sn(d.g);if(y==="")return"";let _="";const j=y.length,Y=Er(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Fn(d),Jn(d),"";d.h.i=new h.TextDecoder}for(let Z=0;Z<j;Z++)d.h.h=!0,_+=d.h.i.decode(y[Z],{stream:!(Y&&Z==j-1)});return y.length=0,d.h.g+=_,d.C=0,d.h.g}function Zc(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function eu(d,y){var _=d.C,j=y.indexOf(`
`,_);return j==-1?Zt:(_=Number(y.substring(_,j)),isNaN(_)?Vt:(j+=1,j+_>y.length?Zt:(y=y.slice(j,j+_),d.C=j+_,y)))}xr.prototype.cancel=function(){this.K=!0,Fn(this)};function Ur(d){d.T=Date.now()+d.H,Ua(d,d.H)}function Ua(d,y){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Fr(x(d.aa,d),y)}function Pr(d){d.D&&(h.clearTimeout(d.D),d.D=null)}xr.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Xs(this.i,this.B),this.M!=2&&(Nr(),Ft(17)),Fn(this),this.m=2,Jn(this)):Ua(this,this.T-d)};function Jn(d){d.j.I==0||d.K||cu(d.j,d)}function Fn(d){Pr(d);var y=d.O;y&&typeof y.dispose=="function"&&y.dispose(),d.O=null,Ks(d.V),d.g&&(y=d.g,d.g=null,y.abort(),y.dispose())}function Br(d,y){try{var _=d.j;if(_.I!=0&&(_.g==d||qr(_.h,d))){if(!d.L&&qr(_.h,d)&&_.I==3){try{var j=_.Ba.g.parse(y)}catch{j=null}if(Array.isArray(j)&&j.length==3){var Y=j;if(Y[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<d.F)Qa(_),Zi(_);else break e;oa(_),Ft(18)}}else _.xa=Y[1],0<_.xa-_.K&&Y[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Fr(x(_.Va,_),6e3));Hr(_.h)<=1&&_.ta&&(_.ta=void 0)}else $r(_,11)}else if((d.L||_.g==d)&&Qa(_),!w(y))for(Y=_.Ba.g.parse(y),y=0;y<Y.length;y++){let nt=Y[y];const _t=nt[0];if(!(_t<=_.K))if(_.K=_t,nt=nt[1],_.I==2)if(nt[0]=="c"){_.M=nt[1],_.ba=nt[2];const tr=nt[3];tr!=null&&(_.ka=tr,_.j.info("VER="+_.ka));const Xr=nt[4];Xr!=null&&(_.za=Xr,_.j.info("SVER="+_.za));const Sr=nt[5];Sr!=null&&typeof Sr=="number"&&Sr>0&&(j=1.5*Sr,_.O=j,_.j.info("backChannelRequestTimeoutMs_="+j)),j=_;const Tr=d.g;if(Tr){const la=Tr.g?Tr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(la){var Z=j.h;Z.g||la.indexOf("spdy")==-1&&la.indexOf("quic")==-1&&la.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(al(Z,Z.h),Z.h=null))}if(j.G){const Ka=Tr.g?Tr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ka&&(j.wa=Ka,lt(j.J,j.G,Ka))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-d.F,_.j.info("Handshake RTT: "+_.T+"ms")),j=_;var ge=d;if(j.na=hu(j,j.L?j.ba:null,j.W),ge.L){ol(j.h,ge);var Ne=ge,Dt=j.O;Dt&&(Ne.H=Dt),Ne.D&&(Pr(Ne),Ur(Ne)),j.g=ge}else ou(j);_.i.length>0&&Kr(_)}else nt[0]!="stop"&&nt[0]!="close"||$r(_,7);else _.I==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?$r(_,7):ml(_):nt[0]!="noop"&&_.l&&_.l.qa(nt),_.A=0)}}Nr(4)}catch{}}var Lt=class{constructor(d,y){this.g=d,this.map=y}};function il(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function sl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Hr(d){return d.h?1:d.g?d.g.size:0}function qr(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function al(d,y){d.g?d.g.add(y):d.h=y}function ol(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}il.prototype.cancel=function(){if(this.i=ll(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ll(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const _ of d.g.values())y=y.concat(_.G);return y}return O(d.i)}var tu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pa(d,y){if(d){d=d.split("&");for(let _=0;_<d.length;_++){const j=d[_].indexOf("=");let Y,Z=null;j>=0?(Y=d[_].substring(0,j),Z=d[_].substring(j+1)):Y=d[_],y(Y,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function Vn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;d instanceof Vn?(this.l=d.l,en(this,d.j),this.o=d.o,this.g=d.g,Gi(this,d.u),this.h=d.h,cl(this,su(d.i)),this.m=d.m):d&&(y=String(d).match(tu))?(this.l=!1,en(this,y[1]||"",!0),this.o=Wr(y[2]||""),this.g=Wr(y[3]||"",!0),Gi(this,y[4]),this.h=Wr(y[5]||"",!0),cl(this,y[6]||"",!0),this.m=Wr(y[7]||"")):(this.l=!1,this.i=new Qi(null,this.l))}Vn.prototype.toString=function(){const d=[];var y=this.j;y&&d.push(ta(y,Ba,!0),":");var _=this.g;return(_||y=="file")&&(d.push("//"),(y=this.o)&&d.push(ta(y,Ba,!0),"@"),d.push(mi(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&d.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&d.push("/"),d.push(ta(_,_.charAt(0)=="/"?ul:nu,!0))),(_=this.i.toString())&&d.push("?",_),(_=this.m)&&d.push("#",ta(_,ru)),d.join("")},Vn.prototype.resolve=function(d){const y=Ut(this);let _=!!d.j;_?en(y,d.j):_=!!d.o,_?y.o=d.o:_=!!d.g,_?y.g=d.g:_=d.u!=null;var j=d.h;if(_)Gi(y,d.u);else if(_=!!d.h){if(j.charAt(0)!="/")if(this.g&&!this.h)j="/"+j;else{var Y=y.h.lastIndexOf("/");Y!=-1&&(j=y.h.slice(0,Y+1)+j)}if(Y=j,Y==".."||Y==".")j="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){j=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const Z=[];for(let ge=0;ge<Y.length;){const Ne=Y[ge++];Ne=="."?j&&ge==Y.length&&Z.push(""):Ne==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),j&&ge==Y.length&&Z.push("")):(Z.push(Ne),j=!0)}j=Z.join("/")}else j=Y}return _?y.h=j:_=d.i.toString()!=="",_?cl(y,su(d.i)):_=!!d.m,_&&(y.m=d.m),y};function Ut(d){return new Vn(d)}function en(d,y,_){d.j=_?Wr(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function Gi(d,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);d.u=y}else d.u=null}function cl(d,y,_){y instanceof Qi?(d.i=y,qa(d.i,d.l)):(_||(y=ta(y,Yi)),d.i=new Qi(y,d.l))}function lt(d,y,_){d.i.set(y,_)}function ea(d){return lt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Wr(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ta(d,y,_){return typeof d=="string"?(d=encodeURI(d).replace(y,Sn),_&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Sn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ba=/[#\/\?@]/g,nu=/[#\?:]/g,ul=/[#\?]/g,Yi=/[#\?@]/g,ru=/#/g;function Qi(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function Tn(d){d.g||(d.g=new Map,d.h=0,d.i&&Pa(d.i,function(y,_){d.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Qi.prototype,i.add=function(d,y){Tn(this),this.i=null,d=Ki(this,d);let _=this.g.get(d);return _||this.g.set(d,_=[]),_.push(y),this.h+=1,this};function iu(d,y){Tn(d),y=Ki(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function dl(d,y){return Tn(d),y=Ki(d,y),d.g.has(y)}i.forEach=function(d,y){Tn(this),this.g.forEach(function(_,j){_.forEach(function(Y){d.call(y,Y,j,this)},this)},this)};function hl(d,y){Tn(d);let _=[];if(typeof y=="string")dl(d,y)&&(_=_.concat(d.g.get(Ki(d,y))));else for(d=Array.from(d.g.values()),y=0;y<d.length;y++)_=_.concat(d[y]);return _}i.set=function(d,y){return Tn(this),this.i=null,d=Ki(this,d),dl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},i.get=function(d,y){return d?(d=hl(this,d),d.length>0?String(d[0]):y):y};function Ha(d,y,_){iu(d,y),_.length>0&&(d.i=null,d.g.set(Ki(d,y),O(_)),d.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(let j=0;j<y.length;j++){var _=y[j];const Y=mi(_);_=hl(this,_);for(let Z=0;Z<_.length;Z++){let ge=Y;_[Z]!==""&&(ge+="="+mi(_[Z])),d.push(ge)}}return this.i=d.join("&")};function su(d){const y=new Qi;return y.i=d.i,d.g&&(y.g=new Map(d.g),y.h=d.h),y}function Ki(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function qa(d,y){y&&!d.j&&(Tn(d),d.i=null,d.g.forEach(function(_,j){const Y=j.toLowerCase();j!=Y&&(iu(this,j),Ha(this,Y,_))},d)),d.j=y}function br(d,y){const _=new yr;if(h.Image){const j=new Image;j.onload=v(Zn,_,"TestLoadImage: loaded",!0,y,j),j.onerror=v(Zn,_,"TestLoadImage: error",!1,y,j),j.onabort=v(Zn,_,"TestLoadImage: abort",!1,y,j),j.ontimeout=v(Zn,_,"TestLoadImage: timeout",!1,y,j),h.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=d}else y(!1)}function fl(d,y){const _=new yr,j=new AbortController,Y=setTimeout(()=>{j.abort(),Zn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:j.signal}).then(Z=>{clearTimeout(Y),Z.ok?Zn(_,"TestPingServer: ok",!0,y):Zn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(Y),Zn(_,"TestPingServer: error",!1,y)})}function Zn(d,y,_,j,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),j(_)}catch{}}function $i(){this.g=new Gc}function Gr(d){this.i=d.Sb||null,this.h=d.ab||!1}S(Gr,Yc),Gr.prototype.g=function(){return new na(this.i,this.h)};function na(d,y){Re.call(this),this.H=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(na,Re),i=na.prototype,i.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=y,this.readyState=1,_r(this)},i.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(y.body=d),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xi(this)),this.readyState=0},i.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,_r(this)),this.g&&(this.readyState=3,_r(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Wa(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Wa(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}i.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?Xi(this):_r(this),this.readyState==3&&Wa(this)}},i.Oa=function(d){this.g&&(this.response=this.responseText=d,Xi(this))},i.Na=function(d){this.g&&(this.response=d,Xi(this))},i.ga=function(){this.g&&Xi(this)};function Xi(d){d.readyState=4,d.l=null,d.j=null,d.B=null,_r(d)}i.setRequestHeader=function(d,y){this.A.append(d,y)},i.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,d.push(_[0]+": "+_[1]),_=y.next();return d.join(`\r
`)};function _r(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(na.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function er(d){let y="";return re(d,function(_,j){y+=j,y+=":",y+=_,y+=`\r
`}),y}function ra(d,y,_){e:{for(j in _){var j=!1;break e}j=!0}j||(_=er(_),typeof d=="string"?_!=null&&mi(_):lt(d,y,_))}function dt(d){Re.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(dt,Re);var Yr=/^https?$/i,pl=["POST","PUT"];i=dt.prototype,i.Fa=function(d){this.H=d},i.ea=function(d,y,_,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():rl.g(),this.g.onreadystatechange=D(x(this.Ca,this));try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(Z){ia(this,Z);return}if(d=_||"",_=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var Y in j)_.set(Y,j[Y]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const Z of j.keys())_.set(Z,j.get(Z));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(_.keys()).find(Z=>Z.toLowerCase()=="content-type"),Y=h.FormData&&d instanceof h.FormData,!(Array.prototype.indexOf.call(pl,y,void 0)>=0)||j||Y||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ge]of _)this.g.setRequestHeader(Z,ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(Z){ia(this,Z)}};function ia(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.o=5,gl(d),yi(d)}function gl(d){d.A||(d.A=!0,Ze(d,"complete"),Ze(d,"error"))}i.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Ze(this,"complete"),Ze(this,"abort"),yi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yi(this,!0)),dt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?sa(this):this.Xa())},i.Xa=function(){sa(this)};function sa(d){if(d.h&&typeof u<"u"){if(d.v&&Er(d)==4)setTimeout(d.Ca.bind(d),0);else if(Ze(d,"readystatechange"),Er(d)==4){d.h=!1;try{const Z=d.ca();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var j;if(j=Z===0){let ge=String(d.D).match(tu)[1]||null;!ge&&h.self&&h.self.location&&(ge=h.self.location.protocol.slice(0,-1)),j=!Yr.test(ge?ge.toLowerCase():"")}_=j}if(_)Ze(d,"complete"),Ze(d,"success");else{d.o=6;try{var Y=Er(d)>2?d.g.statusText:""}catch{Y=""}d.l=Y+" ["+d.ca()+"]",gl(d)}}finally{yi(d)}}}}function yi(d,y){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const _=d.g;d.g=null,y||Ze(d,"ready");try{_.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Er(d){return d.g?d.g.readyState:0}i.ca=function(){try{return Er(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),Bh(y)}};function sn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function xi(d){const y={};d=(d.g&&Er(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<d.length;j++){if(w(d[j]))continue;var _=Jc(d[j]);const Y=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Z=y[Y]||[];y[Y]=Z,Z.push(_)}F(y,function(j){return j.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qr(d,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[d]||y}function Ji(d){this.za=0,this.i=[],this.j=new yr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Qr("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Qr("baseRetryDelayMs",5e3,d),this.Za=Qr("retryDelaySeedMs",1e4,d),this.Ta=Qr("forwardChannelMaxRetries",2,d),this.va=Qr("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new il(d&&d.concurrentRequestLimit),this.Ba=new $i,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Ji.prototype,i.ka=8,i.I=1,i.connect=function(d,y,_,j){Ft(0),this.W=d,this.H=y||{},_&&j!==void 0&&(this.H.OSID=_,this.H.OAID=j),this.F=this.X,this.J=hu(this,null,this.W),Kr(this)};function ml(d){if(Ga(d),d.I==3){var y=d.V++,_=Ut(d.J);if(lt(_,"SID",d.M),lt(_,"RID",y),lt(_,"TYPE","terminate"),aa(d,_),y=new xr(d,d.j,y),y.M=2,y.A=ea(Ut(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!_&&h.Image&&(new Image().src=y.A,_=!0),_||(y.g=fu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ur(y)}du(d)}function Zi(d){d.g&&(xl(d),d.g.cancel(),d.g=null)}function Ga(d){Zi(d),d.v&&(h.clearTimeout(d.v),d.v=null),Qa(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&h.clearTimeout(d.m),d.m=null)}function Kr(d){if(!sl(d.h)&&!d.m){d.m=!0;var y=d.Ea;be||C(),_e||(be(),_e=!0),I.add(y,d),d.D=0}}function Ya(d,y){return Hr(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=y.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Fr(x(d.Ea,d,y),uu(d,d.D)),d.D++,!0)}i.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const Y=new xr(this,this.j,d);let Z=this.o;if(this.U&&(Z?(Z=E(Z),H(Z,this.U)):Z=this.U),this.u!==null||this.R||(Y.J=Z,Z=null),this.S)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var j=this.i[_];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(y+=j,y>4096){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=au(this,Y,y),_=Ut(this.J),lt(_,"RID",d),lt(_,"CVER",22),this.G&&lt(_,"X-HTTP-Session-Id",this.G),aa(this,_),Z&&(this.R?y="headers="+mi(er(Z))+"&"+y:this.u&&ra(_,this.u,Z)),al(this.h,Y),this.Ra&&lt(_,"TYPE","init"),this.S?(lt(_,"$req",y),lt(_,"SID","null"),Y.U=!0,Lr(Y,_,null)):Lr(Y,_,y),this.I=2}}else this.I==3&&(d?yl(this,d):this.i.length==0||sl(this.h)||yl(this))};function yl(d,y){var _;y?_=y.l:_=d.V++;const j=Ut(d.J);lt(j,"SID",d.M),lt(j,"RID",_),lt(j,"AID",d.K),aa(d,j),d.u&&d.o&&ra(j,d.u,d.o),_=new xr(d,d.j,_,d.D+1),d.u===null&&(_.J=d.o),y&&(d.i=y.G.concat(d.i)),y=au(d,_,1e3),_.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),al(d.h,_),Lr(_,j,y)}function aa(d,y){d.H&&re(d.H,function(_,j){lt(y,j,_)}),d.l&&re({},function(_,j){lt(y,j,_)})}function au(d,y,_){_=Math.min(d.i.length,_);const j=d.l?x(d.l.Ka,d.l,d):null;e:{var Y=d.i;let Ne=-1;for(;;){const Dt=["count="+_];Ne==-1?_>0?(Ne=Y[0].g,Dt.push("ofs="+Ne)):Ne=0:Dt.push("ofs="+Ne);let nt=!0;for(let _t=0;_t<_;_t++){var Z=Y[_t].g;const tr=Y[_t].map;if(Z-=Ne,Z<0)Ne=Math.max(0,Y[_t].g-100),nt=!1;else try{Z="req"+Z+"_"||"";try{var ge=tr instanceof Map?tr:Object.entries(tr);for(const[Xr,Sr]of ge){let Tr=Sr;g(Sr)&&(Tr=Mr(Sr)),Dt.push(Z+Xr+"="+encodeURIComponent(Tr))}}catch(Xr){throw Dt.push(Z+"type="+encodeURIComponent("_badmap")),Xr}}catch{j&&j(tr)}}if(nt){ge=Dt.join("&");break e}}ge=void 0}return d=d.i.splice(0,_),y.G=d,ge}function ou(d){if(!d.g&&!d.v){d.Y=1;var y=d.Da;be||C(),_e||(be(),_e=!0),I.add(y,d),d.A=0}}function oa(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Fr(x(d.Da,d),uu(d,d.A)),d.A++,!0)}i.Da=function(){if(this.v=null,lu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Fr(x(this.Wa,this),d)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ft(10),Zi(this),lu(this))};function xl(d){d.B!=null&&(h.clearTimeout(d.B),d.B=null)}function lu(d){d.g=new xr(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var y=Ut(d.na);lt(y,"RID","rpc"),lt(y,"SID",d.M),lt(y,"AID",d.K),lt(y,"CI",d.F?"0":"1"),!d.F&&d.ia&&lt(y,"TO",d.ia),lt(y,"TYPE","xmlhttp"),aa(d,y),d.u&&d.o&&ra(y,d.u,d.o),d.O&&(d.g.H=d.O);var _=d.g;d=d.ba,_.M=1,_.A=ea(Ut(y)),_.u=null,_.R=!0,La(_,d)}i.Va=function(){this.C!=null&&(this.C=null,Zi(this),oa(this),Ft(19))};function Qa(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function cu(d,y){var _=null;if(d.g==y){Qa(d),xl(d),d.g=null;var j=2}else if(qr(d.h,y))_=y.G,ol(d.h,y),j=1;else return;if(d.I!=0){if(y.o)if(j==1){_=y.u?y.u.length:0,y=Date.now()-y.F;var Y=d.D;j=Va(),Ze(j,new zr(j,_)),Kr(d)}else ou(d);else if(Y=y.m,Y==3||Y==0&&y.X>0||!(j==1&&Ya(d,y)||j==2&&oa(d)))switch(_&&_.length>0&&(y=d.h,y.i=y.i.concat(_)),Y){case 1:$r(d,5);break;case 4:$r(d,10);break;case 3:$r(d,6);break;default:$r(d,2)}}}function uu(d,y){let _=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(_*=2),_*y}function $r(d,y){if(d.j.info("Error code "+y),y==2){var _=x(d.bb,d),j=d.Ua;const Y=!j;j=new Vn(j||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||en(j,"https"),ea(j),Y?br(j.toString(),_):fl(j.toString(),_)}else Ft(2);d.I=0,d.l&&d.l.pa(y),du(d),Ga(d)}i.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function du(d){if(d.I=0,d.ja=[],d.l){const y=ll(d.h);(y.length!=0||d.i.length!=0)&&(W(d.ja,y),W(d.ja,d.i),d.h.i.length=0,O(d.i),d.i.length=0),d.l.oa()}}function hu(d,y,_){var j=_ instanceof Vn?Ut(_):new Vn(_);if(j.g!="")y&&(j.g=y+"."+j.g),Gi(j,j.u);else{var Y=h.location;j=Y.protocol,y=y?y+"."+Y.hostname:Y.hostname,Y=+Y.port;const Z=new Vn(null);j&&en(Z,j),y&&(Z.g=y),Y&&Gi(Z,Y),_&&(Z.h=_),j=Z}return _=d.G,y=d.wa,_&&y&&lt(j,_,y),lt(j,"VER",d.ka),aa(d,j),j}function fu(d,y,_){if(y&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Aa&&!d.ma?new dt(new Gr({ab:_})):new dt(d.ma),y.Fa(d.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function pu(){}i=pu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function es(){}es.prototype.g=function(d,y){return new vn(d,y)};function vn(d,y){Re.call(this),this.g=new Ji(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(d?d["X-WebChannel-Client-Profile"]=y.sa:d={"X-WebChannel-Client-Profile":y.sa}),this.g.U=d,(d=y&&y.Qb)&&!w(d)&&(this.g.u=d),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!w(y)&&(this.g.G=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new vi(this)}S(vn,Re),vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){ml(this.g)},vn.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var _={};_.__data__=d,d=_}else this.v&&(_={},_.__data__=Mr(d),d=_);y.i.push(new Lt(y.Ya++,d)),y.I==3&&Kr(y)},vn.prototype.N=function(){this.g.l=null,delete this.j,ml(this.g),delete this.g,vn.Z.N.call(this)};function gu(d){rn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const _ in y){d=_;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}S(gu,rn);function mu(){Xn.call(this),this.status=1}S(mu,Xn);function vi(d){this.g=d}S(vi,pu),vi.prototype.ra=function(){Ze(this.g,"a")},vi.prototype.qa=function(d){Ze(this.g,new gu(d))},vi.prototype.pa=function(d){Ze(this.g,new mu)},vi.prototype.oa=function(){Ze(this.g,"b")},es.prototype.createWebChannel=es.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,xb=function(){return new es},yb=function(){return Va()},mb=It,Sg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Js.NO_ERROR=0,Js.TIMEOUT=8,Js.HTTP_ERROR=6,Od=Js,nl.COMPLETE="complete",gb=nl,Qc.EventType=mr,mr.OPEN="a",mr.CLOSE="b",mr.ERROR="c",mr.MESSAGE="d",Re.prototype.listen=Re.prototype.J,ac=Qc,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,pb=dt}).apply(typeof _d<"u"?_d:typeof self<"u"?self:typeof window<"u"?window:{});const iv="@firebase/firestore",sv="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yo="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=new Qg("@firebase/firestore");function wo(){return Da.logLevel}function Ee(i,...e){if(Da.logLevel<=We.DEBUG){const n=e.map(im);Da.debug(`Firestore (${Yo}): ${i}`,...n)}}function Bi(i,...e){if(Da.logLevel<=We.ERROR){const n=e.map(im);Da.error(`Firestore (${Yo}): ${i}`,...n)}}function Vo(i,...e){if(Da.logLevel<=We.WARN){const n=e.map(im);Da.warn(`Firestore (${Yo}): ${i}`,...n)}}function im(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,vb(i,s,n)}function vb(i,e,n){let s=`FIRESTORE (${Yo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Bi(s),new Error(s)}function ot(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||vb(e,o,s)}function Me(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Or{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Jw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(gn.UNAUTHENTICATED)))}shutdown(){}}class Zw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class e4{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ot(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let u=new Vi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Vi,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const m=u;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},g=m=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((m=>g(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?g(m):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Vi)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ot(typeof s.accessToken=="string",31837,{l:s}),new bb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class t4{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class n4{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new t4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class av{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class r4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ot(this.o===void 0,3512);const s=u=>{u.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,Ee("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new av(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ot(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new av(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=i4(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ge(i,e){return i<e?-1:i>e?1:0}function Tg(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return Zp(o)===Zp(u)?Ge(o,u):Zp(o)?1:-1}return Ge(i.length,e.length)}const s4=55296,a4=57343;function Zp(i){const e=i.charCodeAt(0);return e>=s4&&e<=a4}function Lo(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="__name__";class ni{constructor(e,n,s){n===void 0?n=0:n>e.length&&De(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&De(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ni.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ni?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=ni.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ge(e.length,n.length)}static compareSegments(e,n){const s=ni.isNumericId(e),o=ni.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ni.extractNumericId(e).compare(ni.extractNumericId(n)):Tg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Os.fromString(e.substring(4,e.length-2))}}class mt extends ni{construct(e,n,s){return new mt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(ce.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new mt(n)}static emptyPath(){return new mt([])}}const o4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends ni{construct(e,n,s){return new dn(e,n,s)}static isValidIdentifier(e){return o4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ov}static keyField(){return new dn([ov])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new me(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new me(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new me(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else g==="`"?(h=!h,o++):g!=="."||h?(s+=g,o++):(u(),o++)}if(u(),h)throw new me(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(n)}static emptyPath(){return new dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(mt.fromString(e))}static fromName(e){return new we(mt.fromString(e).popFirst(5))}static empty(){return new we(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new mt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(i,e,n){if(!n)throw new me(ce.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function l4(i,e,n,s){if(e===!0&&s===!0)throw new me(ce.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function lv(i){if(!we.isDocumentKey(i))throw new me(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function cv(i){if(we.isDocumentKey(i))throw new me(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Eb(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function bh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":De(12329,{type:typeof i})}function fr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new me(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bh(i);throw new me(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Uc(i,e){if(!Eb(i))throw new me(ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new me(ce.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=-62135596800,dv=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*dv);return new bt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<uv)throw new me(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dv}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Uc(e,bt._jsonSchema))return new bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-uv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bt._jsonSchemaVersion="firestore/timestamp/1.0",bt._jsonSchema={type:Yt("string",bt._jsonSchemaVersion),seconds:Yt("number"),nanoseconds:Yt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new bt(0,0))}static max(){return new ke(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=-1;function c4(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=ke.fromTimestamp(s===1e9?new bt(n+1,0):new bt(n,s));return new zs(o,we.empty(),e)}function u4(i){return new zs(i.readTime,i.key,Tc)}class zs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new zs(ke.min(),we.empty(),Tc)}static max(){return new zs(ke.max(),we.empty(),Tc)}}function d4(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(i.documentKey,e.documentKey),n!==0?n:Ge(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class f4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(i){if(i.code!==ce.FAILED_PRECONDITION||i.message!==h4)throw i;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):de.reject(n)}static resolve(e){return new de(((n,s)=>{n(e)}))}static reject(e){return new de(((n,s)=>{s(e)}))}static waitFor(e){return new de(((n,s)=>{let o=0,u=0,h=!1;e.forEach((g=>{++o,g.next((()=>{++u,h&&u===o&&n()}),(m=>s(m)))})),h=!0,u===o&&n()}))}static or(e){let n=de.resolve(!1);for(const s of e)n=n.next((o=>o?de.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new de(((s,o)=>{const u=e.length,h=new Array(u);let g=0;for(let m=0;m<u;m++){const x=m;n(e[x]).next((v=>{h[x]=v,++g,g===u&&s(h)}),(v=>o(v)))}}))}static doWhile(e,n){return new de(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function p4(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ko(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_h.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am=-1;function Eh(i){return i==null}function Yd(i){return i===0&&1/i==-1/0}function g4(i){return typeof i=="number"&&Number.isInteger(i)&&!Yd(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="";function m4(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=hv(e)),e=y4(i.get(n),e);return hv(e)}function y4(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case Sb:n+="";break;default:n+=u}}return n}function hv(i){return i+Sb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ws(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Tb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ed(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ed(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ed(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ed(this.root,e,this.comparator,!0)}}class Ed{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??un.RED,this.left=o??un.EMPTY,this.right=u??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new un(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return un.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pv(this.data.getIterator())}getIteratorFrom(e){return new pv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class pv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new Yn([])}unionWith(e){let n=new Xt(dn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Lo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Ab("Invalid base64 string: "+u):u}})(e);return new hn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const x4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fs(i){if(ot(!!i,39018),typeof i=="string"){let e=0;const n=x4.exec(i);if(ot(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Mt(i.seconds),nanos:Mt(i.nanos)}}function Mt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Vs(i){return typeof i=="string"?hn.fromBase64String(i):hn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="server_timestamp",wb="__type__",Rb="__previous_value__",jb="__local_write_time__";function om(i){var n,s;return((s=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[wb])==null?void 0:s.stringValue)===Cb}function Sh(i){const e=i.mapValue.fields[Rb];return om(e)?Sh(e):e}function Ac(i){const e=Fs(i.mapValue.fields[jb].timestampValue);return new bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,n,s,o,u,h,g,m,x,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=g,this.longPollingOptions=m,this.useFetchStreams=x,this.isUsingEmulator=v}}const Qd="(default)";class Cc{constructor(e,n){this.projectId=e,this.database=n||Qd}static empty(){return new Cc("","")}get isDefaultDatabase(){return this.database===Qd}isEqual(e){return e instanceof Cc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="__type__",b4="__max__",Sd={mapValue:{}},Db="__vector__",Kd="value";function Ls(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?om(i)?4:E4(i)?9007199254740991:_4(i)?10:11:De(28295,{value:i})}function di(i,e){if(i===e)return!0;const n=Ls(i);if(n!==Ls(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ac(i).isEqual(Ac(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Fs(o.timestampValue),g=Fs(u.timestampValue);return h.seconds===g.seconds&&h.nanos===g.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Vs(o.bytesValue).isEqual(Vs(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return Mt(o.geoPointValue.latitude)===Mt(u.geoPointValue.latitude)&&Mt(o.geoPointValue.longitude)===Mt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Mt(o.integerValue)===Mt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Mt(o.doubleValue),g=Mt(u.doubleValue);return h===g?Yd(h)===Yd(g):isNaN(h)&&isNaN(g)}return!1})(i,e);case 9:return Lo(i.arrayValue.values||[],e.arrayValue.values||[],di);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},g=u.mapValue.fields||{};if(fv(h)!==fv(g))return!1;for(const m in h)if(h.hasOwnProperty(m)&&(g[m]===void 0||!di(h[m],g[m])))return!1;return!0})(i,e);default:return De(52216,{left:i})}}function wc(i,e){return(i.values||[]).find((n=>di(n,e)))!==void 0}function Uo(i,e){if(i===e)return 0;const n=Ls(i),s=Ls(e);if(n!==s)return Ge(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const g=Mt(u.integerValue||u.doubleValue),m=Mt(h.integerValue||h.doubleValue);return g<m?-1:g>m?1:g===m?0:isNaN(g)?isNaN(m)?0:-1:1})(i,e);case 3:return gv(i.timestampValue,e.timestampValue);case 4:return gv(Ac(i),Ac(e));case 5:return Tg(i.stringValue,e.stringValue);case 6:return(function(u,h){const g=Vs(u),m=Vs(h);return g.compareTo(m)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const g=u.split("/"),m=h.split("/");for(let x=0;x<g.length&&x<m.length;x++){const v=Ge(g[x],m[x]);if(v!==0)return v}return Ge(g.length,m.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const g=Ge(Mt(u.latitude),Mt(h.latitude));return g!==0?g:Ge(Mt(u.longitude),Mt(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return mv(i.arrayValue,e.arrayValue);case 10:return(function(u,h){var D,O,W,te;const g=u.fields||{},m=h.fields||{},x=(D=g[Kd])==null?void 0:D.arrayValue,v=(O=m[Kd])==null?void 0:O.arrayValue,S=Ge(((W=x==null?void 0:x.values)==null?void 0:W.length)||0,((te=v==null?void 0:v.values)==null?void 0:te.length)||0);return S!==0?S:mv(x,v)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===Sd.mapValue&&h===Sd.mapValue)return 0;if(u===Sd.mapValue)return 1;if(h===Sd.mapValue)return-1;const g=u.fields||{},m=Object.keys(g),x=h.fields||{},v=Object.keys(x);m.sort(),v.sort();for(let S=0;S<m.length&&S<v.length;++S){const D=Tg(m[S],v[S]);if(D!==0)return D;const O=Uo(g[m[S]],x[v[S]]);if(O!==0)return O}return Ge(m.length,v.length)})(i.mapValue,e.mapValue);default:throw De(23264,{he:n})}}function gv(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ge(i,e);const n=Fs(i),s=Fs(e),o=Ge(n.seconds,s.seconds);return o!==0?o:Ge(n.nanos,s.nanos)}function mv(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Uo(n[o],s[o]);if(u)return u}return Ge(n.length,s.length)}function Po(i){return Ag(i)}function Ag(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=Fs(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Vs(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return we.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Ag(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Ag(n.fields[h])}`;return o+"}"})(i.mapValue):De(61005,{value:i})}function Md(i){switch(Ls(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sh(i);return e?16+Md(e):16;case 5:return 2*i.stringValue.length;case 6:return Vs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Md(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Ws(s.fields,((u,h)=>{o+=u.length+Md(h)})),o})(i.mapValue);default:throw De(13486,{value:i})}}function yv(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Cg(i){return!!i&&"integerValue"in i}function lm(i){return!!i&&"arrayValue"in i}function xv(i){return!!i&&"nullValue"in i}function vv(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Nd(i){return!!i&&"mapValue"in i}function _4(i){var n,s;return((s=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[Ib])==null?void 0:s.stringValue)===Db}function fc(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Ws(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=fc(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fc(i.arrayValue.values[n]);return e}return{...i}}function E4(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===b4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Nd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fc(n)}setAll(e){let n=dn.emptyPath(),s={},o=[];e.forEach(((h,g)=>{if(!n.isImmediateParentOf(g)){const m=this.getFieldsMap(n);this.applyChanges(m,s,o),s={},o=[],n=g.popLast()}h?s[g.lastSegment()]=fc(h):o.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Nd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return di(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Nd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ws(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Dn(fc(this.value))}}function kb(i){const e=[];return Ws(i.fields,((n,s)=>{const o=new dn([n]);if(Nd(s)){const u=kb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n,s,o,u,h,g){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=g}static newInvalidDocument(e){return new mn(e,0,ke.min(),ke.min(),ke.min(),Dn.empty(),0)}static newFoundDocument(e,n,s,o){return new mn(e,1,n,ke.min(),s,o,0)}static newNoDocument(e,n){return new mn(e,2,n,ke.min(),ke.min(),Dn.empty(),0)}static newUnknownDocument(e,n){return new mn(e,3,n,ke.min(),ke.min(),Dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n){this.position=e,this.inclusive=n}}function bv(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=we.comparator(we.fromName(h.referenceValue),n.key):s=Uo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function _v(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!di(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n="asc"){this.field=e,this.dir=n}}function S4(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{}class Gt extends Ob{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new A4(e,n,s):n==="array-contains"?new R4(e,s):n==="in"?new j4(e,s):n==="not-in"?new I4(e,s):n==="array-contains-any"?new D4(e,s):new Gt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new C4(e,s):new w4(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Uo(n,this.value)):n!==null&&Ls(this.value)===Ls(n)&&this.matchesComparison(Uo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kr extends Ob{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new kr(e,n)}matches(e){return Mb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Mb(i){return i.op==="and"}function Nb(i){return T4(i)&&Mb(i)}function T4(i){for(const e of i.filters)if(e instanceof kr)return!1;return!0}function wg(i){if(i instanceof Gt)return i.field.canonicalString()+i.op.toString()+Po(i.value);if(Nb(i))return i.filters.map((e=>wg(e))).join(",");{const e=i.filters.map((n=>wg(n))).join(",");return`${i.op}(${e})`}}function zb(i,e){return i instanceof Gt?(function(s,o){return o instanceof Gt&&s.op===o.op&&s.field.isEqual(o.field)&&di(s.value,o.value)})(i,e):i instanceof kr?(function(s,o){return o instanceof kr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,g)=>u&&zb(h,o.filters[g])),!0):!1})(i,e):void De(19439)}function Fb(i){return i instanceof Gt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Po(n.value)}`})(i):i instanceof kr?(function(n){return n.op.toString()+" {"+n.getFilters().map(Fb).join(" ,")+"}"})(i):"Filter"}class A4 extends Gt{constructor(e,n,s){super(e,n,s),this.key=we.fromName(s.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class C4 extends Gt{constructor(e,n){super(e,"in",n),this.keys=Vb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class w4 extends Gt{constructor(e,n){super(e,"not-in",n),this.keys=Vb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Vb(i,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>we.fromName(s.referenceValue)))}class R4 extends Gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lm(n)&&wc(n.arrayValue,this.value)}}class j4 extends Gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wc(this.value.arrayValue,n)}}class I4 extends Gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!wc(this.value.arrayValue,n)}}class D4 extends Gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>wc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e,n=null,s=[],o=[],u=null,h=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=g,this.Te=null}}function Ev(i,e=null,n=[],s=[],o=null,u=null,h=null){return new k4(i,e,n,s,o,u,h)}function cm(i){const e=Me(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>wg(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Eh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Po(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Po(s))).join(",")),e.Te=n}return e.Te}function um(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!S4(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!zb(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!_v(i.startAt,e.startAt)&&_v(i.endAt,e.endAt)}function Rg(i){return we.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n=null,s=[],o=[],u=null,h="F",g=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=g,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function O4(i,e,n,s,o,u,h,g){return new $o(i,e,n,s,o,u,h,g)}function Th(i){return new $o(i)}function Sv(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Lb(i){return i.collectionGroup!==null}function pc(i){const e=Me(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let g=new Xt(dn.comparator);return h.filters.forEach((m=>{m.getFlattenedFilters().forEach((x=>{x.isInequality()&&(g=g.add(x.field))}))})),g})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Rc(u,s))})),n.has(dn.keyField().canonicalString())||e.Ie.push(new Rc(dn.keyField(),s))}return e.Ie}function ai(i){const e=Me(i);return e.Ee||(e.Ee=M4(e,pc(i))),e.Ee}function M4(i,e){if(i.limitType==="F")return Ev(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Rc(o.field,u)}));const n=i.endAt?new $d(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new $d(i.startAt.position,i.startAt.inclusive):null;return Ev(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function jg(i,e){const n=i.filters.concat([e]);return new $o(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Ig(i,e,n){return new $o(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Ah(i,e){return um(ai(i),ai(e))&&i.limitType===e.limitType}function Ub(i){return`${cm(ai(i))}|lt:${i.limitType}`}function Ro(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Fb(o))).join(", ")}]`),Eh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Po(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Po(o))).join(",")),`Target(${s})`})(ai(i))}; limitType=${i.limitType})`}function Ch(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):we.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of pc(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,g,m){const x=bv(h,g,m);return h.inclusive?x<=0:x<0})(s.startAt,pc(s),o)||s.endAt&&!(function(h,g,m){const x=bv(h,g,m);return h.inclusive?x>=0:x>0})(s.endAt,pc(s),o))})(i,e)}function N4(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Pb(i){return(e,n)=>{let s=!1;for(const o of pc(i)){const u=z4(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function z4(i,e,n){const s=i.field.isKeyField()?we.comparator(e.key,n.key):(function(u,h,g){const m=h.data.field(u),x=g.data.field(u);return m!==null&&x!==null?Uo(m,x):De(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return De(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ws(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return Tb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=new St(we.comparator);function Hi(){return F4}const Bb=new St(we.comparator);function oc(...i){let e=Bb;for(const n of i)e=e.insert(n.key,n);return e}function Hb(i){let e=Bb;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Aa(){return gc()}function qb(){return gc()}function gc(){return new za((i=>i.toString()),((i,e)=>i.isEqual(e)))}const V4=new St(we.comparator),L4=new Xt(we.comparator);function Ye(...i){let e=L4;for(const n of i)e=e.add(n);return e}const U4=new Xt(Ge);function P4(){return U4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yd(e)?"-0":e}}function Wb(i){return{integerValue:""+i}}function B4(i,e){return g4(e)?Wb(e):dm(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(){this._=void 0}}function H4(i,e,n){return i instanceof jc?(function(o,u){const h={fields:{[wb]:{stringValue:Cb},[jb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&om(u)&&(u=Sh(u)),u&&(h.fields[Rb]=u),{mapValue:h}})(n,e):i instanceof Ic?Yb(i,e):i instanceof Dc?Qb(i,e):(function(o,u){const h=Gb(o,u),g=Tv(h)+Tv(o.Ae);return Cg(h)&&Cg(o.Ae)?Wb(g):dm(o.serializer,g)})(i,e)}function q4(i,e,n){return i instanceof Ic?Yb(i,e):i instanceof Dc?Qb(i,e):n}function Gb(i,e){return i instanceof Xd?(function(s){return Cg(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class jc extends wh{}class Ic extends wh{constructor(e){super(),this.elements=e}}function Yb(i,e){const n=Kb(e);for(const s of i.elements)n.some((o=>di(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Dc extends wh{constructor(e){super(),this.elements=e}}function Qb(i,e){let n=Kb(e);for(const s of i.elements)n=n.filter((o=>!di(o,s)));return{arrayValue:{values:n}}}class Xd extends wh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Tv(i){return Mt(i.integerValue||i.doubleValue)}function Kb(i){return lm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,n){this.field=e,this.transform=n}}function G4(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof Ic&&o instanceof Ic||s instanceof Dc&&o instanceof Dc?Lo(s.elements,o.elements,di):s instanceof Xd&&o instanceof Xd?di(s.Ae,o.Ae):s instanceof jc&&o instanceof jc})(i.transform,e.transform)}class Y4{constructor(e,n){this.version=e,this.transformResults=n}}class Ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ir}static exists(e){return new Ir(void 0,e)}static updateTime(e){return new Ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zd(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Rh{}function $b(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new hm(i.key,Ir.none()):new Pc(i.key,i.data,Ir.none());{const n=i.data,s=Dn.empty();let o=new Xt(dn.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Gs(i.key,s,new Yn(o.toArray()),Ir.none())}}function Q4(i,e,n){i instanceof Pc?(function(o,u,h){const g=o.value.clone(),m=Cv(o.fieldTransforms,u,h.transformResults);g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(i,e,n):i instanceof Gs?(function(o,u,h){if(!zd(o.precondition,u))return void u.convertToUnknownDocument(h.version);const g=Cv(o.fieldTransforms,u,h.transformResults),m=u.data;m.setAll(Xb(o)),m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function mc(i,e,n,s){return i instanceof Pc?(function(u,h,g,m){if(!zd(u.precondition,h))return g;const x=u.value.clone(),v=wv(u.fieldTransforms,m,h);return x.setAll(v),h.convertToFoundDocument(h.version,x).setHasLocalMutations(),null})(i,e,n,s):i instanceof Gs?(function(u,h,g,m){if(!zd(u.precondition,h))return g;const x=wv(u.fieldTransforms,m,h),v=h.data;return v.setAll(Xb(u)),v.setAll(x),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(i,e,n,s):(function(u,h,g){return zd(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):g})(i,e,n)}function K4(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=Gb(s.transform,o||null);u!=null&&(n===null&&(n=Dn.empty()),n.set(s.field,u))}return n||null}function Av(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Lo(s,o,((u,h)=>G4(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Pc extends Rh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Gs extends Rh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Xb(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function Cv(i,e,n){const s=new Map;ot(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,g=e.data.field(u.field);s.set(u.field,q4(h,g,n[o]))}return s}function wv(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,H4(u,h,e))}return s}class hm extends Rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $4 extends Rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Q4(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=mc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=mc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=qb();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let g=this.applyToLocalView(h,u.mutatedFields);g=n.has(o.key)?null:g;const m=$b(h,g);m!==null&&s.set(o.key,m),h.isValidDocument()||h.convertToNoDocument(ke.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&Lo(this.mutations,e.mutations,((n,s)=>Av(n,s)))&&Lo(this.baseMutations,e.baseMutations,((n,s)=>Av(n,s)))}}class fm{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){ot(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return V4})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new fm(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt,$e;function eR(i){switch(i){case ce.OK:return De(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return De(15467,{code:i})}}function Jb(i){if(i===void 0)return Bi("GRPC error has no .code"),ce.UNKNOWN;switch(i){case Wt.OK:return ce.OK;case Wt.CANCELLED:return ce.CANCELLED;case Wt.UNKNOWN:return ce.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return ce.INTERNAL;case Wt.UNAVAILABLE:return ce.UNAVAILABLE;case Wt.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Wt.NOT_FOUND:return ce.NOT_FOUND;case Wt.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Wt.ABORTED:return ce.ABORTED;case Wt.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Wt.DATA_LOSS:return ce.DATA_LOSS;default:return De(39323,{code:i})}}($e=Wt||(Wt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=new Os([4294967295,4294967295],0);function Rv(i){const e=tR().encode(i),n=new fb;return n.update(e),new Uint8Array(n.digest())}function jv(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Os([n,s],0),new Os([o,u],0)]}class pm{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new lc(`Invalid padding: ${n}`);if(s<0)throw new lc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new lc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new lc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Os.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Os.fromNumber(s)));return o.compare(nR)===1&&(o=new Os([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Rv(e),[s,o]=jv(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new pm(u,o,n);return s.forEach((g=>h.insert(g))),h}insert(e){if(this.ge===0)return;const n=Rv(e),[s,o]=jv(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class lc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Bc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new jh(ke.min(),o,new St(Ge),Hi(),Ye())}}class Bc{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Bc(s,n,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Zb{constructor(e,n){this.targetId=e,this.Ce=n}}class e_{constructor(e,n,s=hn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Iv{constructor(){this.ve=0,this.Fe=Dv(),this.Me=hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),n=Ye(),s=Ye();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:De(38017,{changeType:u})}})),new Bc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Dv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ot(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class rR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hi(),this.Je=Td(),this.He=Td(),this.Ye=new St(Ge)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:De(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Rg(u))if(s===0){const h=new we(u.path);this.et(n,h,mn.newNoDocument(h,ke.min()))}else ot(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const g=this.ut(e),m=g?this.ct(g,e,h):1;if(m!==0){this.it(n);const x=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,x)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,g;try{h=Vs(s).toUint8Array()}catch(m){if(m instanceof Ab)return Vo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{g=new pm(h,o,u)}catch(m){return Vo(m instanceof lc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return g.ge===0?null:g}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),g=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const g=this.ot(h);if(g){if(u.current&&Rg(g.target)){const m=new we(g.target.path);this.It(m).has(h)||this.Et(h,m)||this.et(h,m,mn.newNoDocument(m,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=Ye();this.He.forEach(((u,h)=>{let g=!0;h.forEachWhile((m=>{const x=this.ot(m);return!x||x.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new jh(e,n,this.Ye,this.je,s);return this.je=Hi(),this.Je=Td(),this.He=Td(),this.Ye=new St(Ge),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Iv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Xt(Ge),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Xt(Ge),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Iv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Td(){return new St(we.comparator)}function Dv(){return new St(we.comparator)}const iR={asc:"ASCENDING",desc:"DESCENDING"},sR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aR={and:"AND",or:"OR"};class oR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dg(i,e){return i.useProto3Json||Eh(e)?e:{value:e}}function Jd(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function t_(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function lR(i,e){return Jd(i,e.toTimestamp())}function oi(i){return ot(!!i,49232),ke.fromTimestamp((function(n){const s=Fs(n);return new bt(s.seconds,s.nanos)})(i))}function gm(i,e){return kg(i,e).canonicalString()}function kg(i,e){const n=(function(o){return new mt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function n_(i){const e=mt.fromString(i);return ot(o_(e),10190,{key:e.toString()}),e}function Og(i,e){return gm(i.databaseId,e.path)}function eg(i,e){const n=n_(e);if(n.get(1)!==i.databaseId.projectId)throw new me(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new me(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new we(i_(n))}function r_(i,e){return gm(i.databaseId,e)}function cR(i){const e=n_(i);return e.length===4?mt.emptyPath():i_(e)}function Mg(i){return new mt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function i_(i){return ot(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function kv(i,e,n){return{name:Og(i,e),fields:n.value.mapValue.fields}}function uR(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(x){return x==="NO_CHANGE"?0:x==="ADD"?1:x==="REMOVE"?2:x==="CURRENT"?3:x==="RESET"?4:De(39313,{state:x})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(x,v){return x.useProto3Json?(ot(v===void 0||typeof v=="string",58123),hn.fromBase64String(v||"")):(ot(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),hn.fromUint8Array(v||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,g=h&&(function(x){const v=x.code===void 0?ce.UNKNOWN:Jb(x.code);return new me(v,x.message||"")})(h);n=new e_(s,o,u,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=eg(i,s.document.name),u=oi(s.document.updateTime),h=s.document.createTime?oi(s.document.createTime):ke.min(),g=new Dn({mapValue:{fields:s.document.fields}}),m=mn.newFoundDocument(o,u,h,g),x=s.targetIds||[],v=s.removedTargetIds||[];n=new Fd(x,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=eg(i,s.document),u=s.readTime?oi(s.readTime):ke.min(),h=mn.newNoDocument(o,u),g=s.removedTargetIds||[];n=new Fd([],g,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=eg(i,s.document),u=s.removedTargetIds||[];n=new Fd([],u,o,null)}else{if(!("filter"in e))return De(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new Z4(o,u),g=s.targetId;n=new Zb(g,h)}}return n}function dR(i,e){let n;if(e instanceof Pc)n={update:kv(i,e.key,e.value)};else if(e instanceof hm)n={delete:Og(i,e.key)};else if(e instanceof Gs)n={update:kv(i,e.key,e.data),updateMask:bR(e.fieldMask)};else{if(!(e instanceof $4))return De(16599,{Vt:e.type});n={verify:Og(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const g=h.transform;if(g instanceof jc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ic)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Dc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Xd)return{fieldPath:h.field.canonicalString(),increment:g.Ae};throw De(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:lR(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:De(27497)})(i,e.precondition)),n}function hR(i,e){return i&&i.length>0?(ot(e!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?oi(o.updateTime):oi(u);return h.isEqual(ke.min())&&(h=oi(u)),new Y4(h,o.transformResults||[])})(n,e)))):[]}function fR(i,e){return{documents:[r_(i,e.path)]}}function pR(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=r_(i,o);const u=(function(x){if(x.length!==0)return a_(kr.create(x,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(x){if(x.length!==0)return x.map((v=>(function(D){return{field:jo(D.field),direction:yR(D.dir)}})(v)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const g=Dg(i,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(x){return{before:x.inclusive,values:x.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(x){return{before:!x.inclusive,values:x.position}})(e.endAt)),{ft:n,parent:o}}function gR(i){let e=cR(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){ot(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=(function(S){const D=s_(S);return D instanceof kr&&Nb(D)?D.getFilters():[D]})(n.where));let h=[];n.orderBy&&(h=(function(S){return S.map((D=>(function(W){return new Rc(Io(W.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(D)))})(n.orderBy));let g=null;n.limit&&(g=(function(S){let D;return D=typeof S=="object"?S.value:S,Eh(D)?null:D})(n.limit));let m=null;n.startAt&&(m=(function(S){const D=!!S.before,O=S.values||[];return new $d(O,D)})(n.startAt));let x=null;return n.endAt&&(x=(function(S){const D=!S.before,O=S.values||[];return new $d(O,D)})(n.endAt)),O4(e,o,h,u,g,"F",m,x)}function mR(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function s_(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Io(n.unaryFilter.field);return Gt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Io(n.unaryFilter.field);return Gt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Io(n.unaryFilter.field);return Gt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Io(n.unaryFilter.field);return Gt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Gt.create(Io(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return kr.create(n.compositeFilter.filters.map((s=>s_(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return De(1026)}})(n.compositeFilter.op))})(i):De(30097,{filter:i})}function yR(i){return iR[i]}function xR(i){return sR[i]}function vR(i){return aR[i]}function jo(i){return{fieldPath:i.canonicalString()}}function Io(i){return dn.fromServerFormat(i.fieldPath)}function a_(i){return i instanceof Gt?(function(n){if(n.op==="=="){if(vv(n.value))return{unaryFilter:{field:jo(n.field),op:"IS_NAN"}};if(xv(n.value))return{unaryFilter:{field:jo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vv(n.value))return{unaryFilter:{field:jo(n.field),op:"IS_NOT_NAN"}};if(xv(n.value))return{unaryFilter:{field:jo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jo(n.field),op:xR(n.op),value:n.value}}})(i):i instanceof kr?(function(n){const s=n.getFilters().map((o=>a_(o)));return s.length===1?s[0]:{compositeFilter:{op:vR(n.op),filters:s}}})(i):De(54877,{filter:i})}function bR(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function o_(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n,s,o,u=ke.min(),h=ke.min(),g=hn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=g,this.expectedCount=m}withSequenceNumber(e){return new js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.yt=e}}function ER(i){const e=gR({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Ig(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(){this.Cn=new TR}addToCollectionParentIndex(e,n){return this.Cn.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(zs.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(zs.min())}updateCollectionGroup(e,n,s){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class TR{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Xt(mt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Xt(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},l_=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(l_,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Bo(0)}static cr(){return new Bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="LruGarbageCollector",AR=1048576;function Nv([i,e],[n,s]){const o=Ge(i,n);return o===0?Ge(e,s):o}class CR{constructor(e){this.Ir=e,this.buffer=new Xt(Nv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Nv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class wR{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ee(Mv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ko(n)?Ee(Mv,"Ignoring IndexedDB error during garbage collection: ",n):await Qo(n)}await this.Vr(3e5)}))}}class RR{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return de.resolve(_h.ce);const s=new CR(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(Ov)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ov):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,g,m,x;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,g=Date.now(),this.removeTargets(e,s,n)))).next((S=>(u=S,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(x=Date.now(),wo()<=We.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(g-h)+`ms
	Removed ${u} targets in `+(m-g)+`ms
	Removed ${S} documents in `+(x-m)+`ms
Total Duration: ${x-v}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function jR(i,e){return new RR(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(){this.changes=new za((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?de.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&mc(s.mutation,o,Yn.empty(),bt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ye()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ye()){const o=Aa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=oc();return u.forEach(((g,m)=>{h=h.insert(g,m.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=Aa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ye())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,g)=>{n.set(h,g)}))}))}computeViews(e,n,s,o){let u=Hi();const h=gc(),g=(function(){return gc()})();return n.forEach(((m,x)=>{const v=s.get(x.key);o.has(x.key)&&(v===void 0||v.mutation instanceof Gs)?u=u.insert(x.key,x):v!==void 0?(h.set(x.key,v.mutation.getFieldMask()),mc(v.mutation,x,v.mutation.getFieldMask(),bt.now())):h.set(x.key,Yn.empty())})),this.recalculateAndSaveOverlays(e,u).next((m=>(m.forEach(((x,v)=>h.set(x,v))),n.forEach(((x,v)=>g.set(x,new DR(v,h.get(x)??null)))),g)))}recalculateAndSaveOverlays(e,n){const s=gc();let o=new St(((h,g)=>h-g)),u=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const g of h)g.keys().forEach((m=>{const x=n.get(m);if(x===null)return;let v=s.get(m)||Yn.empty();v=g.applyToLocalView(x,v),s.set(m,v);const S=(o.get(g.batchId)||Ye()).add(m);o=o.insert(g.batchId,S)}))})).next((()=>{const h=[],g=o.getReverseIterator();for(;g.hasNext();){const m=g.getNext(),x=m.key,v=m.value,S=qb();v.forEach((D=>{if(!u.has(D)){const O=$b(n.get(D),s.get(D));O!==null&&S.set(D,O),u=u.add(D)}})),h.push(this.documentOverlayCache.saveOverlays(e,x,S))}return de.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return we.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Lb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):de.resolve(Aa());let g=Tc,m=u;return h.next((x=>de.forEach(x,((v,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),u.get(v)?de.resolve():this.remoteDocumentCache.getEntry(e,v).next((D=>{m=m.insert(v,D)}))))).next((()=>this.populateOverlays(e,x,u))).next((()=>this.computeViews(e,m,x,Ye()))).next((v=>({batchId:g,changes:Hb(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next((s=>{let o=oc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=oc();return this.indexManager.getCollectionParents(e,u).next((g=>de.forEach(g,(m=>{const x=(function(S,D){return new $o(D,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,x,s,o).next((v=>{v.forEach(((S,D)=>{h=h.insert(S,D)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((m,x)=>{const v=x.getKey();h.get(v)===null&&(h=h.insert(v,mn.newInvalidDocument(v)))}));let g=oc();return h.forEach(((m,x)=>{const v=u.get(m);v!==void 0&&mc(v.mutation,x,Yn.empty(),bt.now()),Ch(n,x)&&(g=g.insert(m,x))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return de.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:oi(o.createTime)}})(n)),de.resolve()}getNamedQuery(e,n){return de.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:ER(o.bundledQuery),readTime:oi(o.readTime)}})(n)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this.overlays=new St(we.comparator),this.qr=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Aa();return de.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),de.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),de.resolve()}getOverlaysForCollection(e,n,s){const o=Aa(),u=n.length+1,h=new we(n.child("")),g=this.overlays.getIteratorFrom(h);for(;g.hasNext();){const m=g.getNext().value,x=m.getKey();if(!n.isPrefixOf(x.path))break;x.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return de.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new St(((x,v)=>x-v));const h=this.overlays.getIterator();for(;h.hasNext();){const x=h.getNext().value;if(x.getKey().getCollectionGroup()===n&&x.largestBatchId>s){let v=u.get(x.largestBatchId);v===null&&(v=Aa(),u=u.insert(x.largestBatchId,v)),v.set(x.getKey(),x)}}const g=Aa(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((x,v)=>g.set(x,v))),!(g.size()>=o)););return de.resolve(g)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new J4(n,s));let u=this.qr.get(n);u===void 0&&(u=Ye(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(){this.Qr=new Xt(nn.$r),this.Ur=new Xt(nn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new nn(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new nn(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new we(new mt([])),s=new nn(n,e),o=new nn(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new we(new mt([])),s=new nn(n,e),o=new nn(n,e+1);let u=Ye();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new nn(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class nn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return we.comparator(e.key,n.key)||Ge(e.Yr,n.Yr)}static Kr(e,n){return Ge(e.Yr,n.Yr)||we.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Xt(nn.$r)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new X4(u,n,s,o);this.mutationQueue.push(h);for(const g of o)this.Zr=this.Zr.add(new nn(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return de.resolve(h)}lookupMutationBatch(e,n){return de.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return de.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?am:this.tr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new nn(n,0),o=new nn(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const g=this.Xr(h.Yr);u.push(g)})),de.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Xt(Ge);return n.forEach((o=>{const u=new nn(o,0),h=new nn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(g=>{s=s.add(g.Yr)}))})),de.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;we.isDocumentKey(u)||(u=u.child(""));const h=new nn(new we(u),0);let g=new Xt(Ge);return this.Zr.forEachWhile((m=>{const x=m.key.path;return!!s.isPrefixOf(x)&&(x.length===o&&(g=g.add(m.Yr)),!0)}),h),de.resolve(this.ti(g))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){ot(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return de.forEach(n.mutations,(o=>{const u=new nn(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new nn(n,0),o=this.Zr.firstAfterOrEqual(s);return de.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e){this.ri=e,this.docs=(function(){return new St(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return de.resolve(s?s.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(e,n){let s=Hi();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():mn.newInvalidDocument(o))})),de.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Hi();const h=n.path,g=new we(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(g);for(;m.hasNext();){const{key:x,value:{document:v}}=m.getNext();if(!h.isPrefixOf(x.path))break;x.path.length>h.length+1||d4(u4(v),s)<=0||(o.has(v.key)||Ch(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return de.resolve(u)}getAllFromCollectionGroup(e,n,s,o){De(9500)}ii(e,n){return de.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new VR(this)}getSize(e){return de.resolve(this.size)}}class VR extends IR{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),de.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.persistence=e,this.si=new za((n=>cm(n)),um),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.oi=0,this._i=new mm,this.targetCount=0,this.ai=Bo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),de.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Bo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.Pr(n),de.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),de.waitFor(u).next((()=>o))}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return de.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),de.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),de.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),de.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return de.resolve(s)}containsKey(e,n){return de.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,n){this.ui={},this.overlays={},this.ci=new _h(0),this.li=!1,this.li=!0,this.hi=new NR,this.referenceDelegate=e(this),this.Pi=new LR(this),this.indexManager=new SR,this.remoteDocumentCache=(function(o){return new FR(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new _R(n),this.Ii=new OR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new MR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new zR(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){Ee("MemoryPersistence","Starting transaction:",e);const o=new UR(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return de.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class UR extends f4{constructor(e){super(),this.currentSequenceNumber=e}}class ym{constructor(e){this.persistence=e,this.Ri=new mm,this.Vi=null}static mi(e){return new ym(e)}get fi(){if(this.Vi)return this.Vi;throw De(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),de.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),de.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.fi,(s=>{const o=we.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,ke.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return de.or([()=>de.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Zd{constructor(e,n){this.persistence=e,this.pi=new za((s=>m4(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=jR(this,n)}static mi(e,n){return new Zd(e,n)}Ei(){}di(e){return de.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return de.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?de.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((g=>{g||(s++,u.removeEntry(h,ke.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),de.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),de.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),de.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Md(e.data.value)),n}br(e,n,s){return de.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return de.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Ye(),o=Ye();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new xm(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return xT()?8:p4(xn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new PR;return this.Ss(e,n,h).next((g=>{if(u.result=g,this.Vs)return this.bs(e,n,h,g.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(wo()<=We.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),de.resolve()):(wo()<=We.DEBUG&&Ee("QueryEngine","Query:",Ro(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(wo()<=We.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ai(n))):de.resolve())}ys(e,n){if(Sv(n))return de.resolve(null);let s=ai(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Ig(n,null,"F"),s=ai(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Ye(...u);return this.ps.getDocuments(e,h).next((g=>this.indexManager.getMinOffset(e,s).next((m=>{const x=this.Ds(n,g);return this.Cs(n,x,h,m.readTime)?this.ys(e,Ig(n,null,"F")):this.vs(e,x,n,m)}))))})))))}ws(e,n,s,o){return Sv(n)||o.isEqual(ke.min())?de.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?de.resolve(null):(wo()<=We.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ro(n)),this.vs(e,h,n,c4(o,Tc)).next((g=>g)))}))}Ds(e,n){let s=new Xt(Pb(e));return n.forEach(((o,u)=>{Ch(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return wo()<=We.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Ro(n)),this.ps.getDocumentsMatchingQuery(e,n,zs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="LocalStore",HR=3e8;class qR{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new St(Ge),this.xs=new za((u=>cm(u)),um),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function WR(i,e,n,s){return new qR(i,e,n,s)}async function u_(i,e){const n=Me(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],g=[];let m=Ye();for(const x of o){h.push(x.batchId);for(const v of x.mutations)m=m.add(v.key)}for(const x of u){g.push(x.batchId);for(const v of x.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(s,m).next((x=>({Ls:x,removedBatchIds:h,addedBatchIds:g})))}))}))}function GR(i,e){const n=Me(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,m,x,v){const S=x.batch,D=S.keys();let O=de.resolve();return D.forEach((W=>{O=O.next((()=>v.getEntry(m,W))).next((te=>{const G=x.docVersions.get(W);ot(G!==null,48541),te.version.compareTo(G)<0&&(S.applyToRemoteDocument(te,x),te.isValidDocument()&&(te.setReadTime(x.commitVersion),v.addEntry(te)))}))})),O.next((()=>g.mutationQueue.removeMutationBatch(m,S)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let m=Ye();for(let x=0;x<g.mutationResults.length;++x)g.mutationResults[x].transformResults.length>0&&(m=m.add(g.batch.mutations[x].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function d_(i){const e=Me(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function YR(i,e){const n=Me(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const g=[];e.targetChanges.forEach(((v,S)=>{const D=o.get(S);if(!D)return;g.push(n.Pi.removeMatchingKeys(u,v.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,v.addedDocuments,S))));let O=D.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?O=O.withResumeToken(hn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):v.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(v.resumeToken,s)),o=o.insert(S,O),(function(te,G,L){return te.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-te.snapshotVersion.toMicroseconds()>=HR?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(D,O,v)&&g.push(n.Pi.updateTargetData(u,O))}));let m=Hi(),x=Ye();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))})),g.push(QR(u,h,e.documentUpdates).next((v=>{m=v.ks,x=v.qs}))),!s.isEqual(ke.min())){const v=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));g.push(v)}return de.waitFor(g).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,m,x))).next((()=>m))})).then((u=>(n.Ms=o,u)))}function QR(i,e,n){let s=Ye(),o=Ye();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=Hi();return n.forEach(((g,m)=>{const x=u.get(g);m.isFoundDocument()!==x.isFoundDocument()&&(o=o.add(g)),m.isNoDocument()&&m.version.isEqual(ke.min())?(e.removeEntry(g,m.readTime),h=h.insert(g,m)):!x.isValidDocument()||m.version.compareTo(x.version)>0||m.version.compareTo(x.version)===0&&x.hasPendingWrites?(e.addEntry(m),h=h.insert(g,m)):Ee(vm,"Ignoring outdated watch update for ",g,". Current version:",x.version," Watch version:",m.version)})),{ks:h,qs:o}}))}function KR(i,e){const n=Me(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=am),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function $R(i,e){const n=Me(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,de.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new js(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Ng(i,e,n){const s=Me(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Ko(h))throw h;Ee(vm,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function zv(i,e,n){const s=Me(i);let o=ke.min(),u=Ye();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(m,x,v){const S=Me(m),D=S.xs.get(v);return D!==void 0?de.resolve(S.Ms.get(D)):S.Pi.getTargetData(x,v)})(s,h,ai(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,g.targetId).next((m=>{u=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:ke.min(),n?u:Ye()))).next((g=>(XR(s,N4(e),g),{documents:g,Qs:u})))))}function XR(i,e,n){let s=i.Os.get(e)||ke.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class Fv{constructor(){this.activeTargetIds=P4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JR{constructor(){this.Mo=new Fv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Fv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="ConnectivityMonitor";class Lv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ee(Vv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ee(Vv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ad=null;function zg(){return Ad===null?Ad=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ad++,"0x"+Ad.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="RestConnection",e6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class t6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Qd?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=zg(),g=this.zo(e,n.toUriEncodedString());Ee(tg,`Sending RPC '${e}' ${h}:`,g,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,u);const{host:x}=new URL(g),v=fi(x);return this.Jo(e,g,m,s,v).then((S=>(Ee(tg,`Received RPC '${e}' ${h}: `,S),S)),(S=>{throw Vo(tg,`RPC '${e}' ${h} failed with error: `,S,"url: ",g,"request:",s),S}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Yo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=e6[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class r6 extends t6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=zg();return new Promise(((g,m)=>{const x=new pb;x.setWithCredentials(!0),x.listenOnce(gb.COMPLETE,(()=>{try{switch(x.getLastErrorCode()){case Od.NO_ERROR:const S=x.getResponseJson();Ee(pn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(S)),g(S);break;case Od.TIMEOUT:Ee(pn,`RPC '${e}' ${h} timed out`),m(new me(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Od.HTTP_ERROR:const D=x.getStatus();if(Ee(pn,`RPC '${e}' ${h} failed with status:`,D,"response text:",x.getResponseText()),D>0){let O=x.getResponseJson();Array.isArray(O)&&(O=O[0]);const W=O==null?void 0:O.error;if(W&&W.status&&W.message){const te=(function(L){const $=L.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf($)>=0?$:ce.UNKNOWN})(W.status);m(new me(te,W.message))}else m(new me(ce.UNKNOWN,"Server responded with status "+x.getStatus()))}else m(new me(ce.UNAVAILABLE,"Connection failed."));break;default:De(9055,{l_:e,streamId:h,h_:x.getLastErrorCode(),P_:x.getLastError()})}}finally{Ee(pn,`RPC '${e}' ${h} completed.`)}}));const v=JSON.stringify(o);Ee(pn,`RPC '${e}' ${h} sending request:`,o),x.send(n,"POST",v,s,15)}))}T_(e,n,s){const o=zg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=xb(),g=yb(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},x=this.longPollingOptions.timeoutSeconds;x!==void 0&&(m.longPollingTimeout=Math.round(1e3*x)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const v=u.join("");Ee(pn,`Creating RPC '${e}' stream ${o}: ${v}`,m);const S=h.createWebChannel(v,m);this.I_(S);let D=!1,O=!1;const W=new n6({Yo:G=>{O?Ee(pn,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(D||(Ee(pn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),D=!0),Ee(pn,`RPC '${e}' stream ${o} sending:`,G),S.send(G))},Zo:()=>S.close()}),te=(G,L,$)=>{G.listen(L,(ae=>{try{$(ae)}catch(se){setTimeout((()=>{throw se}),0)}}))};return te(S,ac.EventType.OPEN,(()=>{O||(Ee(pn,`RPC '${e}' stream ${o} transport opened.`),W.o_())})),te(S,ac.EventType.CLOSE,(()=>{O||(O=!0,Ee(pn,`RPC '${e}' stream ${o} transport closed`),W.a_(),this.E_(S))})),te(S,ac.EventType.ERROR,(G=>{O||(O=!0,Vo(pn,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),W.a_(new me(ce.UNAVAILABLE,"The operation could not be completed")))})),te(S,ac.EventType.MESSAGE,(G=>{var L;if(!O){const $=G.data[0];ot(!!$,16349);const ae=$,se=(ae==null?void 0:ae.error)||((L=ae[0])==null?void 0:L.error);if(se){Ee(pn,`RPC '${e}' stream ${o} received error:`,se);const be=se.status;let _e=(function(A){const z=Wt[A];if(z!==void 0)return Jb(z)})(be),I=se.message;_e===void 0&&(_e=ce.INTERNAL,I="Unknown error status: "+be+" with message "+se.message),O=!0,W.a_(new me(_e,I)),S.close()}else Ee(pn,`RPC '${e}' stream ${o} received:`,$),W.u_($)}})),te(g,mb.STAT_EVENT,(G=>{G.stat===Sg.PROXY?Ee(pn,`RPC '${e}' stream ${o} detected buffering proxy`):G.stat===Sg.NOPROXY&&Ee(pn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ng(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(i){return new oR(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&Ee("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="PersistentStream";class f_{constructor(e,n,s,o,u,h,g,m){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=g,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new h_(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(Bi(n.toString()),Bi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new me(ce.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ee(Uv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ee(Uv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class i6 extends f_{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=uR(this.serializer,e),s=(function(u){if(!("targetChange"in u))return ke.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?ke.min():h.readTime?oi(h.readTime):ke.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Mg(this.serializer),n.addTarget=(function(u,h){let g;const m=h.target;if(g=Rg(m)?{documents:fR(u,m)}:{query:pR(u,m).ft},g.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){g.resumeToken=t_(u,h.resumeToken);const x=Dg(u,h.expectedCount);x!==null&&(g.expectedCount=x)}else if(h.snapshotVersion.compareTo(ke.min())>0){g.readTime=Jd(u,h.snapshotVersion.toTimestamp());const x=Dg(u,h.expectedCount);x!==null&&(g.expectedCount=x)}return g})(this.serializer,e);const s=mR(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Mg(this.serializer),n.removeTarget=e,this.q_(n)}}class s6 extends f_{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=hR(e.writeResults,e.commitTime),s=oi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Mg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>dR(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{}class o6 extends a6{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new me(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,kg(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(ce.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,g])=>this.connection.Ho(e,kg(n,s),o,h,g,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new me(ce.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class l6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Bi(n),this.aa=!1):Ee("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="RemoteStore";class c6{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{Fa(this)&&(Ee(ka,"Restarting streams for network reachability change."),await(async function(m){const x=Me(m);x.Ea.add(4),await Hc(x),x.Ra.set("Unknown"),x.Ea.delete(4),await Dh(x)})(this))}))})),this.Ra=new l6(s,o)}}async function Dh(i){if(Fa(i))for(const e of i.da)await e(!0)}async function Hc(i){for(const e of i.da)await e(!1)}function p_(i,e){const n=Me(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Sm(n)?Em(n):Xo(n).O_()&&_m(n,e))}function bm(i,e){const n=Me(i),s=Xo(n);n.Ia.delete(e),s.O_()&&g_(n,e),n.Ia.size===0&&(s.O_()?s.L_():Fa(n)&&n.Ra.set("Unknown"))}function _m(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xo(i).Y_(e)}function g_(i,e){i.Va.Ue(e),Xo(i).Z_(e)}function Em(i){i.Va=new rR({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Xo(i).start(),i.Ra.ua()}function Sm(i){return Fa(i)&&!Xo(i).x_()&&i.Ia.size>0}function Fa(i){return Me(i).Ea.size===0}function m_(i){i.Va=void 0}async function u6(i){i.Ra.set("Online")}async function d6(i){i.Ia.forEach(((e,n)=>{_m(i,e)}))}async function h6(i,e){m_(i),Sm(i)?(i.Ra.ha(e),Em(i)):i.Ra.set("Unknown")}async function f6(i,e,n){if(i.Ra.set("Online"),e instanceof e_&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const g of u.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,h),o.Ia.delete(g),o.Va.removeTarget(g))})(i,e)}catch(s){Ee(ka,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await eh(i,s)}else if(e instanceof Fd?i.Va.Ze(e):e instanceof Zb?i.Va.st(e):i.Va.tt(e),!n.isEqual(ke.min()))try{const s=await d_(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const g=u.Va.Tt(h);return g.targetChanges.forEach(((m,x)=>{if(m.resumeToken.approximateByteSize()>0){const v=u.Ia.get(x);v&&u.Ia.set(x,v.withResumeToken(m.resumeToken,h))}})),g.targetMismatches.forEach(((m,x)=>{const v=u.Ia.get(m);if(!v)return;u.Ia.set(m,v.withResumeToken(hn.EMPTY_BYTE_STRING,v.snapshotVersion)),g_(u,m);const S=new js(v.target,m,x,v.sequenceNumber);_m(u,S)})),u.remoteSyncer.applyRemoteEvent(g)})(i,n)}catch(s){Ee(ka,"Failed to raise snapshot:",s),await eh(i,s)}}async function eh(i,e,n){if(!Ko(e))throw e;i.Ea.add(1),await Hc(i),i.Ra.set("Offline"),n||(n=()=>d_(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{Ee(ka,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Dh(i)}))}function y_(i,e){return e().catch((n=>eh(i,n,e)))}async function kh(i){const e=Me(i),n=Us(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:am;for(;p6(e);)try{const o=await KR(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,g6(e,o)}catch(o){await eh(e,o)}x_(e)&&v_(e)}function p6(i){return Fa(i)&&i.Ta.length<10}function g6(i,e){i.Ta.push(e);const n=Us(i);n.O_()&&n.X_&&n.ea(e.mutations)}function x_(i){return Fa(i)&&!Us(i).x_()&&i.Ta.length>0}function v_(i){Us(i).start()}async function m6(i){Us(i).ra()}async function y6(i){const e=Us(i);for(const n of i.Ta)e.ea(n.mutations)}async function x6(i,e,n){const s=i.Ta.shift(),o=fm.from(s,e,n);await y_(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await kh(i)}async function v6(i,e){e&&Us(i).X_&&await(async function(s,o){if((function(h){return eR(h)&&h!==ce.ABORTED})(o.code)){const u=s.Ta.shift();Us(s).B_(),await y_(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await kh(s)}})(i,e),x_(i)&&v_(i)}async function Pv(i,e){const n=Me(i);n.asyncQueue.verifyOperationInProgress(),Ee(ka,"RemoteStore received new credentials");const s=Fa(n);n.Ea.add(3),await Hc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Dh(n)}async function b6(i,e){const n=Me(i);e?(n.Ea.delete(2),await Dh(n)):e||(n.Ea.add(2),await Hc(n),n.Ra.set("Unknown"))}function Xo(i){return i.ma||(i.ma=(function(n,s,o){const u=Me(n);return u.sa(),new i6(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:u6.bind(null,i),t_:d6.bind(null,i),r_:h6.bind(null,i),H_:f6.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Sm(i)?Em(i):i.Ra.set("Unknown")):(await i.ma.stop(),m_(i))}))),i.ma}function Us(i){return i.fa||(i.fa=(function(n,s,o){const u=Me(n);return u.sa(),new s6(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:m6.bind(null,i),r_:v6.bind(null,i),ta:y6.bind(null,i),na:x6.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await kh(i)):(await i.fa.stop(),i.Ta.length>0&&(Ee(ka,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,g=new Tm(e,n,h,o,u);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Am(i,e){if(Bi("AsyncQueue",`${e}: ${i}`),Ko(i))return new me(ce.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{static emptySet(e){return new zo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||we.comparator(n.key,s.key):(n,s)=>we.comparator(n.key,s.key),this.keyedMap=oc(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof zo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new zo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(){this.ga=new St(we.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):De(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Ho{constructor(e,n,s,o,u,h,g,m,x){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=g,this.excludesMetadataChanges=m,this.hasCachedResults=x}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((g=>{h.push({type:0,doc:g})})),new Ho(e,n,zo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ah(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class E6{constructor(){this.queries=Hv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Me(n),u=o.queries;o.queries=Hv(),u.forEach(((h,g)=>{for(const m of g.Sa)m.onError(s)}))})(this,new me(ce.ABORTED,"Firestore shutting down"))}}function Hv(){return new za((i=>Ub(i)),Ah)}async function Cm(i,e){const n=Me(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new _6,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const g=Am(h,`Initialization of query '${Ro(e.query)}' failed`);return void e.onError(g)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Rm(n)}async function wm(i,e){const n=Me(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function S6(i,e){const n=Me(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const g of h.Sa)g.Fa(o)&&(s=!0);h.wa=o}}s&&Rm(n)}function T6(i,e,n){const s=Me(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Rm(i){i.Ca.forEach((e=>{e.next()}))}var Fg,qv;(qv=Fg||(Fg={})).Ma="default",qv.Cache="cache";class jm{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ho(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Fg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e){this.key=e}}class __{constructor(e){this.key=e}}class A6{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ye(),this.mutatedKeys=Ye(),this.eu=Pb(e),this.tu=new zo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Bv,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,g=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,x=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,S)=>{const D=o.get(v),O=Ch(this.query,S)?S:null,W=!!D&&this.mutatedKeys.has(D.key),te=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let G=!1;D&&O?D.data.isEqual(O.data)?W!==te&&(s.track({type:3,doc:O}),G=!0):this.su(D,O)||(s.track({type:2,doc:O}),G=!0,(m&&this.eu(O,m)>0||x&&this.eu(O,x)<0)&&(g=!0)):!D&&O?(s.track({type:0,doc:O}),G=!0):D&&!O&&(s.track({type:1,doc:D}),G=!0,(m||x)&&(g=!0)),G&&(O?(h=h.add(O),u=te?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:h,iu:s,Cs:g,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((v,S)=>(function(O,W){const te=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Rt:G})}};return te(O)-te(W)})(v.type,S.type)||this.eu(v.doc,S.doc))),this.ou(s),o=o??!1;const g=n&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,x=m!==this.Za;return this.Za=m,h.length!==0||x?{snapshot:new Ho(this.query,e.tu,u,h,e.mutatedKeys,m===0,x,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Bv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ye(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new __(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new b_(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ho.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Im="SyncEngine";class C6{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class w6{constructor(e){this.key=e,this.hu=!1}}class R6{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new za((g=>Ub(g)),Ah),this.Iu=new Map,this.Eu=new Set,this.du=new St(we.comparator),this.Au=new Map,this.Ru=new mm,this.Vu={},this.mu=new Map,this.fu=Bo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function j6(i,e,n=!0){const s=w_(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await E_(s,e,n,!0),o}async function I6(i,e){const n=w_(i);await E_(n,e,!0,!1)}async function E_(i,e,n,s){const o=await $R(i.localStore,ai(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let g;return s&&(g=await D6(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&p_(i.remoteStore,o),g}async function D6(i,e,n,s,o){i.pu=(S,D,O)=>(async function(te,G,L,$){let ae=G.view.ru(L);ae.Cs&&(ae=await zv(te.localStore,G.query,!1).then((({documents:I})=>G.view.ru(I,ae))));const se=$&&$.targetChanges.get(G.targetId),be=$&&$.targetMismatches.get(G.targetId)!=null,_e=G.view.applyChanges(ae,te.isPrimaryClient,se,be);return Gv(te,G.targetId,_e.au),_e.snapshot})(i,S,D,O);const u=await zv(i.localStore,e,!0),h=new A6(e,u.Qs),g=h.ru(u.documents),m=Bc.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),x=h.applyChanges(g,i.isPrimaryClient,m);Gv(i,n,x.au);const v=new C6(e,n,h);return i.Tu.set(e,v),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),x.snapshot}async function k6(i,e,n){const s=Me(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!Ah(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ng(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&bm(s.remoteStore,o.targetId),Vg(s,o.targetId)})).catch(Qo)):(Vg(s,o.targetId),await Ng(s.localStore,o.targetId,!0))}async function O6(i,e){const n=Me(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),bm(n.remoteStore,s.targetId))}async function M6(i,e,n){const s=P6(i);try{const o=await(function(h,g){const m=Me(h),x=bt.now(),v=g.reduce(((O,W)=>O.add(W.key)),Ye());let S,D;return m.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let W=Hi(),te=Ye();return m.Ns.getEntries(O,v).next((G=>{W=G,W.forEach(((L,$)=>{$.isValidDocument()||(te=te.add(L))}))})).next((()=>m.localDocuments.getOverlayedDocuments(O,W))).next((G=>{S=G;const L=[];for(const $ of g){const ae=K4($,S.get($.key).overlayedDocument);ae!=null&&L.push(new Gs($.key,ae,kb(ae.value.mapValue),Ir.exists(!0)))}return m.mutationQueue.addMutationBatch(O,x,L,g)})).next((G=>{D=G;const L=G.applyToLocalDocumentSet(S,te);return m.documentOverlayCache.saveOverlays(O,G.batchId,L)}))})).then((()=>({batchId:D.batchId,changes:Hb(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,g,m){let x=h.Vu[h.currentUser.toKey()];x||(x=new St(Ge)),x=x.insert(g,m),h.Vu[h.currentUser.toKey()]=x})(s,o.batchId,n),await qc(s,o.changes),await kh(s.remoteStore)}catch(o){const u=Am(o,"Failed to persist write");n.reject(u)}}async function S_(i,e){const n=Me(i);try{const s=await YR(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(ot(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?ot(h.hu,14607):o.removedDocuments.size>0&&(ot(h.hu,42227),h.hu=!1))})),await qc(n,s,e)}catch(s){await Qo(s)}}function Wv(i,e,n){const s=Me(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const g=h.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(h,g){const m=Me(h);m.onlineState=g;let x=!1;m.queries.forEach(((v,S)=>{for(const D of S.Sa)D.va(g)&&(x=!0)})),x&&Rm(m)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function N6(i,e,n){const s=Me(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new St(we.comparator);h=h.insert(u,mn.newNoDocument(u,ke.min()));const g=Ye().add(u),m=new jh(ke.min(),new Map,new St(Ge),h,g);await S_(s,m),s.du=s.du.remove(u),s.Au.delete(e),Dm(s)}else await Ng(s.localStore,e,!1).then((()=>Vg(s,e,n))).catch(Qo)}async function z6(i,e){const n=Me(i),s=e.batch.batchId;try{const o=await GR(n.localStore,e);A_(n,s,null),T_(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await qc(n,o)}catch(o){await Qo(o)}}async function F6(i,e,n){const s=Me(i);try{const o=await(function(h,g){const m=Me(h);return m.persistence.runTransaction("Reject batch","readwrite-primary",(x=>{let v;return m.mutationQueue.lookupMutationBatch(x,g).next((S=>(ot(S!==null,37113),v=S.keys(),m.mutationQueue.removeMutationBatch(x,S)))).next((()=>m.mutationQueue.performConsistencyCheck(x))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(x,v,g))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(x,v))).next((()=>m.localDocuments.getDocuments(x,v)))}))})(s.localStore,e);A_(s,e,n),T_(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await qc(s,o)}catch(o){await Qo(o)}}function T_(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function A_(i,e,n){const s=Me(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Vg(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||C_(i,s)}))}function C_(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(bm(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Dm(i))}function Gv(i,e,n){for(const s of n)s instanceof b_?(i.Ru.addReference(s.key,e),V6(i,s)):s instanceof __?(Ee(Im,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||C_(i,s.key)):De(19791,{wu:s})}function V6(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(Ee(Im,"New document in limbo: "+n),i.Eu.add(s),Dm(i))}function Dm(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new we(mt.fromString(e)),s=i.fu.next();i.Au.set(s,new w6(n)),i.du=i.du.insert(n,s),p_(i.remoteStore,new js(ai(Th(n.path)),s,"TargetPurposeLimboResolution",_h.ce))}}async function qc(i,e,n){const s=Me(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,m)=>{h.push(s.pu(m,e,n).then((x=>{var v;if((x||n)&&s.isPrimaryClient){const S=x?!x.fromCache:(v=n==null?void 0:n.targetChanges.get(m.targetId))==null?void 0:v.current;s.sharedClientState.updateQueryState(m.targetId,S?"current":"not-current")}if(x){o.push(x);const S=xm.As(m.targetId,x);u.push(S)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(m,x){const v=Me(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>de.forEach(x,(D=>de.forEach(D.Es,(O=>v.persistence.referenceDelegate.addReference(S,D.targetId,O))).next((()=>de.forEach(D.ds,(O=>v.persistence.referenceDelegate.removeReference(S,D.targetId,O)))))))))}catch(S){if(!Ko(S))throw S;Ee(vm,"Failed to update sequence numbers: "+S)}for(const S of x){const D=S.targetId;if(!S.fromCache){const O=v.Ms.get(D),W=O.snapshotVersion,te=O.withLastLimboFreeSnapshotVersion(W);v.Ms=v.Ms.insert(D,te)}}})(s.localStore,u))}async function L6(i,e){const n=Me(i);if(!n.currentUser.isEqual(e)){Ee(Im,"User change. New user:",e.toKey());const s=await u_(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((g=>{g.forEach((m=>{m.reject(new me(ce.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await qc(n,s.Ls)}}function U6(i,e){const n=Me(i),s=n.Au.get(e);if(s&&s.hu)return Ye().add(s.key);{let o=Ye();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const g=n.Tu.get(h);o=o.unionWith(g.view.nu)}return o}}function w_(i){const e=Me(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=S_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=N6.bind(null,e),e.Pu.H_=S6.bind(null,e.eventManager),e.Pu.yu=T6.bind(null,e.eventManager),e}function P6(i){const e=Me(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=z6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=F6.bind(null,e),e}class th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ih(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return WR(this.persistence,new BR,e.initialUser,this.serializer)}Cu(e){return new c_(ym.mi,this.serializer)}Du(e){return new JR}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}th.provider={build:()=>new th};class B6 extends th{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ot(this.persistence.referenceDelegate instanceof Zd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new wR(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new c_((s=>Zd.mi(s,n)),this.serializer)}}class Lg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Wv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=L6.bind(null,this.syncEngine),await b6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new E6})()}createDatastore(e){const n=Ih(e.databaseInfo.databaseId),s=(function(u){return new r6(u)})(e.databaseInfo);return(function(u,h,g,m){return new o6(u,h,g,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,g){return new c6(s,o,u,h,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>Wv(this.syncEngine,n,0)),(function(){return Lv.v()?new Lv:new ZR})())}createSyncEngine(e,n){return(function(o,u,h,g,m,x,v){const S=new R6(o,u,h,g,m,x);return v&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const u=Me(o);Ee(ka,"RemoteStore shutting down."),u.Ea.add(5),await Hc(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Lg.provider={build:()=>new Lg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Bi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="FirestoreClient";class H6{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=gn.UNAUTHENTICATED,this.clientId=sm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{Ee(Ps,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(Ee(Ps,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Am(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function rg(i,e){i.asyncQueue.verifyOperationInProgress(),Ee(Ps,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await u_(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function Yv(i,e){i.asyncQueue.verifyOperationInProgress();const n=await q6(i);Ee(Ps,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>Pv(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>Pv(e.remoteStore,o))),i._onlineComponents=e}async function q6(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Ee(Ps,"Using user provided OfflineComponentProvider");try{await rg(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ce.FAILED_PRECONDITION||o.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Vo("Error using user provided cache. Falling back to memory cache: "+n),await rg(i,new th)}}else Ee(Ps,"Using default OfflineComponentProvider"),await rg(i,new B6(void 0));return i._offlineComponents}async function R_(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Ee(Ps,"Using user provided OnlineComponentProvider"),await Yv(i,i._uninitializedComponentsProvider._online)):(Ee(Ps,"Using default OnlineComponentProvider"),await Yv(i,new Lg))),i._onlineComponents}function W6(i){return R_(i).then((e=>e.syncEngine))}async function nh(i){const e=await R_(i),n=e.eventManager;return n.onListen=j6.bind(null,e.syncEngine),n.onUnlisten=k6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=I6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=O6.bind(null,e.syncEngine),n}function G6(i,e,n={}){const s=new Vi;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,g,m,x){const v=new km({next:D=>{v.Nu(),h.enqueueAndForget((()=>wm(u,S)));const O=D.docs.has(g);!O&&D.fromCache?x.reject(new me(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&D.fromCache&&m&&m.source==="server"?x.reject(new me(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):x.resolve(D)},error:D=>x.reject(D)}),S=new jm(Th(g.path),v,{includeMetadataChanges:!0,qa:!0});return Cm(u,S)})(await nh(i),i.asyncQueue,e,n,s))),s.promise}function Y6(i,e,n={}){const s=new Vi;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,g,m,x){const v=new km({next:D=>{v.Nu(),h.enqueueAndForget((()=>wm(u,S))),D.fromCache&&m.source==="server"?x.reject(new me(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):x.resolve(D)},error:D=>x.reject(D)}),S=new jm(g,v,{includeMetadataChanges:!0,qa:!0});return Cm(u,S)})(await nh(i),i.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="firestore.googleapis.com",Kv=!0;class $v{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=I_,this.ssl=Kv}else this.host=e.host,this.ssl=e.ssl??Kv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=l_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<AR)throw new me(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}l4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=j_(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new me(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new me(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new me(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $v({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $v(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Jw;switch(s.type){case"firstParty":return new n4(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Qv.get(n);s&&(Ee("ComponentProvider","Removing Datastore"),Qv.delete(n),s.terminate())})(this),Promise.resolve()}}function Q6(i,e,n,s={}){var x;i=fr(i,Oh);const o=fi(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},g=`${e}:${n}`;o&&(fh(`https://${g}`),ph("Firestore",!0)),u.host!==I_&&u.host!==g&&Vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...u,host:g,ssl:o,emulatorOptions:s};if(!ja(m,h)&&(i._setSettings(m),s.mockUserToken)){let v,S;if(typeof s.mockUserToken=="string")v=s.mockUserToken,S=gn.MOCK_USER;else{v=R2(s.mockUserToken,(x=i._app)==null?void 0:x.options.projectId);const D=s.mockUserToken.sub||s.mockUserToken.user_id;if(!D)throw new me(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new gn(D)}i._authCredentials=new Zw(new bb(v,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ys(this.firestore,e,this._query)}}class Nt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}toJSON(){return{type:Nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Uc(n,Nt._jsonSchema))return new Nt(e,s||null,new we(mt.fromString(n.referencePath)))}}Nt._jsonSchemaVersion="firestore/documentReference/1.0",Nt._jsonSchema={type:Yt("string",Nt._jsonSchemaVersion),referencePath:Yt("string")};class Ms extends Ys{constructor(e,n,s){super(e,n,Th(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new we(e))}withConverter(e){return new Ms(this.firestore,e,this._path)}}function $t(i,e,...n){if(i=yt(i),_b("collection","path",e),i instanceof Oh){const s=mt.fromString(e,...n);return cv(s),new Ms(i,null,s)}{if(!(i instanceof Nt||i instanceof Ms))throw new me(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(mt.fromString(e,...n));return cv(s),new Ms(i.firestore,null,s)}}function Qt(i,e,...n){if(i=yt(i),arguments.length===1&&(e=sm.newId()),_b("doc","path",e),i instanceof Oh){const s=mt.fromString(e,...n);return lv(s),new Nt(i,null,new we(s))}{if(!(i instanceof Nt||i instanceof Ms))throw new me(ce.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(mt.fromString(e,...n));return lv(s),new Nt(i.firestore,i instanceof Ms?i.converter:null,new we(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="AsyncQueue";class Jv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new h_(this,"async_queue_retry"),this._c=()=>{const s=ng();s&&Ee(Xv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=ng();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ng();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Vi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ko(e))throw e;Ee(Xv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Bi("INTERNAL UNHANDLED ERROR: ",Zv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Tm.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&De(47125,{Pc:Zv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Zv(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class Bs extends Oh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new Jv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Jv(e),this._firestoreClient=void 0,await e}}}function K6(i,e){const n=typeof i=="object"?i:gh(),s=typeof i=="string"?i:Qd,o=zc(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Yg("firestore");u&&Q6(o,...u)}return o}function Mh(i){if(i._terminated)throw new me(ce.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||$6(i),i._firestoreClient}function $6(i){var s,o,u;const e=i._freezeSettings(),n=(function(g,m,x,v){return new v4(g,m,x,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,j_(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(i._databaseId,((s=i._app)==null?void 0:s.options.appId)||"",i._persistenceKey,e);i._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new H6(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(g){const m=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(m),_online:m}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ur(hn.fromBase64String(e))}catch(n){throw new me(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ur(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ur._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Uc(e,ur._jsonSchema))return ur.fromBase64String(e.bytes)}}ur._jsonSchemaVersion="firestore/bytes/1.0",ur._jsonSchema={type:Yt("string",ur._jsonSchemaVersion),bytes:Yt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:li._jsonSchemaVersion}}static fromJSON(e){if(Uc(e,li._jsonSchema))return new li(e.latitude,e.longitude)}}li._jsonSchemaVersion="firestore/geoPoint/1.0",li._jsonSchema={type:Yt("string",li._jsonSchemaVersion),latitude:Yt("number"),longitude:Yt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Uc(e,ci._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ci(e.vectorValues);throw new me(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ci._jsonSchemaVersion="firestore/vectorValue/1.0",ci._jsonSchema={type:Yt("string",ci._jsonSchemaVersion),vectorValues:Yt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6=/^__.*__$/;class J6{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Gs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pc(e,this.data,n,this.fieldTransforms)}}class D_{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Gs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function k_(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ac:i})}}class Om{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Om({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(k_(this.Ac)&&X6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Z6{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Ih(e)}Cc(e,n,s,o=!1){return new Om({Ac:e,methodName:n,Dc:s,path:dn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mm(i){const e=i._freezeSettings(),n=Ih(i._databaseId);return new Z6(i._databaseId,!!e.ignoreUndefinedProperties,n)}function e5(i,e,n,s,o,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);zm("Data must be an object, but it was:",h,s);const g=O_(s,h);let m,x;if(u.merge)m=new Yn(h.fieldMask),x=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const S of u.mergeFields){const D=Ug(e,S,n);if(!h.contains(D))throw new me(ce.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);N_(v,D)||v.push(D)}m=new Yn(v),x=h.fieldTransforms.filter((S=>m.covers(S.field)))}else m=null,x=h.fieldTransforms;return new J6(new Dn(g),m,x)}class Fh extends zh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fh}}class Nm extends zh{_toFieldTransform(e){return new W4(e.path,new jc)}isEqual(e){return e instanceof Nm}}function t5(i,e,n,s){const o=i.Cc(1,e,n);zm("Data must be an object, but it was:",o,s);const u=[],h=Dn.empty();Ws(s,((m,x)=>{const v=Fm(e,m,n);x=yt(x);const S=o.yc(v);if(x instanceof Fh)u.push(v);else{const D=Wc(x,S);D!=null&&(u.push(v),h.set(v,D))}}));const g=new Yn(u);return new D_(h,g,o.fieldTransforms)}function n5(i,e,n,s,o,u){const h=i.Cc(1,e,n),g=[Ug(e,s,n)],m=[o];if(u.length%2!=0)throw new me(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<u.length;D+=2)g.push(Ug(e,u[D])),m.push(u[D+1]);const x=[],v=Dn.empty();for(let D=g.length-1;D>=0;--D)if(!N_(x,g[D])){const O=g[D];let W=m[D];W=yt(W);const te=h.yc(O);if(W instanceof Fh)x.push(O);else{const G=Wc(W,te);G!=null&&(x.push(O),v.set(O,G))}}const S=new Yn(x);return new D_(v,S,h.fieldTransforms)}function r5(i,e,n,s=!1){return Wc(n,i.Cc(s?4:3,e))}function Wc(i,e){if(M_(i=yt(i)))return zm("Unsupported field value:",e,i),O_(i,e);if(i instanceof zh)return(function(s,o){if(!k_(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const g of s){let m=Wc(g,o.wc(h));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=yt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return B4(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=bt.fromDate(s);return{timestampValue:Jd(o.serializer,u)}}if(s instanceof bt){const u=new bt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Jd(o.serializer,u)}}if(s instanceof li)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ur)return{bytesValue:t_(o.serializer,s._byteString)};if(s instanceof Nt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:gm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ci)return(function(h,g){return{mapValue:{fields:{[Ib]:{stringValue:Db},[Kd]:{arrayValue:{values:h.toArray().map((x=>{if(typeof x!="number")throw g.Sc("VectorValues must only contain numeric values.");return dm(g.serializer,x)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${bh(s)}`)})(i,e)}function O_(i,e){const n={};return Tb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ws(i,((s,o)=>{const u=Wc(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function M_(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof bt||i instanceof li||i instanceof ur||i instanceof Nt||i instanceof zh||i instanceof ci)}function zm(i,e,n){if(!M_(n)||!Eb(n)){const s=bh(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function Ug(i,e,n){if((e=yt(e))instanceof Nh)return e._internalPath;if(typeof e=="string")return Fm(i,e);throw rh("Field path arguments must be of type string or ",i,!1,void 0,n)}const i5=new RegExp("[~\\*/\\[\\]]");function Fm(i,e,n){if(e.search(i5)>=0)throw rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Nh(...e.split("."))._internalPath}catch{throw rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function rh(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let m="";return(u||h)&&(m+=" (found",u&&(m+=` in field ${s}`),h&&(m+=` in document ${o}`),m+=")"),new me(ce.INVALID_ARGUMENT,g+i+m)}function N_(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new s5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Vh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class s5 extends z_{data(){return super.data()}}function Vh(i,e){return typeof e=="string"?Fm(i,e):e instanceof Nh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new me(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vm{}class V_ extends Vm{}function ui(i,e,...n){let s=[];e instanceof Vm&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((m=>m instanceof Lm)).length,g=u.filter((m=>m instanceof Lh)).length;if(h>1||h>0&&g>0)throw new me(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Lh extends V_{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Lh(e,n,s)}_apply(e){const n=this._parse(e);return L_(e._query,n),new Ys(e.firestore,e.converter,jg(e._query,n))}_parse(e){const n=Mm(e.firestore);return(function(u,h,g,m,x,v,S){let D;if(x.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new me(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){n2(S,v);const W=[];for(const te of S)W.push(t2(m,u,te));D={arrayValue:{values:W}}}else D=t2(m,u,S)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||n2(S,v),D=r5(g,h,S,v==="in"||v==="not-in");return Gt.create(x,v,D)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Cd(i,e,n){const s=e,o=Vh("where",i);return Lh._create(o,s,n)}class Lm extends Vm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Lm(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:kr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const g=u.getFlattenedFilters();for(const m of g)L_(h,m),h=jg(h,m)})(e._query,n),new Ys(e.firestore,e.converter,jg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Um extends V_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Um(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new me(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new me(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Rc(u,h)})(e._query,this._field,this._direction);return new Ys(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new $o(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function Hs(i,e="asc"){const n=e,s=Vh("orderBy",i);return Um._create(s,n)}function t2(i,e,n){if(typeof(n=yt(n))=="string"){if(n==="")throw new me(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Lb(e)&&n.indexOf("/")!==-1)throw new me(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(mt.fromString(n));if(!we.isDocumentKey(s))throw new me(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return yv(i,new we(s))}if(n instanceof Nt)return yv(i,n._key);throw new me(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bh(n)}.`)}function n2(i,e){if(!Array.isArray(i)||i.length===0)throw new me(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function L_(i,e){const n=(function(o,u){for(const h of o)for(const g of h.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new me(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class a5{convertValue(e,n="none"){switch(Ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ws(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){var s,o,u;const n=(u=(o=(s=e.fields)==null?void 0:s[Kd].arrayValue)==null?void 0:o.values)==null?void 0:u.map((h=>Mt(h.doubleValue)));return new ci(n)}convertGeoPoint(e){return new li(Mt(e.latitude),Mt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Sh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ac(e));default:return null}}convertTimestamp(e){const n=Fs(e);return new bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=mt.fromString(e);ot(o_(s),9688,{name:e});const o=new Cc(s.get(1),s.get(3)),u=new we(s.popFirst(5));return o.isEqual(n)||Bi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class cc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ca extends z_{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Vh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ca._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ca._jsonSchema={type:Yt("string",Ca._jsonSchemaVersion),bundleSource:Yt("string","DocumentSnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class Vd extends Ca{data(e={}){return super.data(e)}}class wa{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new cc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Vd(this._firestore,this._userDataWriter,s.key,s,new cc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((g=>{const m=new Vd(o._firestore,o._userDataWriter,g.doc.key,g.doc,new cc(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:m,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const m=new Vd(o._firestore,o._userDataWriter,g.doc.key,g.doc,new cc(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let x=-1,v=-1;return g.type!==0&&(x=h.indexOf(g.doc.key),h=h.delete(g.doc.key)),g.type!==1&&(h=h.add(g.doc),v=h.indexOf(g.doc.key)),{type:l5(g.type),doc:m,oldIndex:x,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=sm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function l5(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(i){i=fr(i,Nt);const e=fr(i.firestore,Bs);return G6(Mh(e),i._key).then((n=>U_(e,i,n)))}wa._jsonSchemaVersion="firestore/querySnapshot/1.0",wa._jsonSchema={type:Yt("string",wa._jsonSchemaVersion),bundleSource:Yt("string","QuerySnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class Pm extends a5{constructor(e){super(),this.firestore=e}convertBytes(e){return new ur(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,n)}}function Mn(i){i=fr(i,Ys);const e=fr(i.firestore,Bs),n=Mh(e),s=new Pm(e);return F_(i._query),Y6(n,i._query).then((o=>new wa(e,s,i,o)))}function pr(i,e,n,...s){i=fr(i,Nt);const o=fr(i.firestore,Bs),u=Mm(o);let h;return h=typeof(e=yt(e))=="string"||e instanceof Nh?n5(u,"updateDoc",i._key,e,n,s):t5(u,"updateDoc",i._key,e),Bm(o,[h.toMutation(i._key,Ir.exists(!0))])}function Jo(i){return Bm(fr(i.firestore,Bs),[new hm(i._key,Ir.none())])}function ih(i,e){const n=fr(i.firestore,Bs),s=Qt(i),o=o5(i.converter,e);return Bm(n,[e5(Mm(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Ir.exists(!1))]).then((()=>s))}function r2(i,...e){var m,x,v;i=yt(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||e2(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(e2(e[s])){const S=e[s];e[s]=(m=S.next)==null?void 0:m.bind(S),e[s+1]=(x=S.error)==null?void 0:x.bind(S),e[s+2]=(v=S.complete)==null?void 0:v.bind(S)}let u,h,g;if(i instanceof Nt)h=fr(i.firestore,Bs),g=Th(i._key.path),u={next:S=>{e[s]&&e[s](U_(h,i,S))},error:e[s+1],complete:e[s+2]};else{const S=fr(i,Ys);h=fr(S.firestore,Bs),g=S._query;const D=new Pm(h);u={next:O=>{e[s]&&e[s](new wa(h,D,S,O))},error:e[s+1],complete:e[s+2]},F_(i._query)}return(function(D,O,W,te){const G=new km(te),L=new jm(O,G,W);return D.asyncQueue.enqueueAndForget((async()=>Cm(await nh(D),L))),()=>{G.Nu(),D.asyncQueue.enqueueAndForget((async()=>wm(await nh(D),L)))}})(Mh(h),g,o,u)}function Bm(i,e){return(function(s,o){const u=new Vi;return s.asyncQueue.enqueueAndForget((async()=>M6(await W6(s),o,u))),u.promise})(Mh(i),e)}function U_(i,e,n){const s=n.docs.get(e._key),o=new Pm(i);return new Ca(i,o,e._key,s,new cc(n.hasPendingWrites,n.fromCache),e.converter)}function En(){return new Nm("serverTimestamp")}(function(e,n=!0){(function(o){Yo=o})(Ma),Ns(new Li("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),g=new Bs(new e4(s.getProvider("auth-internal")),new r4(h,s.getProvider("app-check-internal")),(function(x,v){if(!Object.prototype.hasOwnProperty.apply(x.options,["projectId"]))throw new me(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cc(x.options.projectId,v)})(h,o),h);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),hr(iv,sv,e),hr(iv,sv,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="firebasestorage.googleapis.com",B_="storageBucket",u5=120*1e3,d5=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt extends Or{constructor(e,n,s=0){super(ig(e),`Firebase Storage: ${n} (${ig(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Rt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ig(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wt||(wt={}));function ig(i){return"storage/"+i}function Hm(){const i="An unknown error occurred, please check the error payload for server response.";return new Rt(wt.UNKNOWN,i)}function h5(i){return new Rt(wt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function f5(i){return new Rt(wt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function p5(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Rt(wt.UNAUTHENTICATED,i)}function g5(){return new Rt(wt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function m5(i){return new Rt(wt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function y5(){return new Rt(wt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function x5(){return new Rt(wt.CANCELED,"User canceled the upload/download.")}function v5(i){return new Rt(wt.INVALID_URL,"Invalid URL '"+i+"'.")}function b5(i){return new Rt(wt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function _5(){return new Rt(wt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+B_+"' property when initializing the app?")}function E5(){return new Rt(wt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function S5(){return new Rt(wt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function T5(i){return new Rt(wt.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Pg(i){return new Rt(wt.INVALID_ARGUMENT,i)}function H_(){return new Rt(wt.APP_DELETED,"The Firebase app was deleted.")}function A5(i){return new Rt(wt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function yc(i,e){return new Rt(wt.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function rc(i){throw new Rt(wt.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Qn.makeFromUrl(e,n)}catch{return new Qn(e,"")}if(s.path==="")return s;throw b5(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}const h="(/(.*))?$",g=new RegExp("^gs://"+o+h,"i"),m={bucket:1,path:3};function x(se){se.path_=decodeURIComponent(se.path)}const v="v[A-Za-z0-9_]+",S=n.replace(/[.]/g,"\\."),D="(/([^?#]*).*)?$",O=new RegExp(`^https?://${S}/${v}/b/${o}/o${D}`,"i"),W={bucket:1,path:3},te=n===P_?"(?:storage.googleapis.com|storage.cloud.google.com)":n,G="([^?#]*)",L=new RegExp(`^https?://${te}/${o}/${G}`,"i"),ae=[{regex:g,indices:m,postModify:u},{regex:O,indices:W,postModify:x},{regex:L,indices:{bucket:1,path:2},postModify:x}];for(let se=0;se<ae.length;se++){const be=ae[se],_e=be.regex.exec(e);if(_e){const I=_e[be.indices.bucket];let C=_e[be.indices.path];C||(C=""),s=new Qn(I,C),be.postModify(s);break}}if(s==null)throw v5(e);return s}}class C5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w5(i,e,n){let s=1,o=null,u=null,h=!1,g=0;function m(){return g===2}let x=!1;function v(...G){x||(x=!0,e.apply(null,G))}function S(G){o=setTimeout(()=>{o=null,i(O,m())},G)}function D(){u&&clearTimeout(u)}function O(G,...L){if(x){D();return}if(G){D(),v.call(null,G,...L);return}if(m()||h){D(),v.call(null,G,...L);return}s<64&&(s*=2);let ae;g===1?(g=2,ae=0):ae=(s+Math.random())*1e3,S(ae)}let W=!1;function te(G){W||(W=!0,D(),!x&&(o!==null?(G||(g=2),clearTimeout(o),S(0)):G||(g=1)))}return S(0),u=setTimeout(()=>{h=!0,te(!0)},n),te}function R5(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j5(i){return i!==void 0}function I5(i){return typeof i=="object"&&!Array.isArray(i)}function qm(i){return typeof i=="string"||i instanceof String}function i2(i){return Wm()&&i instanceof Blob}function Wm(){return typeof Blob<"u"}function s2(i,e,n,s){if(s<e)throw Pg(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw Pg(`Invalid value for '${i}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(i,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${i}`}function q_(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Ra;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Ra||(Ra={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e,n,s,o,u,h,g,m,x,v,S,D=!0,O=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=g,this.errorCallback_=m,this.timeout_=x,this.progressCallback_=v,this.connectionFactory_=S,this.retry=D,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((W,te)=>{this.resolve_=W,this.reject_=te,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new wd(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=g=>{const m=g.loaded,x=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,x)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const g=u.getErrorCode()===Ra.NO_ERROR,m=u.getStatus();if(!g||D5(m,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===Ra.ABORT;s(!1,new wd(!1,null,v));return}const x=this.successCodes_.indexOf(m)!==-1;s(!0,new wd(x,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,g=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(g,g.getResponse());j5(m)?u(m):u()}catch(m){h(m)}else if(g!==null){const m=Hm();m.serverResponse=g.getErrorText(),this.errorCallback_?h(this.errorCallback_(g,m)):h(m)}else if(o.canceled){const m=this.appDelete_?H_():x5();h(m)}else{const m=y5();h(m)}};this.canceled_?n(!1,new wd(!1,null,!0)):this.backoffId_=w5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&R5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wd{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function O5(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function M5(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function N5(i,e){e&&(i["X-Firebase-GMPID"]=e)}function z5(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function F5(i,e,n,s,o,u,h=!0,g=!1){const m=q_(i.urlParams),x=i.url+m,v=Object.assign({},i.headers);return N5(v,e),O5(v,n),M5(v,u),z5(v,s),new k5(x,i.method,v,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,g)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V5(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function L5(...i){const e=V5();if(e!==void 0){const n=new e;for(let s=0;s<i.length;s++)n.append(i[s]);return n.getBlob()}else{if(Wm())return new Blob(i);throw new Rt(wt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function U5(i,e,n){return i.webkitSlice?i.webkitSlice(e,n):i.mozSlice?i.mozSlice(e,n):i.slice?i.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P5(i){if(typeof atob>"u")throw T5("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class sg{constructor(e,n){this.data=e,this.contentType=n||null}}function B5(i,e){switch(i){case ri.RAW:return new sg(W_(e));case ri.BASE64:case ri.BASE64URL:return new sg(G_(i,e));case ri.DATA_URL:return new sg(q5(e),W5(e))}throw Hm()}function W_(i){const e=[];for(let n=0;n<i.length;n++){let s=i.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=i.charCodeAt(++n);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function H5(i){let e;try{e=decodeURIComponent(i)}catch{throw yc(ri.DATA_URL,"Malformed data URL.")}return W_(e)}function G_(i,e){switch(i){case ri.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw yc(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case ri.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw yc(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=P5(e)}catch(o){throw o.message.includes("polyfill")?o:yc(i,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class Y_{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw yc(ri.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=G5(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function q5(i){const e=new Y_(i);return e.base64?G_(ri.BASE64,e.rest):H5(e.rest)}function W5(i){return new Y_(i).contentType}function G5(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n){let s=0,o="";i2(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(i2(this.data_)){const s=this.data_,o=U5(s,e,n);return o===null?null:new Rs(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new Rs(s,!0)}}static getBlob(...e){if(Wm()){const n=e.map(s=>s instanceof Rs?s.data_:s);return new Rs(L5.apply(null,n))}else{const n=e.map(h=>qm(h)?B5(ri.RAW,h).data:h.data_);let s=0;n.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(h=>{for(let g=0;g<h.length;g++)o[u++]=h[g]}),new Rs(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(i){let e;try{e=JSON.parse(i)}catch{return null}return I5(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function Q5(i,e){const n=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?n:i+"/"+n}function K_(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5(i,e){return e}class _n{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||K5}}let Rd=null;function $5(i){return!qm(i)||i.length<2?i:K_(i)}function $_(){if(Rd)return Rd;const i=[];i.push(new _n("bucket")),i.push(new _n("generation")),i.push(new _n("metageneration")),i.push(new _n("name","fullPath",!0));function e(u,h){return $5(h)}const n=new _n("name");n.xform=e,i.push(n);function s(u,h){return h!==void 0?Number(h):h}const o=new _n("size");return o.xform=s,i.push(o),i.push(new _n("timeCreated")),i.push(new _n("updated")),i.push(new _n("md5Hash",null,!0)),i.push(new _n("cacheControl",null,!0)),i.push(new _n("contentDisposition",null,!0)),i.push(new _n("contentEncoding",null,!0)),i.push(new _n("contentLanguage",null,!0)),i.push(new _n("contentType",null,!0)),i.push(new _n("metadata","customMetadata",!0)),Rd=i,Rd}function X5(i,e){function n(){const s=i.bucket,o=i.fullPath,u=new Qn(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:n})}function J5(i,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const h=n[u];s[h.local]=h.xform(s,e[h.server])}return X5(s,i),s}function X_(i,e,n){const s=Q_(e);return s===null?null:J5(i,s,n)}function Z5(i,e,n,s){const o=Q_(e);if(o===null||!qm(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(x=>{const v=i.bucket,S=i.fullPath,D="/b/"+h(v)+"/o/"+h(S),O=Gm(D,n,s),W=q_({alt:"media",token:x});return O+W})[0]}function ej(i,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=i[u.local])}return JSON.stringify(n)}class J_{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(i){if(!i)throw Hm()}function tj(i,e){function n(s,o){const u=X_(i,o,e);return Z_(u!==null),u}return n}function nj(i,e){function n(s,o){const u=X_(i,o,e);return Z_(u!==null),Z5(u,o,i.host,i._protocol)}return n}function eE(i){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=g5():o=p5():n.getStatus()===402?o=f5(i.bucket):n.getStatus()===403?o=m5(i.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function rj(i){const e=eE(i);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=h5(i.path)),u.serverResponse=o.serverResponse,u}return n}function ij(i,e,n){const s=e.fullServerUrl(),o=Gm(s,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,g=new J_(o,u,nj(i,n),h);return g.errorHandler=rj(e),g}function sj(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function aj(i,e,n){const s=Object.assign({},n);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=sj(null,e)),s}function oj(i,e,n,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function g(){let ae="";for(let se=0;se<2;se++)ae=ae+Math.random().toString().slice(2);return ae}const m=g();h["Content-Type"]="multipart/related; boundary="+m;const x=aj(e,s,o),v=ej(x,n),S="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+m+`\r
Content-Type: `+x.contentType+`\r
\r
`,D=`\r
--`+m+"--",O=Rs.getBlob(S,s,D);if(O===null)throw E5();const W={name:x.fullPath},te=Gm(u,i.host,i._protocol),G="POST",L=i.maxUploadRetryTime,$=new J_(te,G,tj(i,n),L);return $.urlParams=W,$.headers=h,$.body=O.uploadData(),$.errorHandler=eE(e),$}class lj{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ra.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ra.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ra.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,u){if(this.sent_)throw rc("cannot .send() more than once");if(fi(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw rc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw rc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw rc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw rc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class cj extends lj{initXhr(){this.xhr_.responseType="text"}}function tE(){return new cj}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n){this._service=e,n instanceof Qn?this._location=n:this._location=Qn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Oa(e,n)}get root(){const e=new Qn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return K_(this._location.path)}get storage(){return this._service}get parent(){const e=Y5(this._location.path);if(e===null)return null;const n=new Qn(this._location.bucket,e);return new Oa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw A5(e)}}function uj(i,e,n){i._throwIfRoot("uploadBytes");const s=oj(i.storage,i._location,$_(),new Rs(e,!0),n);return i.storage.makeRequestWithTokens(s,tE).then(o=>({metadata:o,ref:i}))}function dj(i){i._throwIfRoot("getDownloadURL");const e=ij(i.storage,i._location,$_());return i.storage.makeRequestWithTokens(e,tE).then(n=>{if(n===null)throw S5();return n})}function hj(i,e){const n=Q5(i._location.path,e),s=new Qn(i._location.bucket,n);return new Oa(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fj(i){return/^[A-Za-z]+:\/\//.test(i)}function pj(i,e){return new Oa(i,e)}function nE(i,e){if(i instanceof Ym){const n=i;if(n._bucket==null)throw _5();const s=new Oa(n,n._bucket);return e!=null?nE(s,e):s}else return e!==void 0?hj(i,e):i}function gj(i,e){if(e&&fj(e)){if(i instanceof Ym)return pj(i,e);throw Pg("To use ref(service, url), the first argument must be a Storage instance.")}else return nE(i,e)}function a2(i,e){const n=e==null?void 0:e[B_];return n==null?null:Qn.makeFromBucketSpec(n,i)}function mj(i,e,n,s={}){i.host=`${e}:${n}`;const o=fi(e);o&&(fh(`https://${i.host}/b`),ph("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:R2(u,i.app.options.projectId))}class Ym{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=P_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=u5,this._maxUploadRetryTime=d5,this._requests=new Set,o!=null?this._bucket=Qn.makeFromBucketSpec(o,this._host):this._bucket=a2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Qn.makeFromBucketSpec(this._url,e):this._bucket=a2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){s2("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){s2("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Oa(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new C5(H_());{const h=F5(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const o2="@firebase/storage",l2="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="storage";function yj(i,e,n){return i=yt(i),uj(i,e,n)}function xj(i){return i=yt(i),dj(i)}function vj(i,e){return i=yt(i),gj(i,e)}function bj(i=gh(),e){i=yt(i);const s=zc(i,rE).getImmediate({identifier:e}),o=Yg("storage");return o&&_j(s,...o),s}function _j(i,e,n,s={}){mj(i,e,n,s)}function Ej(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new Ym(n,s,o,e,Ma)}function Sj(){Ns(new Li(rE,Ej,"PUBLIC").setMultipleInstances(!0)),hr(o2,l2,""),hr(o2,l2,"esm2020")}Sj();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj="type.googleapis.com/google.protobuf.Int64Value",Aj="type.googleapis.com/google.protobuf.UInt64Value";function iE(i,e){const n={};for(const s in i)i.hasOwnProperty(s)&&(n[s]=e(i[s]));return n}function sh(i){if(i==null)return null;if(i instanceof Number&&(i=i.valueOf()),typeof i=="number"&&isFinite(i)||i===!0||i===!1||Object.prototype.toString.call(i)==="[object String]")return i;if(i instanceof Date)return i.toISOString();if(Array.isArray(i))return i.map(e=>sh(e));if(typeof i=="function"||typeof i=="object")return iE(i,e=>sh(e));throw new Error("Data cannot be encoded in JSON: "+i)}function qo(i){if(i==null)return i;if(i["@type"])switch(i["@type"]){case Tj:case Aj:{const e=Number(i.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+i);return e}default:throw new Error("Data cannot be decoded from JSON: "+i)}return Array.isArray(i)?i.map(e=>qo(e)):typeof i=="function"||typeof i=="object"?iE(i,e=>qo(e)):i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class kn extends Or{constructor(e,n,s){super(`${Qm}/${e}`,n||""),this.details=s,Object.setPrototypeOf(this,kn.prototype)}}function Cj(i){if(i>=200&&i<300)return"ok";switch(i){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function ah(i,e){let n=Cj(i),s=n,o;try{const u=e&&e.error;if(u){const h=u.status;if(typeof h=="string"){if(!c2[h])return new kn("internal","internal");n=c2[h],s=h}const g=u.message;typeof g=="string"&&(s=g),o=u.details,o!==void 0&&(o=qo(o))}}catch{}return n==="ok"?null:new kn(n,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e,n,s,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Gn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||n.get().then(u=>this.auth=u,()=>{}),this.messaging||s.get().then(u=>this.messaging=u,()=>{}),this.appCheck||o==null||o.get().then(u=>this.appCheck=u,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),s=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:n,messagingToken:s,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg="us-central1",Rj=/^data: (.*?)(?:\n|$)/;function jj(i){let e=null;return{promise:new Promise((n,s)=>{e=setTimeout(()=>{s(new kn("deadline-exceeded","deadline-exceeded"))},i)}),cancel:()=>{e&&clearTimeout(e)}}}class Ij{constructor(e,n,s,o,u=Bg,h=(...g)=>fetch(...g)){this.app=e,this.fetchImpl=h,this.emulatorOrigin=null,this.contextProvider=new wj(e,n,s,o),this.cancelAllRequests=new Promise(g=>{this.deleteService=()=>Promise.resolve(g())});try{const g=new URL(u);this.customDomain=g.origin+(g.pathname==="/"?"":g.pathname),this.region=Bg}catch{this.customDomain=null,this.region=u}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function Dj(i,e,n){const s=fi(e);i.emulatorOrigin=`http${s?"s":""}://${e}:${n}`,s&&(fh(i.emulatorOrigin+"/backends"),ph("Functions",!0))}function kj(i,e,n){const s=o=>Mj(i,e,o,{});return s.stream=(o,u)=>zj(i,e,o,u),s}function sE(i){return i.emulatorOrigin&&fi(i.emulatorOrigin)?"include":void 0}async function Oj(i,e,n,s,o){n["Content-Type"]="application/json";let u;try{u=await s(i,{method:"POST",body:JSON.stringify(e),headers:n,credentials:sE(o)})}catch{return{status:0,json:null}}let h=null;try{h=await u.json()}catch{}return{status:u.status,json:h}}async function aE(i,e){const n={},s=await i.contextProvider.getContext(e.limitedUseAppCheckTokens);return s.authToken&&(n.Authorization="Bearer "+s.authToken),s.messagingToken&&(n["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=s.appCheckToken),n}function Mj(i,e,n,s){const o=i._url(e);return Nj(i,o,n,s)}async function Nj(i,e,n,s){n=sh(n);const o={data:n},u=await aE(i,s),h=s.timeout||7e4,g=jj(h),m=await Promise.race([Oj(e,o,u,i.fetchImpl,i),g.promise,i.cancelAllRequests]);if(g.cancel(),!m)throw new kn("cancelled","Firebase Functions instance was deleted.");const x=ah(m.status,m.json);if(x)throw x;if(!m.json)throw new kn("internal","Response is not valid JSON object.");let v=m.json.data;if(typeof v>"u"&&(v=m.json.result),typeof v>"u")throw new kn("internal","Response is missing data field.");return{data:qo(v)}}function zj(i,e,n,s){const o=i._url(e);return Fj(i,o,n,s||{})}async function Fj(i,e,n,s){var D;n=sh(n);const o={data:n},u=await aE(i,s);u["Content-Type"]="application/json",u.Accept="text/event-stream";let h;try{h=await i.fetchImpl(e,{method:"POST",body:JSON.stringify(o),headers:u,signal:s==null?void 0:s.signal,credentials:sE(i)})}catch(O){if(O instanceof Error&&O.name==="AbortError"){const te=new kn("cancelled","Request was cancelled.");return{data:Promise.reject(te),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(te)}}}}}}const W=ah(0,null);return{data:Promise.reject(W),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(W)}}}}}}let g,m;const x=new Promise((O,W)=>{g=O,m=W});(D=s==null?void 0:s.signal)==null||D.addEventListener("abort",()=>{const O=new kn("cancelled","Request was cancelled.");m(O)});const v=h.body.getReader(),S=Vj(v,g,m,s==null?void 0:s.signal);return{stream:{[Symbol.asyncIterator](){const O=S.getReader();return{async next(){const{value:W,done:te}=await O.read();return{value:W,done:te}},async return(){return await O.cancel(),{done:!0,value:void 0}}}}},data:x}}function Vj(i,e,n,s){const o=(h,g)=>{const m=h.match(Rj);if(!m)return;const x=m[1];try{const v=JSON.parse(x);if("result"in v){e(qo(v.result));return}if("message"in v){g.enqueue(qo(v.message));return}if("error"in v){const S=ah(0,v);g.error(S),n(S);return}}catch(v){if(v instanceof kn){g.error(v),n(v);return}}},u=new TextDecoder;return new ReadableStream({start(h){let g="";return m();async function m(){if(s!=null&&s.aborted){const x=new kn("cancelled","Request was cancelled");return h.error(x),n(x),Promise.resolve()}try{const{value:x,done:v}=await i.read();if(v){g.trim()&&o(g.trim(),h),h.close();return}if(s!=null&&s.aborted){const D=new kn("cancelled","Request was cancelled");h.error(D),n(D),await i.cancel();return}g+=u.decode(x,{stream:!0});const S=g.split(`
`);g=S.pop()||"";for(const D of S)D.trim()&&o(D.trim(),h);return m()}catch(x){const v=x instanceof kn?x:ah(0,null);h.error(v),n(v)}}},cancel(){return i.cancel()}})}const u2="@firebase/functions",d2="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj="auth-internal",Uj="app-check-internal",Pj="messaging-internal";function Bj(i){const e=(n,{instanceIdentifier:s})=>{const o=n.getProvider("app").getImmediate(),u=n.getProvider(Lj),h=n.getProvider(Pj),g=n.getProvider(Uj);return new Ij(o,u,h,g,s)};Ns(new Li(Qm,e,"PUBLIC").setMultipleInstances(!0)),hr(u2,d2,i),hr(u2,d2,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(i=gh(),e=Bg){const s=zc(yt(i),Qm).getImmediate({identifier:e}),o=Yg("functions");return o&&Hj(s,...o),s}function Hj(i,e,n){Dj(yt(i),e,n)}function ag(i,e,n){return kj(yt(i),e)}Bj();const qj={apiKey:"AIzaSyDYv6wA5oORN8EmEbysQVQ3x5enj8gRyVM",authDomain:"yesil-43ba4.firebaseapp.com",databaseURL:"https://yesil-43ba4-default-rtdb.firebaseio.com",projectId:"yesil-43ba4",storageBucket:"yesil-43ba4.firebasestorage.app",messagingSenderId:"203487504975",appId:"1:203487504975:web:847f97ab7057806cfd983a"},Uh=D2(qj),Ve=K6(Uh),og=$w(Uh),Wj=bj(Uh);oE(Uh);var lE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},h2=Rr.createContext&&Rr.createContext(lE),Gj=["attr","size","title"];function Yj(i,e){if(i==null)return{};var n=Qj(i,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(n[s]=i[s])}return n}function Qj(i,e){if(i==null)return{};var n={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function oh(){return oh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},oh.apply(this,arguments)}function f2(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function lh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f2(Object(n),!0).forEach(function(s){Kj(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):f2(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}function Kj(i,e,n){return e=$j(e),e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function $j(i){var e=Xj(i,"string");return typeof e=="symbol"?e:e+""}function Xj(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function cE(i){return i&&i.map((e,n)=>Rr.createElement(e.tag,lh({key:n},e.attr),cE(e.child)))}function Ae(i){return e=>Rr.createElement(Jj,oh({attr:lh({},i.attr)},e),cE(i.child))}function Jj(i){var e=n=>{var{attr:s,size:o,title:u}=i,h=Yj(i,Gj),g=o||n.size||"1em",m;return n.className&&(m=n.className),i.className&&(m=(m?m+" ":"")+i.className),Rr.createElement("svg",oh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,h,{className:m,style:lh(lh({color:i.color||n.color},n.style),i.style),height:g,width:g,xmlns:"http://www.w3.org/2000/svg"}),u&&Rr.createElement("title",null,u),i.children)};return h2!==void 0?Rr.createElement(h2.Consumer,null,n=>e(n)):e(lE)}function Zj(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88a9.947 9.947 0 0 1 12.28 0C16.43 19.18 14.03 20 12 20z"},child:[]}]})(i)}function uE(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6z"},child:[]},{tag:"path",attr:{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12zm0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17z"},child:[]}]})(i)}function eI(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"},child:[]}]})(i)}function On(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"},child:[]}]})(i)}function lg(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"},child:[]}]})(i)}function tI(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"},child:[]}]})(i)}function nI(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"},child:[]}]})(i)}function Zo(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(i)}function uc(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"},child:[]}]})(i)}function p2(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"},child:[]}]})(i)}function rI(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"},child:[]}]})(i)}function g2(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"},child:[]}]})(i)}function m2(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"},child:[]}]})(i)}function kc(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7 13.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"},child:[]}]})(i)}function iI(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 17H6v-2h12v2zm0-4H6v-2h12v2zm0-4H6V7h12v2zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20z"},child:[]}]})(i)}function Wi(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"},child:[]}]})(i)}function xc(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49A1.003 1.003 0 0 0 20 4H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(i)}function Oc(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4v2h16V4zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6h1zm-9 4H6v-4h6v4z"},child:[]}]})(i)}function cg(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69L23 12zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48-7.33 7.35z"},child:[]}]})(i)}function Hg(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M2 7h4v10H2V7zm5 12h10V5H7v14zM18 7h4v10h-4V7z"},child:[]}]})(i)}function dE(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46A11.804 11.804 0 0 0 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"},child:[]}]})(i)}function el(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"},child:[]}]})(i)}function ug(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]}]})(i)}function Km(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"},child:[]}]})(i)}function y2(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"},child:[]}]})(i)}function ch(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 9h12v2H6V9zm8 5H6v-2h8v2zm4-6H6V6h12v2z"},child:[]}]})(i)}function uh(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(i)}function Ni(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5z"},child:[]}]})(i)}function vc(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"},child:[]}]})(i)}function dh(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"},child:[]}]})(i)}function qg(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"},child:[]}]})(i)}function sI(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9A7.902 7.902 0 0 1 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1A7.902 7.902 0 0 1 20 12c0 4.42-3.58 8-8 8z"},child:[]}]})(i)}function Ph(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"},child:[]}]})(i)}function hE(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"},child:[]}]})(i)}function Wg(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"},child:[]}]})(i)}function gr(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]},{tag:"path",attr:{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},child:[]}]})(i)}function x2(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"},child:[]}]})(i)}function aI(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19.35 10.04A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.04A5.994 5.994 0 0 0 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"},child:[]}]})(i)}function qi(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},child:[]}]})(i)}function v2(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"},child:[]}]})(i)}function bc(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 2-5.5 9h11z"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"17.5",r:"4.5"},child:[]},{tag:"path",attr:{d:"M3 13.5h8v8H3z"},child:[]}]})(i)}function dg(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18.06 22.99h1.66c.84 0 1.53-.64 1.63-1.46L23 5.05h-5V1h-1.97v4.05h-4.97l.3 2.34c1.71.47 3.31 1.32 4.27 2.26 1.44 1.42 2.43 2.89 2.43 5.29v8.05zM1 21.99V21h15.03v.99c0 .55-.45 1-1.01 1H2.01c-.56 0-1.01-.45-1.01-1zm15.03-7c0-8-15.03-8-15.03 0h15.03zM1.02 17h15v2h-15z"},child:[]}]})(i)}function oI(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m21.41 11.58-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z"},child:[]}]})(i)}function lI(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm13.5-9 1.96 2.5H17V9.5h2.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"},child:[]}]})(i)}function hg(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 9H9V2H7v7H5V2H3v7c0 2.12 1.66 3.84 3.75 3.97V22h2.5v-9.03C11.34 12.84 13 11.12 13 9V2h-2v7zm5-3v8h2.5v8H21V2c-2.76 0-5 2.24-5 4z"},child:[]}]})(i)}function cI(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m7 10 5 5 5-5z"},child:[]}]})(i)}function yn(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"},child:[]}]})(i)}function hi(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(i)}function fg(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"},child:[]}]})(i)}function Nn(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17.65 6.35A7.958 7.958 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"},child:[]}]})(i)}function Co(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"19",r:"2"},child:[]},{tag:"path",attr:{d:"M10 3h4v12h-4z"},child:[]}]})(i)}function uI(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 11V3H7v4H3v14h8v-4h2v4h8V11h-4zM7 19H5v-2h2v2zm0-4H5v-2h2v2zm0-4H5V9h2v2zm4 4H9v-2h2v2zm0-4H9V9h2v2zm0-4H9V5h2v2zm4 8h-2v-2h2v2zm0-4h-2V9h2v2zm0-4h-2V5h2v2zm4 12h-2v-2h2v2zm0-4h-2v-2h2v2z"},child:[]}]})(i)}function dI(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M20 3H4v10c0 2.21 1.79 4 4 4h6c2.21 0 4-1.79 4-4v-3h2a2 2 0 0 0 2-2V5c0-1.11-.89-2-2-2zm0 5h-2V5h2v3zM4 19h16v2H4z"},child:[]}]})(i)}function b2(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"circle",attr:{cx:"12.5",cy:"4.5",r:"2"},child:[]},{tag:"path",attr:{d:"m19.77 17.72-.64-6.37A1.49 1.49 0 0 0 17.64 10H16c-1.5-.02-2.86-.54-3.76-1.44l-2-1.98A1.95 1.95 0 0 0 8.83 6c-.51 0-1.02.2-1.41.59L4.08 9.91c-.53.68-.51 1.57-.21 2.13l1.43 2.8-3.15 4.05 1.57 1.24L7.4 15.4l-.17-1.36.77.71V20h2v-6.12l-2.12-2.12 2.36-2.36c.94.94 1.72 1.82 3.59 2.32L13 20h1.5l.41-3.5h3.18l.14 1.22c-.44.26-.73.74-.73 1.28 0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5c0-.54-.29-1.02-.73-1.28zM15.09 15l.41-3.5h2l.41 3.5h-2.82z"},child:[]}]})(i)}function Do(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"},child:[]}]})(i)}function fE(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 22c1.1 0 2-.9 2-2h-4a2 2 0 0 0 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"},child:[]}]})(i)}function hI(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"},child:[]}]})(i)}function dr(i){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"},child:[]}]})(i)}function fI(){const[i,e]=ie.useState([]),[n,s]=ie.useState([]),[o,u]=ie.useState(!0),[h,g]=ie.useState(""),[m,x]=ie.useState({total:0,cities:0,states:0}),v=async()=>{try{u(!0);const W=(await Mn($t(Ve,"addresses"))).docs.map(L=>({id:L.id,...L.data()}));e(W),s(W);const te=new Set(W.map(L=>L.city).filter(Boolean)),G=new Set(W.map(L=>L.state).filter(Boolean));x({total:W.length,cities:te.size,states:G.size})}catch(O){console.error("Error fetching addresses:",O),alert("Failed to fetch addresses. Check console for details.")}finally{u(!1)}};ie.useEffect(()=>{v()},[]),ie.useEffect(()=>{if(!h.trim()){s(i);return}const O=h.toLowerCase(),W=i.filter(te=>te.street&&te.street.toLowerCase().includes(O)||te.city&&te.city.toLowerCase().includes(O)||te.state&&te.state.toLowerCase().includes(O)||te.zip&&te.zip.includes(h)||te.id&&te.id.toLowerCase().includes(O));s(W)},[h,i]);const S=O=>{switch(O==null?void 0:O.toLowerCase()){case"home":return l.jsx(p2,{});case"apartment":return l.jsx(uI,{});case"business":return l.jsx(y2,{});default:return l.jsx(Ni,{})}},D=O=>[O.street,O.city&&`${O.city},`,O.state,O.zip&&`(${O.zip})`].filter(Boolean).join(" ");return l.jsxs("div",{style:{padding:"0 10px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:30,padding:"20px 0"},children:[l.jsxs("div",{children:[l.jsxs("h1",{style:{margin:0,fontSize:"28px",fontWeight:"600",color:"#2D3748",display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx(Ni,{style:{color:"#01615F"}}),"Address Management"]}),l.jsx("p",{style:{margin:"8px 0 0",color:"#718096",fontSize:"14px"},children:"View and manage all delivery and billing addresses"})]}),l.jsxs("button",{onClick:v,style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",backgroundColor:"#01615F",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer",fontSize:"14px",transition:"all 0.2s ease"},onMouseOver:O=>O.target.style.backgroundColor="#028C89",onMouseOut:O=>O.target.style.backgroundColor="#01615F",children:[l.jsx(Nn,{}),"Refresh"]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:30},children:[l.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",borderLeft:"4px solid #01615F"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:"#E6FFFA",display:"flex",alignItems:"center",justifyContent:"center",color:"#01615F"},children:l.jsx(Ni,{size:20})}),l.jsxs("div",{children:[l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096",fontWeight:"600"},children:"Total Addresses"}),l.jsx("p",{style:{margin:"4px 0 0",fontSize:"24px",fontWeight:"700",color:"#2D3748"},children:m.total})]})]})}),l.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",borderLeft:"4px solid #4299E1"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:"#EBF8FF",display:"flex",alignItems:"center",justifyContent:"center",color:"#4299E1"},children:l.jsx(p2,{size:20})}),l.jsxs("div",{children:[l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096",fontWeight:"600"},children:"Unique Cities"}),l.jsx("p",{style:{margin:"4px 0 0",fontSize:"24px",fontWeight:"700",color:"#2D3748"},children:m.cities})]})]})}),l.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",borderLeft:"4px solid #9F7AEA"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:"#FAF5FF",display:"flex",alignItems:"center",justifyContent:"center",color:"#9F7AEA"},children:l.jsx(y2,{size:20})}),l.jsxs("div",{children:[l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096",fontWeight:"600"},children:"States/Provinces"}),l.jsx("p",{style:{margin:"4px 0 0",fontSize:"24px",fontWeight:"700",color:"#2D3748"},children:m.states})]})]})})]}),l.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",marginBottom:20},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[l.jsxs("div",{style:{position:"relative",flex:1},children:[l.jsx(Wi,{style:{position:"absolute",left:"15px",top:"50%",transform:"translateY(-50%)",color:"#A0AEC0"}}),l.jsx("input",{type:"text",placeholder:"Search addresses by street, city, state, zip, or ID...",value:h,onChange:O=>g(O.target.value),style:{width:"100%",padding:"12px 20px 12px 45px",border:"1px solid #E2E8F0",borderRadius:"8px",fontSize:"14px",backgroundColor:"#F7FAFC",transition:"all 0.2s ease"},onFocus:O=>{O.target.style.borderColor="#01615F",O.target.style.backgroundColor="white",O.target.style.boxShadow="0 0 0 3px rgba(1, 97, 95, 0.1)"},onBlur:O=>{O.target.style.borderColor="#E2E8F0",O.target.style.backgroundColor="#F7FAFC",O.target.style.boxShadow="none"}})]}),l.jsxs("div",{style:{padding:"8px 16px",backgroundColor:"#EDF2F7",borderRadius:"6px",fontSize:"14px",color:"#4A5568",fontWeight:"500"},children:["Showing ",n.length," of ",i.length]})]})}),l.jsx("div",{style:{backgroundColor:"white",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",overflow:"hidden"},children:o?l.jsxs("div",{style:{padding:"60px",textAlign:"center"},children:[l.jsx("div",{style:{width:"50px",height:"50px",border:"4px solid #E2E8F0",borderTopColor:"#01615F",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 20px"}}),l.jsx("p",{style:{color:"#718096",fontWeight:"500"},children:"Loading addresses..."})]}):n.length===0?l.jsxs("div",{style:{padding:"60px",textAlign:"center"},children:[l.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",backgroundColor:"#F7FAFC",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px",color:"#A0AEC0"},children:l.jsx(Ni,{size:40})}),l.jsx("h3",{style:{margin:"0 0 10px",color:"#2D3748"},children:h?"No matching addresses found":"No addresses found"}),l.jsx("p",{style:{color:"#718096",marginBottom:"20px"},children:h?"Try a different search term":"Start by adding your first address"}),h&&l.jsx("button",{onClick:()=>g(""),style:{padding:"10px 24px",backgroundColor:"transparent",border:"1px solid #01615F",color:"#01615F",borderRadius:"8px",fontWeight:"600",cursor:"pointer"},children:"Clear Search"})]}):l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"800px"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{backgroundColor:"#F7FAFC",borderBottom:"2px solid #E2E8F0"},children:[l.jsx("th",{style:{padding:"16px 20px",textAlign:"left",fontWeight:"600",color:"#4A5568",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Address ID"}),l.jsx("th",{style:{padding:"16px 20px",textAlign:"left",fontWeight:"600",color:"#4A5568",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Full Address"}),l.jsx("th",{style:{padding:"16px 20px",textAlign:"left",fontWeight:"600",color:"#4A5568",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"City"}),l.jsx("th",{style:{padding:"16px 20px",textAlign:"left",fontWeight:"600",color:"#4A5568",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"State"}),l.jsx("th",{style:{padding:"16px 20px",textAlign:"left",fontWeight:"600",color:"#4A5568",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"ZIP/Postal"}),l.jsx("th",{style:{padding:"16px 20px",textAlign:"left",fontWeight:"600",color:"#4A5568",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Type"})]})}),l.jsx("tbody",{children:n.map((O,W)=>l.jsxs("tr",{style:{borderBottom:"1px solid #EDF2F7",backgroundColor:W%2===0?"white":"#F9FAFB",transition:"background-color 0.2s ease"},onMouseOver:te=>te.currentTarget.style.backgroundColor="#F0FFF4",onMouseOut:te=>te.currentTarget.style.backgroundColor=W%2===0?"white":"#F9FAFB",children:[l.jsx("td",{style:{padding:"16px 20px",color:"#2D3748",fontSize:"14px",fontWeight:"500"},children:l.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:l.jsxs("span",{style:{padding:"4px 8px",backgroundColor:"#EBF8FF",color:"#2B6CB0",borderRadius:"4px",fontSize:"12px",fontWeight:"600"},children:[O.id.substring(0,8),"..."]})})}),l.jsx("td",{style:{padding:"16px 20px",color:"#2D3748",fontSize:"14px"},children:l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:"500",marginBottom:"4px"},children:O.street||"No street specified"}),l.jsx("div",{style:{color:"#718096",fontSize:"13px"},children:D(O)})]})}),l.jsx("td",{style:{padding:"16px 20px",color:"#2D3748",fontSize:"14px"},children:l.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"6px 12px",backgroundColor:"#E6FFFA",color:"#01615F",borderRadius:"20px",fontSize:"13px",fontWeight:"500"},children:[l.jsx(Ni,{size:12}),O.city||"-"]})}),l.jsx("td",{style:{padding:"16px 20px",color:"#2D3748",fontSize:"14px"},children:l.jsx("span",{style:{padding:"4px 10px",backgroundColor:"#FAF5FF",color:"#6B46C1",borderRadius:"4px",fontSize:"13px",fontWeight:"600"},children:O.state||"-"})}),l.jsx("td",{style:{padding:"16px 20px",color:"#2D3748",fontSize:"14px",fontWeight:"600"},children:O.zip?l.jsx("span",{style:{fontFamily:"'Courier New', monospace",letterSpacing:"1px"},children:O.zip}):"-"}),l.jsx("td",{style:{padding:"16px 20px"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#718096"},children:[S(O.type),l.jsx("span",{style:{fontSize:"13px"},children:O.type||"Unknown"})]})})]},O.id))})]})})}),l.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})}function pI(){const[i,e]=ie.useState([]),[n,s]=ie.useState([]),[o,u]=ie.useState(!0),[h,g]=ie.useState(""),[m,x]=ie.useState(!1),[v,S]=ie.useState({total:0,active:0,expired:0,visa:0,mastercard:0,other:0}),D=async()=>{try{u(!0);const $=(await Mn($t(Ve,"cards"))).docs.map(I=>({id:I.id,...I.data()}));e($),s($);const ae=new Date,se=$.filter(I=>I.expiryDate?new Date(I.expiryDate)>ae:!0),be=$.filter(I=>{var C,A;return((C=I.number)==null?void 0:C.startsWith("4"))||((A=I.type)==null?void 0:A.toLowerCase().includes("visa"))}).length,_e=$.filter(I=>{var C,A;return((C=I.number)==null?void 0:C.startsWith("5"))||((A=I.type)==null?void 0:A.toLowerCase().includes("mastercard"))}).length;S({total:$.length,active:se.length,expired:$.length-se.length,visa:be,mastercard:_e,other:$.length-(be+_e)})}catch(L){console.error("Error fetching cards:",L),alert("Failed to fetch cards. Check console for details.")}finally{u(!1)}};ie.useEffect(()=>{D()},[]),ie.useEffect(()=>{if(!h.trim()){s(i);return}const L=h.toLowerCase(),$=i.filter(ae=>ae.name&&ae.name.toLowerCase().includes(L)||ae.number&&ae.number.includes(h)||ae.type&&ae.type.toLowerCase().includes(L)||ae.id&&ae.id.toLowerCase().includes(L)||ae.userId&&ae.userId.toLowerCase().includes(L));s($)},[h,i]);const O=(L,$)=>{const ae=L==null?void 0:L.charAt(0),se=$==null?void 0:$.toLowerCase();return ae==="4"||se!=null&&se.includes("visa")?{color:"#1A1F71",bg:"#F1F8FF",label:"Visa"}:ae==="5"||se!=null&&se.includes("mastercard")?{color:"#EB001B",bg:"#FFF0F0",label:"Mastercard"}:ae==="3"||se!=null&&se.includes("amex")?{color:"#2E77BB",bg:"#F0F9FF",label:"Amex"}:ae==="6"||se!=null&&se.includes("discover")?{color:"#FF6600",bg:"#FFF5E6",label:"Discover"}:{color:"#718096",bg:"#F7FAFC",label:"Other"}},W=L=>{if(!L)return"   ";if(m){const ae=L.replace(/\D/g,""),se=ae.match(/.{1,4}/g);return se?se.join(" "):ae}return`   ${L.slice(-4)}`},te=L=>L||"N/A",G=L=>{if(!L)return!1;const $=L.split("/");if($.length!==2)return!1;const ae=parseInt($[0],10),se=parseInt("20"+$[1],10);return new Date(se,ae,0)<new Date};return l.jsxs("div",{style:{padding:"0 10px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:30,padding:"20px 0"},children:[l.jsxs("div",{children:[l.jsxs("h1",{style:{margin:0,fontSize:"28px",fontWeight:"600",color:"#2D3748",display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx(lg,{style:{color:"#01615F"}}),"Payment Cards"]}),l.jsx("p",{style:{margin:"8px 0 0",color:"#718096",fontSize:"14px"},children:"Manage and monitor all payment methods"})]}),l.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[l.jsxs("button",{onClick:()=>x(!m),style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",backgroundColor:"transparent",border:"1px solid #E2E8F0",color:"#4A5568",borderRadius:"8px",fontWeight:"500",cursor:"pointer",fontSize:"14px",transition:"all 0.2s ease"},onMouseOver:L=>L.target.style.backgroundColor="#F7FAFC",onMouseOut:L=>L.target.style.backgroundColor="transparent",children:[m?l.jsx(dE,{}):l.jsx(el,{}),m?"Hide Numbers":"Show Numbers"]}),l.jsxs("button",{onClick:D,style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",backgroundColor:"#01615F",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer",fontSize:"14px",transition:"all 0.2s ease"},onMouseOver:L=>L.target.style.backgroundColor="#028C89",onMouseOut:L=>L.target.style.backgroundColor="#01615F",children:[l.jsx(Nn,{}),"Refresh"]})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:30},children:[l.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",borderLeft:"4px solid #01615F"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:"#E6FFFA",display:"flex",alignItems:"center",justifyContent:"center",color:"#01615F"},children:l.jsx(lg,{size:20})}),l.jsxs("div",{children:[l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096",fontWeight:"600"},children:"Total Cards"}),l.jsx("p",{style:{margin:"4px 0 0",fontSize:"24px",fontWeight:"700",color:"#2D3748"},children:v.total})]})]})}),l.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",borderLeft:"4px solid #48BB78"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:"#F0FFF4",display:"flex",alignItems:"center",justifyContent:"center",color:"#48BB78"},children:l.jsx(On,{size:20})}),l.jsxs("div",{children:[l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096",fontWeight:"600"},children:"Active Cards"}),l.jsx("p",{style:{margin:"4px 0 0",fontSize:"24px",fontWeight:"700",color:"#2D3748"},children:v.active})]})]})}),l.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",borderLeft:"4px solid #F56565"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:"#FFF5F5",display:"flex",alignItems:"center",justifyContent:"center",color:"#F56565"},children:l.jsx(yn,{size:20})}),l.jsxs("div",{children:[l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096",fontWeight:"600"},children:"Expired Cards"}),l.jsx("p",{style:{margin:"4px 0 0",fontSize:"24px",fontWeight:"700",color:"#2D3748"},children:v.expired})]})]})}),l.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",borderLeft:"4px solid #9F7AEA"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:"#FAF5FF",display:"flex",alignItems:"center",justifyContent:"center",color:"#9F7AEA"},children:l.jsx(rI,{size:20})}),l.jsxs("div",{children:[l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096",fontWeight:"600"},children:"Card Types"}),l.jsx("p",{style:{margin:"4px 0 0",fontSize:"24px",fontWeight:"700",color:"#2D3748"},children:v.visa+v.mastercard+v.other})]})]})})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"15px",marginBottom:30},children:[l.jsxs("div",{style:{backgroundColor:"white",padding:"15px",borderRadius:"10px",boxShadow:"0 1px 5px rgba(0,0,0,0.05)",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"#1A1F71"}}),l.jsxs("div",{style:{flex:1},children:[l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096"},children:"Visa"}),l.jsxs("p",{style:{margin:"2px 0 0",fontSize:"16px",fontWeight:"600",color:"#2D3748"},children:[v.visa," ",l.jsxs("span",{style:{fontSize:"12px",color:"#A0AEC0"},children:["(",Math.round(v.visa/v.total*100),"%)"]})]})]})]}),l.jsxs("div",{style:{backgroundColor:"white",padding:"15px",borderRadius:"10px",boxShadow:"0 1px 5px rgba(0,0,0,0.05)",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"#EB001B"}}),l.jsxs("div",{style:{flex:1},children:[l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096"},children:"Mastercard"}),l.jsxs("p",{style:{margin:"2px 0 0",fontSize:"16px",fontWeight:"600",color:"#2D3748"},children:[v.mastercard," ",l.jsxs("span",{style:{fontSize:"12px",color:"#A0AEC0"},children:["(",Math.round(v.mastercard/v.total*100),"%)"]})]})]})]}),l.jsxs("div",{style:{backgroundColor:"white",padding:"15px",borderRadius:"10px",boxShadow:"0 1px 5px rgba(0,0,0,0.05)",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"#718096"}}),l.jsxs("div",{style:{flex:1},children:[l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096"},children:"Other Types"}),l.jsxs("p",{style:{margin:"2px 0 0",fontSize:"16px",fontWeight:"600",color:"#2D3748"},children:[v.other," ",l.jsxs("span",{style:{fontSize:"12px",color:"#A0AEC0"},children:["(",Math.round(v.other/v.total*100),"%)"]})]})]})]})]}),l.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",marginBottom:20},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[l.jsxs("div",{style:{position:"relative",flex:1},children:[l.jsx(Wi,{style:{position:"absolute",left:"15px",top:"50%",transform:"translateY(-50%)",color:"#A0AEC0"}}),l.jsx("input",{type:"text",placeholder:"Search cards by name, number, type, or user ID...",value:h,onChange:L=>g(L.target.value),style:{width:"100%",padding:"12px 20px 12px 45px",border:"1px solid #E2E8F0",borderRadius:"8px",fontSize:"14px",backgroundColor:"#F7FAFC",transition:"all 0.2s ease"},onFocus:L=>{L.target.style.borderColor="#01615F",L.target.style.backgroundColor="white",L.target.style.boxShadow="0 0 0 3px rgba(1, 97, 95, 0.1)"},onBlur:L=>{L.target.style.borderColor="#E2E8F0",L.target.style.backgroundColor="#F7FAFC",L.target.style.boxShadow="none"}})]}),l.jsxs("div",{style:{padding:"8px 16px",backgroundColor:"#EDF2F7",borderRadius:"6px",fontSize:"14px",color:"#4A5568",fontWeight:"500"},children:["Showing ",n.length," of ",i.length]})]})}),o?l.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"60px",textAlign:"center",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:[l.jsx("div",{style:{width:"50px",height:"50px",border:"4px solid #E2E8F0",borderTopColor:"#01615F",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 20px"}}),l.jsx("p",{style:{color:"#718096",fontWeight:"500"},children:"Loading payment cards..."})]}):n.length===0?l.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"60px",textAlign:"center",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:[l.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",backgroundColor:"#F7FAFC",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px",color:"#A0AEC0"},children:l.jsx(lg,{size:40})}),l.jsx("h3",{style:{margin:"0 0 10px",color:"#2D3748"},children:h?"No matching cards found":"No payment cards found"}),l.jsx("p",{style:{color:"#718096",marginBottom:"20px"},children:h?"Try a different search term":"No cards have been added yet"}),h&&l.jsx("button",{onClick:()=>g(""),style:{padding:"10px 24px",backgroundColor:"transparent",border:"1px solid #01615F",color:"#01615F",borderRadius:"8px",fontWeight:"600",cursor:"pointer"},children:"Clear Search"})]}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"20px",marginBottom:"30px"},children:n.map(L=>{const $=O(L.number,L.type),ae=G(L.expiry);return l.jsxs("div",{style:{backgroundColor:"white",borderRadius:"16px",padding:"25px",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",border:ae?"1px solid #F56565":"1px solid #E2E8F0",position:"relative",overflow:"hidden",transition:"transform 0.2s ease, box-shadow 0.2s ease"},onMouseOver:se=>{se.currentTarget.style.transform="translateY(-4px)",se.currentTarget.style.boxShadow="0 8px 30px rgba(0,0,0,0.12)"},onMouseOut:se=>{se.currentTarget.style.transform="translateY(0)",se.currentTarget.style.boxShadow="0 4px 20px rgba(0,0,0,0.08)"},children:[l.jsx("div",{style:{position:"absolute",top:"0",right:"0",padding:"6px 15px",backgroundColor:$.bg,color:$.color,fontSize:"12px",fontWeight:"600",borderBottomLeftRadius:"12px",borderTopRightRadius:"16px"},children:$.label}),ae&&l.jsxs("div",{style:{position:"absolute",top:"10px",left:"10px",display:"flex",alignItems:"center",gap:"6px",padding:"4px 12px",backgroundColor:"#FFF5F5",color:"#F56565",borderRadius:"20px",fontSize:"12px",fontWeight:"600"},children:[l.jsx(yn,{size:12}),"Expired"]}),l.jsxs("div",{style:{marginTop:ae?"30px":"0",marginBottom:"25px"},children:[l.jsx("p",{style:{margin:"0 0 8px",fontSize:"12px",color:"#718096",fontWeight:"500"},children:"CARD NUMBER"}),l.jsx("p",{style:{margin:0,fontSize:"22px",fontWeight:"600",color:"#2D3748",letterSpacing:"2px",fontFamily:"'Courier New', monospace"},children:W(L.number)})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"25px"},children:[l.jsxs("div",{children:[l.jsx("p",{style:{margin:"0 0 8px",fontSize:"12px",color:"#718096",fontWeight:"500"},children:"CARD HOLDER"}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(Zj,{size:18,color:"#718096"}),l.jsx("p",{style:{margin:0,fontSize:"16px",fontWeight:"600",color:"#2D3748"},children:L.name||"Unknown"})]})]}),l.jsxs("div",{style:{textAlign:"right"},children:[l.jsx("p",{style:{margin:"0 0 8px",fontSize:"12px",color:"#718096",fontWeight:"500"},children:"EXPIRES"}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(eI,{size:18,color:"#718096"}),l.jsx("p",{style:{margin:0,fontSize:"16px",fontWeight:"600",color:ae?"#F56565":"#2D3748"},children:te(L.expiry)})]})]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"20px",borderTop:"1px solid #EDF2F7",fontSize:"13px"},children:[l.jsxs("div",{children:[l.jsx("p",{style:{margin:"0 0 4px",color:"#718096"},children:"User ID"}),l.jsx("p",{style:{margin:0,fontWeight:"500",color:"#4A5568",backgroundColor:"#F7FAFC",padding:"4px 8px",borderRadius:"4px",fontSize:"12px"},children:L.userId?L.userId.substring(0,8)+"...":"N/A"})]}),l.jsxs("div",{style:{textAlign:"right"},children:[l.jsx("p",{style:{margin:"0 0 4px",color:"#718096"},children:"CVV"}),l.jsx("p",{style:{margin:0,fontWeight:"500",color:"#4A5568",fontFamily:"'Courier New', monospace"},children:""})]})]}),l.jsx("div",{style:{position:"absolute",bottom:"0",left:"0",right:"0",height:"4px",backgroundColor:ae?"#F56565":"#48BB78",borderBottomLeftRadius:"16px",borderBottomRightRadius:"16px"}})]},L.id)})}),l.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})}function gI(){const[i,e]=ie.useState([]),[n,s]=ie.useState([]),[o,u]=ie.useState(!0),[h,g]=ie.useState(""),[m,x]=ie.useState({total:0,active:0,withImages:0}),[v,S]=ie.useState(null),[D,O]=ie.useState(!1),[W,te]=ie.useState(null),[G,L]=ie.useState({name:"",description:"",imageUrl:"",isActive:!0,sortOrder:0}),[$,ae]=ie.useState(!1),[se,be]=ie.useState(null),[_e,I]=ie.useState(null),C=async()=>{try{u(!0),S(null);const re=$t(Ve,"categories"),E=(await Mn(re)).docs.map(N=>{var J,pe;const q=N.data();return{id:N.id,...q,createdAt:(J=q.createdAt)!=null&&J.toDate?q.createdAt.toDate():q.createdAt||new Date,updatedAt:(pe=q.updatedAt)!=null&&pe.toDate?q.updatedAt.toDate():q.updatedAt||null}});e(E),s(E);const R=E.filter(N=>N.isActive!==!1).length,H=E.filter(N=>N.imageUrl).length;x({total:E.length,active:R,withImages:H})}catch(re){console.error("Error fetching categories:",re),S(`Failed to fetch categories: ${re.message}`)}finally{u(!1)}};ie.useEffect(()=>{C()},[]),ie.useEffect(()=>{if(!h.trim()){s(i);return}const re=h.toLowerCase(),F=i.filter(E=>E.name&&E.name.toLowerCase().includes(re)||E.description&&E.description.toLowerCase().includes(re)||E.id&&E.id.toLowerCase().includes(re));s(F)},[h,i]);const A=re=>{const F=re.target.files[0];if(!F)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(F.type)){alert("Please select a valid image file (JPEG, PNG, GIF, WebP)");return}if(F.size>5*1024*1024){alert("Image size should be less than 5MB");return}be(F);const R=new FileReader;R.onloadend=()=>{I(R.result)},R.readAsDataURL(F)},z=async re=>{if(!re)return null;try{ae(!0);const E=`category_${Date.now()}_${re.name.replace(/\s+/g,"_")}`,R=vj(Wj,`categories/${E}`),H=await yj(R,re),N=await xj(H.ref);return console.log("Image uploaded successfully:",N),N}catch(F){throw console.error("Error uploading image:",F),new Error(`Failed to upload image: ${F.message}`)}finally{ae(!1)}},k=async re=>{re.preventDefault();try{let F=G.imageUrl;if(se){const R=await z(se);R&&(F=R)}const E={name:G.name.trim(),description:G.description.trim(),imageUrl:F,isActive:G.isActive,sortOrder:parseInt(G.sortOrder)||0,createdAt:En(),updatedAt:En()};console.log("Adding new category:",E),await ih($t(Ve,"categories"),E),alert("Category added successfully!"),xe(),O(!1),C()}catch(F){console.error("Error adding category:",F),alert(`Failed to add category: ${F.message}`)}},U=async re=>{re.preventDefault();try{const F=$t(Ve,"categories");if(!(await Mn(F)).docs.some(J=>J.id===W))throw new Error(`Category with ID "${W}" does not exist. It may have been deleted.`);let H=G.imageUrl;if(se){const J=await z(se);J&&(H=J)}const N=Qt(Ve,"categories",W),q={name:G.name.trim(),description:G.description.trim(),imageUrl:H,isActive:G.isActive,sortOrder:parseInt(G.sortOrder)||0,updatedAt:En()};console.log("Updating category:",W,q),await pr(N,q),alert("Category updated successfully!"),xe(),te(null),C()}catch(F){console.error("Error updating category:",F),alert(`Failed to update category: ${F.message}`)}},w=async(re,F)=>{if(window.confirm(`Are you sure you want to delete category "${F}"?`))try{const E=$t(Ve,"categories");if(!(await Mn(E)).docs.some(N=>N.id===re)){alert(`Category "${F}" no longer exists. It may have been deleted by another user.`),C();return}console.log("Deleting category:",re),await Jo(Qt(Ve,"categories",re)),alert("Category deleted successfully!"),C()}catch(E){console.error("Error deleting category:",E),alert(`Failed to delete category: ${E.message}`)}},ve=re=>{console.log("Starting to edit category:",re),te(re.id),L({name:re.name||"",description:re.description||"",imageUrl:re.imageUrl||"",isActive:re.isActive!==!1,sortOrder:re.sortOrder||0}),be(null),I(re.imageUrl||null)},xe=()=>{L({name:"",description:"",imageUrl:"",isActive:!0,sortOrder:0}),be(null),I(null),te(null),ae(!1)},P=re=>{const{name:F,value:E,type:R,checked:H}=re.target;L(N=>({...N,[F]:R==="checkbox"?H:E}))},he=()=>{be(null),I(null),L(re=>({...re,imageUrl:""}))},ye=re=>{if(!re)return"N/A";try{return(re instanceof Date?re:new Date(re)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return"Invalid Date"}};return l.jsxs("div",{style:{padding:"0 10px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:30,padding:"20px 0"},children:[l.jsxs("div",{children:[l.jsxs("h1",{style:{margin:0,fontSize:"28px",fontWeight:"600",color:"#2D3748",display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx(bc,{style:{color:"#01615F"}}),"Categories Management"]}),l.jsx("p",{style:{margin:"8px 0 0",color:"#718096",fontSize:"14px"},children:"Organize products with categories"})]}),l.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[l.jsxs("button",{onClick:()=>{xe(),O(!0)},style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",backgroundColor:"#01615F",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer",fontSize:"14px",transition:"all 0.2s ease"},onMouseOver:re=>re.target.style.backgroundColor="#028C89",onMouseOut:re=>re.target.style.backgroundColor="#01615F",children:[l.jsx(qg,{}),"Add Category"]}),l.jsxs("button",{onClick:C,style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",backgroundColor:"transparent",border:"1px solid #E2E8F0",color:"#4A5568",borderRadius:"8px",fontWeight:"500",cursor:"pointer",fontSize:"14px",transition:"all 0.2s ease"},onMouseOver:re=>re.target.style.backgroundColor="#F7FAFC",onMouseOut:re=>re.target.style.backgroundColor="transparent",children:[l.jsx(Nn,{}),"Refresh"]})]})]}),v&&l.jsxs("div",{style:{backgroundColor:"#FEF2F2",border:"1px solid #FECACA",borderRadius:"8px",padding:"15px",marginBottom:"20px",display:"flex",alignItems:"flex-start",gap:"12px"},children:[l.jsx(ug,{style:{color:"#DC2626",flexShrink:0,marginTop:"2px"}}),l.jsxs("div",{children:[l.jsx("strong",{style:{color:"#DC2626"},children:"Error:"}),l.jsx("p",{style:{margin:"4px 0 0",color:"#7F1D1D"},children:v}),l.jsx("button",{onClick:C,style:{marginTop:"8px",padding:"6px 12px",backgroundColor:"#DC2626",color:"white",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer"},children:"Retry"})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:30},children:[l.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",borderLeft:"4px solid #01615F"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:"#E6FFFA",display:"flex",alignItems:"center",justifyContent:"center",color:"#01615F"},children:l.jsx(bc,{size:20})}),l.jsxs("div",{children:[l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096",fontWeight:"600"},children:"Total Categories"}),l.jsx("p",{style:{margin:"4px 0 0",fontSize:"24px",fontWeight:"700",color:"#2D3748"},children:m.total})]})]})}),l.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",borderLeft:"4px solid #48BB78"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:"#F0FFF4",display:"flex",alignItems:"center",justifyContent:"center",color:"#48BB78"},children:l.jsx(On,{size:20})}),l.jsxs("div",{children:[l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096",fontWeight:"600"},children:"Active Categories"}),l.jsx("p",{style:{margin:"4px 0 0",fontSize:"24px",fontWeight:"700",color:"#2D3748"},children:m.active})]})]})}),l.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",borderLeft:"4px solid #9F7AEA"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:"#FAF5FF",display:"flex",alignItems:"center",justifyContent:"center",color:"#9F7AEA"},children:l.jsx(v2,{size:20})}),l.jsxs("div",{children:[l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096",fontWeight:"600"},children:"With Images"}),l.jsx("p",{style:{margin:"4px 0 0",fontSize:"24px",fontWeight:"700",color:"#2D3748"},children:m.withImages})]})]})})]}),(D||W)&&l.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",marginBottom:30},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:25},children:[l.jsx("h3",{style:{margin:0,color:"#2D3748"},children:W?"Edit Category":"Add New Category"}),l.jsx("button",{onClick:()=>{xe(),O(!1)},style:{background:"none",border:"none",color:"#718096",cursor:"pointer",fontSize:"20px",padding:"5px"},children:l.jsx(yn,{})})]}),l.jsxs("form",{onSubmit:W?U:k,children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px",marginBottom:"25px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#4A5568"},children:"Category Name *"}),l.jsx("input",{type:"text",name:"name",value:G.name,onChange:P,required:!0,style:{width:"100%",padding:"12px 16px",border:"1px solid #E2E8F0",borderRadius:"8px",fontSize:"14px",backgroundColor:"#F7FAFC",transition:"all 0.2s ease"},onFocus:re=>{re.target.style.borderColor="#01615F",re.target.style.backgroundColor="white"},onBlur:re=>{re.target.style.borderColor="#E2E8F0",re.target.style.backgroundColor="#F7FAFC"},placeholder:"Enter category name"})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#4A5568"},children:"Sort Order"}),l.jsx("input",{type:"number",name:"sortOrder",value:G.sortOrder,onChange:P,min:"0",style:{width:"100%",padding:"12px 16px",border:"1px solid #E2E8F0",borderRadius:"8px",fontSize:"14px",backgroundColor:"#F7FAFC"},placeholder:"Display order"})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#4A5568"},children:"Description"}),l.jsx("textarea",{name:"description",value:G.description,onChange:P,rows:"3",style:{width:"100%",padding:"12px 16px",border:"1px solid #E2E8F0",borderRadius:"8px",fontSize:"14px",backgroundColor:"#F7FAFC",resize:"vertical",minHeight:"100px"},placeholder:"Enter category description"})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#4A5568"},children:"Category Image"}),l.jsxs("div",{style:{display:"flex",gap:"20px",alignItems:"flex-start"},children:[(_e||G.imageUrl)&&l.jsxs("div",{style:{width:"120px",height:"120px",borderRadius:"8px",overflow:"hidden",border:"1px solid #E2E8F0",position:"relative"},children:[l.jsx("img",{src:_e||G.imageUrl,alt:"Preview",style:{width:"100%",height:"100%",objectFit:"cover"},onError:re=>{re.target.style.display="none";const F=re.target.parentElement;F.innerHTML=`
                            <div style="display: flex; align-items: center; justify-content: center; width: 100%; height: 100%; background: #F7FAFC; color: #718096;">
                              <MdImage size={32} />
                            </div>
                          `}}),l.jsx("button",{type:"button",onClick:he,style:{position:"absolute",top:"5px",right:"5px",background:"rgba(0, 0, 0, 0.7)",color:"white",border:"none",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"12px"},children:l.jsx(hi,{})})]}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{border:"2px dashed #CBD5E0",borderRadius:"8px",padding:"20px",textAlign:"center",backgroundColor:"#F7FAFC",cursor:"pointer",transition:"all 0.2s ease",position:"relative"},onMouseOver:re=>re.currentTarget.style.borderColor="#01615F",onMouseOut:re=>re.currentTarget.style.borderColor="#CBD5E0",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:A,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0,cursor:"pointer"}}),l.jsxs("div",{style:{color:"#718096"},children:[l.jsx(aI,{size:32,style:{marginBottom:"10px"}}),l.jsx("p",{style:{margin:"0 0 8px",fontWeight:"500"},children:"Click to upload image or drag and drop"}),l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#A0AEC0"},children:"PNG, JPG, GIF, WebP up to 5MB"}),se&&l.jsxs("p",{style:{margin:"10px 0 0",fontSize:"12px",color:"#48BB78"},children:["Selected: ",se.name]})]})]}),l.jsxs("div",{style:{marginTop:"15px"},children:[l.jsx("p",{style:{margin:"0 0 8px",fontSize:"12px",color:"#718096"},children:"Or enter image URL:"}),l.jsx("input",{type:"url",name:"imageUrl",value:G.imageUrl,onChange:P,style:{width:"100%",padding:"10px 12px",border:"1px solid #E2E8F0",borderRadius:"6px",fontSize:"13px",backgroundColor:"white"},placeholder:"https://example.com/image.jpg",disabled:!!se})]})]})]}),$&&l.jsxs("div",{style:{marginTop:"10px",padding:"8px",backgroundColor:"#EDF2F7",borderRadius:"4px",fontSize:"13px",color:"#4A5568",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx("div",{style:{width:"16px",height:"16px",border:"2px solid #E2E8F0",borderTopColor:"#01615F",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"Uploading image..."]})]}),l.jsxs("div",{children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",fontSize:"14px",fontWeight:"600",color:"#4A5568",cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",name:"isActive",checked:G.isActive,onChange:P,style:{width:"18px",height:"18px"}}),"Active Category"]}),l.jsx("p",{style:{margin:"8px 0 0",fontSize:"13px",color:"#718096"},children:"Inactive categories won't be shown to users"})]})]}),l.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[l.jsx("button",{type:"button",onClick:()=>{xe(),O(!1)},style:{padding:"12px 24px",backgroundColor:"transparent",border:"1px solid #E2E8F0",color:"#4A5568",borderRadius:"8px",fontWeight:"600",cursor:"pointer",fontSize:"14px"},children:"Cancel"}),l.jsx("button",{type:"submit",disabled:$,style:{padding:"12px 24px",backgroundColor:$?"#CBD5E0":"#01615F",border:"none",color:"white",borderRadius:"8px",fontWeight:"600",cursor:$?"not-allowed":"pointer",fontSize:"14px",display:"flex",alignItems:"center",gap:"8px",opacity:$?.7:1},children:$?l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{width:"16px",height:"16px",border:"2px solid rgba(255,255,255,0.3)",borderTopColor:"white",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"Uploading..."]}):l.jsxs(l.Fragment,{children:[l.jsx(hE,{}),W?"Update Category":"Add Category"]})})]})]})]}),l.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",marginBottom:20},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[l.jsxs("div",{style:{position:"relative",flex:1},children:[l.jsx(Wi,{style:{position:"absolute",left:"15px",top:"50%",transform:"translateY(-50%)",color:"#A0AEC0"}}),l.jsx("input",{type:"text",placeholder:"Search categories by name, description, or ID...",value:h,onChange:re=>g(re.target.value),style:{width:"100%",padding:"12px 20px 12px 45px",border:"1px solid #E2E8F0",borderRadius:"8px",fontSize:"14px",backgroundColor:"#F7FAFC",transition:"all 0.2s ease"},onFocus:re=>{re.target.style.borderColor="#01615F",re.target.style.backgroundColor="white"},onBlur:re=>{re.target.style.borderColor="#E2E8F0",re.target.style.backgroundColor="#F7FAFC"}})]}),l.jsxs("div",{style:{padding:"8px 16px",backgroundColor:"#EDF2F7",borderRadius:"6px",fontSize:"14px",color:"#4A5568",fontWeight:"500"},children:["Showing ",n.length," of ",i.length]})]})}),o&&!v&&l.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"60px",textAlign:"center",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:[l.jsx("div",{style:{width:"50px",height:"50px",border:"4px solid #E2E8F0",borderTopColor:"#01615F",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 20px"}}),l.jsx("p",{style:{color:"#718096",fontWeight:"500"},children:"Loading categories..."})]}),!o&&v&&l.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"60px",textAlign:"center",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:[l.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",backgroundColor:"#FEF2F2",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px",color:"#DC2626"},children:l.jsx(ug,{size:40})}),l.jsx("h3",{style:{margin:"0 0 10px",color:"#2D3748"},children:"Failed to Load Categories"}),l.jsx("p",{style:{color:"#718096",marginBottom:"20px"},children:v}),l.jsxs("button",{onClick:C,style:{padding:"10px 24px",backgroundColor:"#DC2626",border:"none",color:"white",borderRadius:"8px",fontWeight:"600",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"8px"},children:[l.jsx(Nn,{}),"Retry Loading"]})]}),!o&&!v&&n.length===0&&i.length===0&&l.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"60px",textAlign:"center",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:[l.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",backgroundColor:"#F7FAFC",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px",color:"#A0AEC0"},children:l.jsx(bc,{size:40})}),l.jsx("h3",{style:{margin:"0 0 10px",color:"#2D3748"},children:h?"No matching categories found":"No categories found"}),l.jsx("p",{style:{color:"#718096",marginBottom:"20px"},children:h?"Try a different search term":"Start by adding your first category"}),!D&&l.jsxs("button",{onClick:()=>O(!0),style:{padding:"10px 24px",backgroundColor:"#01615F",border:"none",color:"white",borderRadius:"8px",fontWeight:"600",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"8px"},children:[l.jsx(qg,{}),"Add First Category"]})]}),!o&&!v&&n.length>0&&l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px",marginBottom:"30px"},children:n.map(re=>{var F;return l.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",overflow:"hidden",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",border:re.isActive===!1?"1px solid #FED7D7":"1px solid #E2E8F0",transition:"transform 0.2s ease, box-shadow 0.2s ease"},onMouseOver:E=>{E.currentTarget.style.transform="translateY(-4px)",E.currentTarget.style.boxShadow="0 8px 30px rgba(0,0,0,0.12)"},onMouseOut:E=>{E.currentTarget.style.transform="translateY(0)",E.currentTarget.style.boxShadow="0 4px 20px rgba(0,0,0,0.08)"},children:[l.jsxs("div",{style:{height:"180px",backgroundColor:"#F7FAFC",position:"relative",overflow:"hidden"},children:[re.imageUrl?l.jsx("img",{src:re.imageUrl,alt:re.name,style:{width:"100%",height:"100%",objectFit:"cover"},onError:E=>{E.target.style.display="none";const R=E.target.parentElement;R.innerHTML=`
                        <div style="display: flex; align-items: center; justify-content: center; width: 100%; height: 100%; background: #F7FAFC; color: #CBD5E0;">
                          <MdImage size={48} />
                        </div>
                      `}}):l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",color:"#CBD5E0"},children:l.jsx(v2,{size:48})}),l.jsxs("div",{style:{position:"absolute",top:"12px",left:"12px",padding:"6px 12px",backgroundColor:re.isActive===!1?"#FED7D7":"#C6F6D5",color:re.isActive===!1?"#9B2C2C":"#22543D",fontSize:"12px",fontWeight:"600",borderRadius:"20px",display:"flex",alignItems:"center",gap:"6px"},children:[re.isActive===!1?l.jsx(ug,{}):l.jsx(On,{}),re.isActive===!1?"Inactive":"Active"]})]}),l.jsxs("div",{style:{padding:"20px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[l.jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:"600",color:"#2D3748",flex:1},children:re.name}),l.jsxs("div",{style:{display:"flex",gap:"8px",marginLeft:"10px"},children:[l.jsx("button",{onClick:()=>ve(re),style:{background:"none",border:"none",color:"#01615F",cursor:"pointer",fontSize:"18px",padding:"4px",borderRadius:"4px",transition:"background-color 0.2s ease"},onMouseOver:E=>E.target.style.backgroundColor="#E6FFFA",onMouseOut:E=>E.target.style.backgroundColor="transparent",title:"Edit",children:l.jsx(qi,{})}),l.jsx("button",{onClick:()=>w(re.id,re.name),style:{background:"none",border:"none",color:"#F56565",cursor:"pointer",fontSize:"18px",padding:"4px",borderRadius:"4px",transition:"background-color 0.2s ease"},onMouseOver:E=>E.target.style.backgroundColor="#FFF5F5",onMouseOut:E=>E.target.style.backgroundColor="transparent",title:"Delete",children:l.jsx(Zo,{})})]})]}),re.description&&l.jsx("p",{style:{margin:"0 0 15px",fontSize:"14px",color:"#718096",lineHeight:"1.5"},children:re.description.length>100?`${re.description.substring(0,100)}...`:re.description}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:"15px",borderTop:"1px solid #EDF2F7",fontSize:"13px",color:"#A0AEC0"},children:[l.jsxs("div",{children:["Sort: ",l.jsx("strong",{style:{color:"#4A5568"},children:re.sortOrder||0})]}),l.jsxs("div",{style:{textAlign:"right"},children:["Created: ",l.jsx("strong",{style:{color:"#4A5568"},children:ye(re.createdAt)})]})]}),l.jsxs("div",{style:{marginTop:"15px",padding:"8px 12px",backgroundColor:"#F7FAFC",borderRadius:"6px",fontSize:"12px",color:"#718096",display:"flex",justifyContent:"space-between"},children:[l.jsxs("span",{children:["ID: ",((F=re.id)==null?void 0:F.substring(0,8))||"N/A","..."]}),l.jsx("button",{onClick:()=>{navigator.clipboard.writeText(re.id),alert("Category ID copied to clipboard!")},style:{background:"none",border:"none",color:"#01615F",cursor:"pointer",fontSize:"12px",fontWeight:"600"},children:"Copy ID"})]})]})]},re.id)})}),l.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})}function mI(){const[i,e]=ie.useState([]),[n,s]=ie.useState([]),[o,u]=ie.useState(!0),[h,g]=ie.useState(""),[m,x]=ie.useState(null),[v,S]=ie.useState(null),[D,O]=ie.useState(null),[W,te]=ie.useState("all"),[G,L]=ie.useState({status:"",adminNotes:""}),[$,ae]=ie.useState({total:0,pending:0,approved:0,rejected:0,today:0,thisWeek:0}),se=async()=>{try{u(!0),x(null);const w=$t(Ve,"freeFoodRequests"),ve=ui(w,Hs("createdAt","desc")),P=(await Mn(ve)).docs.map(q=>{var pe,Be;const J=q.data();return{id:q.id,...J,createdAt:(pe=J.createdAt)!=null&&pe.toDate?J.createdAt.toDate():J.createdAt||new Date,updatedAt:(Be=J.updatedAt)!=null&&Be.toDate?J.updatedAt.toDate():J.updatedAt||null}});e(P),s(P);const he=new Date,ye=new Date(he.getFullYear(),he.getMonth(),he.getDate()),re=new Date(he.getFullYear(),he.getMonth(),he.getDate()-he.getDay()),F=P.filter(q=>q.status==="pending").length,E=P.filter(q=>q.status==="approved").length,R=P.filter(q=>q.status==="rejected").length,H=P.filter(q=>(q.createdAt instanceof Date?q.createdAt:new Date(q.createdAt))>=ye).length,N=P.filter(q=>(q.createdAt instanceof Date?q.createdAt:new Date(q.createdAt))>=re).length;ae({total:P.length,pending:F,approved:E,rejected:R,today:H,thisWeek:N})}catch(w){console.error("Error fetching free food requests:",w),x(`Failed to fetch requests: ${w.message}`)}finally{u(!1)}};ie.useEffect(()=>{se()},[]),ie.useEffect(()=>{let w=[...i];if(h.trim()){const ve=h.toLowerCase();w=w.filter(xe=>xe.userName&&xe.userName.toLowerCase().includes(ve)||xe.userEmail&&xe.userEmail.toLowerCase().includes(ve)||xe.userPhone&&xe.userPhone.includes(h)||xe.address&&xe.address.toLowerCase().includes(ve)||xe.reason&&xe.reason.toLowerCase().includes(ve)||xe.id&&xe.id.toLowerCase().includes(ve))}W!=="all"&&(w=w.filter(ve=>ve.status===W)),s(w)},[h,W,i]);const be=async(w,ve)=>{try{const xe=Qt(Ve,"freeFoodRequests",w),P={status:ve,updatedAt:En(),resolvedAt:ve!=="pending"?En():null};await pr(xe,P),alert(`Request ${ve} successfully!`),se()}catch(xe){console.error("Error updating request:",xe),alert(`Failed to update request: ${xe.message}`)}},_e=async(w,ve)=>{if(window.confirm(`Are you sure you want to delete request from "${ve||"this user"}"?`))try{await Jo(Qt(Ve,"freeFoodRequests",w)),alert("Request deleted successfully!"),se(),(v==null?void 0:v.id)===w&&S(null)}catch(xe){console.error("Error deleting request:",xe),alert(`Failed to delete request: ${xe.message}`)}},I=async w=>{w.preventDefault();try{const ve=Qt(Ve,"freeFoodRequests",D),xe={...G,updatedAt:En()};await pr(ve,xe),alert("Request updated successfully!"),O(null),L({status:"",adminNotes:""}),se()}catch(ve){console.error("Error updating request:",ve),alert(`Failed to update request: ${ve.message}`)}},C=w=>{O(w.id),L({status:w.status||"",adminNotes:w.adminNotes||""})},A=w=>{switch(w){case"pending":return{bg:"#FEF3C7",text:"#92400E",icon:l.jsx(kc,{})};case"approved":return{bg:"#D1FAE5",text:"#065F46",icon:l.jsx(On,{})};case"rejected":return{bg:"#FEE2E2",text:"#991B1B",icon:l.jsx(yn,{})};default:return{bg:"#E5E7EB",text:"#374151",icon:l.jsx(gr,{})}}},z=w=>{switch(w){case"pending":return"Pending";case"approved":return"Approved";case"rejected":return"Rejected";default:return"Unknown"}},k=w=>{if(!w)return"N/A";try{return(w instanceof Date?w:new Date(w)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid Date"}},U=w=>{if(!w)return"N/A";const xe=w.replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return xe?`(${xe[1]}) ${xe[2]}-${xe[3]}`:w};return l.jsxs("div",{style:{padding:"0 10px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:30,padding:"20px 0"},children:[l.jsxs("div",{children:[l.jsxs("h1",{style:{margin:0,fontSize:"28px",fontWeight:"600",color:"#2D3748",display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx(dg,{style:{color:"#01615F"}}),"Free Food Requests"]}),l.jsx("p",{style:{margin:"8px 0 0",color:"#718096",fontSize:"14px"},children:"Manage food assistance requests from users"})]}),l.jsxs("button",{onClick:se,style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",backgroundColor:"#01615F",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer",fontSize:"14px",transition:"all 0.2s ease"},onMouseOver:w=>w.target.style.backgroundColor="#028C89",onMouseOut:w=>w.target.style.backgroundColor="#01615F",children:[l.jsx(Nn,{}),"Refresh"]})]}),m&&l.jsxs("div",{style:{backgroundColor:"#FEF2F2",border:"1px solid #FECACA",borderRadius:"8px",padding:"15px",marginBottom:"20px",display:"flex",alignItems:"flex-start",gap:"12px"},children:[l.jsx(yn,{style:{color:"#DC2626",flexShrink:0,marginTop:"2px"}}),l.jsxs("div",{children:[l.jsx("strong",{style:{color:"#DC2626"},children:"Error:"}),l.jsx("p",{style:{margin:"4px 0 0",color:"#7F1D1D"},children:m}),l.jsx("button",{onClick:se,style:{marginTop:"8px",padding:"6px 12px",backgroundColor:"#DC2626",color:"white",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer"},children:"Retry"})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:30},children:[l.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",borderLeft:"4px solid #01615F"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:"#E6FFFA",display:"flex",alignItems:"center",justifyContent:"center",color:"#01615F"},children:l.jsx(dg,{size:20})}),l.jsxs("div",{children:[l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096",fontWeight:"600"},children:"Total Requests"}),l.jsx("p",{style:{margin:"4px 0 0",fontSize:"24px",fontWeight:"700",color:"#2D3748"},children:$.total})]})]})}),l.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",borderLeft:"4px solid #F59E0B"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:"#FEF3C7",display:"flex",alignItems:"center",justifyContent:"center",color:"#F59E0B"},children:l.jsx(kc,{size:20})}),l.jsxs("div",{children:[l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096",fontWeight:"600"},children:"Pending"}),l.jsx("p",{style:{margin:"4px 0 0",fontSize:"24px",fontWeight:"700",color:"#2D3748"},children:$.pending})]})]})}),l.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",borderLeft:"4px solid #10B981"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:"#D1FAE5",display:"flex",alignItems:"center",justifyContent:"center",color:"#10B981"},children:l.jsx(On,{size:20})}),l.jsxs("div",{children:[l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096",fontWeight:"600"},children:"Approved"}),l.jsx("p",{style:{margin:"4px 0 0",fontSize:"24px",fontWeight:"700",color:"#2D3748"},children:$.approved})]})]})}),l.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",borderLeft:"4px solid #EF4444"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:"#FEE2E2",display:"flex",alignItems:"center",justifyContent:"center",color:"#EF4444"},children:l.jsx(yn,{size:20})}),l.jsxs("div",{children:[l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096",fontWeight:"600"},children:"Rejected"}),l.jsx("p",{style:{margin:"4px 0 0",fontSize:"24px",fontWeight:"700",color:"#2D3748"},children:$.rejected})]})]})})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"15px",marginBottom:30},children:[l.jsxs("div",{style:{backgroundColor:"white",padding:"15px",borderRadius:"10px",boxShadow:"0 1px 5px rgba(0,0,0,0.05)",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#DBEAFE",display:"flex",alignItems:"center",justifyContent:"center",color:"#1D4ED8",marginBottom:"8px"},children:l.jsx(gr,{size:20})}),l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096"},children:"Today"}),l.jsx("p",{style:{margin:"4px 0 0",fontSize:"18px",fontWeight:"700",color:"#2D3748"},children:$.today})]}),l.jsxs("div",{style:{backgroundColor:"white",padding:"15px",borderRadius:"10px",boxShadow:"0 1px 5px rgba(0,0,0,0.05)",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#E0E7FF",display:"flex",alignItems:"center",justifyContent:"center",color:"#4F46E5",marginBottom:"8px"},children:l.jsx(gr,{size:20})}),l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096"},children:"This Week"}),l.jsx("p",{style:{margin:"4px 0 0",fontSize:"18px",fontWeight:"700",color:"#2D3748"},children:$.thisWeek})]})]}),l.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",marginBottom:20},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",flexWrap:"wrap"},children:[l.jsxs("div",{style:{position:"relative",flex:1,minWidth:"300px"},children:[l.jsx(Wi,{style:{position:"absolute",left:"15px",top:"50%",transform:"translateY(-50%)",color:"#A0AEC0"}}),l.jsx("input",{type:"text",placeholder:"Search requests by name, email, phone, address, or reason...",value:h,onChange:w=>g(w.target.value),style:{width:"100%",padding:"12px 20px 12px 45px",border:"1px solid #E2E8F0",borderRadius:"8px",fontSize:"14px",backgroundColor:"#F7FAFC",transition:"all 0.2s ease"},onFocus:w=>{w.target.style.borderColor="#01615F",w.target.style.backgroundColor="white"},onBlur:w=>{w.target.style.borderColor="#E2E8F0",w.target.style.backgroundColor="#F7FAFC"}})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx(Ph,{style:{color:"#718096"}}),l.jsxs("select",{value:W,onChange:w=>te(w.target.value),style:{padding:"10px 15px",border:"1px solid #E2E8F0",borderRadius:"8px",fontSize:"14px",backgroundColor:"white",color:"#4A5568",cursor:"pointer",minWidth:"120px"},children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"approved",children:"Approved"}),l.jsx("option",{value:"rejected",children:"Rejected"})]})]}),l.jsxs("div",{style:{padding:"8px 16px",backgroundColor:"#EDF2F7",borderRadius:"6px",fontSize:"14px",color:"#4A5568",fontWeight:"500",whiteSpace:"nowrap"},children:["Showing ",n.length," of ",i.length]})]})}),D&&l.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",marginBottom:30},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:25},children:[l.jsx("h3",{style:{margin:0,color:"#2D3748"},children:"Update Request Details"}),l.jsx("button",{onClick:()=>{O(null),L({status:"",adminNotes:""})},style:{background:"none",border:"none",color:"#718096",cursor:"pointer",fontSize:"20px",padding:"5px"},children:l.jsx(hi,{})})]}),l.jsxs("form",{onSubmit:I,children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px",marginBottom:"25px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#4A5568"},children:"Status *"}),l.jsxs("select",{name:"status",value:G.status,onChange:w=>L({...G,status:w.target.value}),required:!0,style:{width:"100%",padding:"12px 16px",border:"1px solid #E2E8F0",borderRadius:"8px",fontSize:"14px",backgroundColor:"#F7FAFC"},children:[l.jsx("option",{value:"",children:"Select Status"}),l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"approved",children:"Approved"}),l.jsx("option",{value:"rejected",children:"Rejected"})]})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#4A5568"},children:"Admin Notes"}),l.jsx("textarea",{name:"adminNotes",value:G.adminNotes,onChange:w=>L({...G,adminNotes:w.target.value}),rows:"4",style:{width:"100%",padding:"12px 16px",border:"1px solid #E2E8F0",borderRadius:"8px",fontSize:"14px",backgroundColor:"#F7FAFC",resize:"vertical",minHeight:"120px"},placeholder:"Add admin notes or instructions..."})]})]}),l.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[l.jsx("button",{type:"button",onClick:()=>{O(null),L({status:"",adminNotes:""})},style:{padding:"12px 24px",backgroundColor:"transparent",border:"1px solid #E2E8F0",color:"#4A5568",borderRadius:"8px",fontWeight:"600",cursor:"pointer",fontSize:"14px"},children:"Cancel"}),l.jsxs("button",{type:"submit",style:{padding:"12px 24px",backgroundColor:"#01615F",border:"none",color:"white",borderRadius:"8px",fontWeight:"600",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(MdSave,{}),"Update Request"]})]})]})]}),o&&!m&&l.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"60px",textAlign:"center",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:[l.jsx("div",{style:{width:"50px",height:"50px",border:"4px solid #E2E8F0",borderTopColor:"#01615F",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 20px"}}),l.jsx("p",{style:{color:"#718096",fontWeight:"500"},children:"Loading requests..."})]}),!o&&m&&l.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"60px",textAlign:"center",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:[l.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",backgroundColor:"#FEF2F2",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px",color:"#DC2626"},children:l.jsx(yn,{size:40})}),l.jsx("h3",{style:{margin:"0 0 10px",color:"#2D3748"},children:"Failed to Load Requests"}),l.jsx("p",{style:{color:"#718096",marginBottom:"20px"},children:m}),l.jsxs("button",{onClick:se,style:{padding:"10px 24px",backgroundColor:"#DC2626",border:"none",color:"white",borderRadius:"8px",fontWeight:"600",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"8px"},children:[l.jsx(Nn,{}),"Retry Loading"]})]}),!o&&!m&&n.length===0&&i.length===0&&l.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"60px",textAlign:"center",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:[l.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",backgroundColor:"#F7FAFC",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px",color:"#A0AEC0"},children:l.jsx(dg,{size:40})}),l.jsx("h3",{style:{margin:"0 0 10px",color:"#2D3748"},children:h||W!=="all"?"No matching requests found":"No requests found"}),l.jsx("p",{style:{color:"#718096",marginBottom:"20px"},children:h||W!=="all"?"Try a different search or filter":"No free food requests have been submitted yet"}),(h||W!=="all")&&l.jsx("button",{onClick:()=>{g(""),te("all")},style:{padding:"10px 24px",backgroundColor:"#01615F",border:"none",color:"white",borderRadius:"8px",fontWeight:"600",cursor:"pointer"},children:"Clear Filters"})]}),!o&&!m&&n.length>0&&l.jsx("div",{style:{backgroundColor:"white",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",overflow:"hidden"},children:l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"1000px"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{backgroundColor:"#F7FAFC",borderBottom:"2px solid #E2E8F0"},children:[l.jsx("th",{style:{padding:"16px 20px",textAlign:"left",fontWeight:"600",color:"#4A5568",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"User Info"}),l.jsx("th",{style:{padding:"16px 20px",textAlign:"left",fontWeight:"600",color:"#4A5568",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Request Details"}),l.jsx("th",{style:{padding:"16px 20px",textAlign:"left",fontWeight:"600",color:"#4A5568",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Status"}),l.jsx("th",{style:{padding:"16px 20px",textAlign:"left",fontWeight:"600",color:"#4A5568",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Date"}),l.jsx("th",{style:{padding:"16px 20px",textAlign:"left",fontWeight:"600",color:"#4A5568",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Actions"})]})}),l.jsx("tbody",{children:n.map((w,ve)=>{const xe=A(w.status);return l.jsxs("tr",{style:{borderBottom:"1px solid #EDF2F7",backgroundColor:ve%2===0?"white":"#F9FAFB",transition:"background-color 0.2s ease",cursor:"pointer"},onMouseOver:P=>P.currentTarget.style.backgroundColor="#F0FFF4",onMouseOut:P=>P.currentTarget.style.backgroundColor=ve%2===0?"white":"#F9FAFB",onClick:()=>S(w),children:[l.jsx("td",{style:{padding:"16px 20px"},children:l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px"},children:[l.jsx(dr,{size:16,color:"#718096"}),l.jsx("strong",{style:{color:"#2D3748"},children:w.userName||"Unknown"})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px",fontSize:"13px"},children:[l.jsx(uh,{size:14,color:"#718096"}),l.jsx("span",{style:{color:"#4A5568"},children:w.userEmail||"N/A"})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"13px"},children:[l.jsx(dh,{size:14,color:"#718096"}),l.jsx("span",{style:{color:"#4A5568"},children:U(w.userPhone)})]})]})}),l.jsx("td",{style:{padding:"16px 20px"},children:l.jsxs("div",{children:[w.address&&l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px",marginBottom:"8px"},children:[l.jsx(Ni,{size:16,color:"#718096",style:{flexShrink:0,marginTop:"2px"}}),l.jsx("span",{style:{color:"#4A5568",fontSize:"13px"},children:w.address})]}),w.reason&&l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px"},children:[l.jsx(vc,{size:16,color:"#718096",style:{flexShrink:0,marginTop:"2px"}}),l.jsx("span",{style:{color:"#4A5568",fontSize:"13px"},children:w.reason.length>50?`${w.reason.substring(0,50)}...`:w.reason})]})]})}),l.jsx("td",{style:{padding:"16px 20px"},children:l.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"6px 12px",backgroundColor:xe.bg,color:xe.text,borderRadius:"20px",fontSize:"13px",fontWeight:"600"},children:[xe.icon,z(w.status)]})}),l.jsx("td",{style:{padding:"16px 20px",fontSize:"13px",color:"#718096"},children:k(w.createdAt)}),l.jsxs("td",{style:{padding:"16px 20px"},children:[l.jsxs("div",{style:{display:"flex",gap:"8px"},children:[l.jsx("button",{onClick:P=>{P.stopPropagation(),S(w)},style:{background:"none",border:"none",color:"#01615F",cursor:"pointer",fontSize:"18px",padding:"4px",borderRadius:"4px",transition:"background-color 0.2s ease"},onMouseOver:P=>P.target.style.backgroundColor="#E6FFFA",onMouseOut:P=>P.target.style.backgroundColor="transparent",title:"View Details",children:l.jsx(el,{})}),l.jsx("button",{onClick:P=>{P.stopPropagation(),C(w)},style:{background:"none",border:"none",color:"#01615F",cursor:"pointer",fontSize:"18px",padding:"4px",borderRadius:"4px",transition:"background-color 0.2s ease"},onMouseOver:P=>P.target.style.backgroundColor="#E6FFFA",onMouseOut:P=>P.target.style.backgroundColor="transparent",title:"Edit",children:l.jsx(qi,{})}),l.jsx("button",{onClick:P=>{P.stopPropagation(),_e(w.id,w.userName)},style:{background:"none",border:"none",color:"#F56565",cursor:"pointer",fontSize:"18px",padding:"4px",borderRadius:"4px",transition:"background-color 0.2s ease"},onMouseOver:P=>P.target.style.backgroundColor="#FFF5F5",onMouseOut:P=>P.target.style.backgroundColor="transparent",title:"Delete",children:l.jsx(Zo,{})})]}),w.status==="pending"&&l.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"8px"},children:[l.jsx("button",{onClick:P=>{P.stopPropagation(),be(w.id,"approved")},style:{padding:"4px 12px",backgroundColor:"#10B981",color:"white",border:"none",borderRadius:"4px",fontSize:"12px",fontWeight:"600",cursor:"pointer",transition:"opacity 0.2s ease"},onMouseOver:P=>P.target.style.opacity="0.8",onMouseOut:P=>P.target.style.opacity="1",children:"Approve"}),l.jsx("button",{onClick:P=>{P.stopPropagation(),be(w.id,"rejected")},style:{padding:"4px 12px",backgroundColor:"#EF4444",color:"white",border:"none",borderRadius:"4px",fontSize:"12px",fontWeight:"600",cursor:"pointer",transition:"opacity 0.2s ease"},onMouseOver:P=>P.target.style.opacity="0.8",onMouseOut:P=>P.target.style.opacity="1",children:"Reject"})]})]})]},w.id)})})]})})}),v&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:l.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",width:"100%",maxWidth:"700px",maxHeight:"90vh",overflow:"auto",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:[l.jsxs("div",{style:{padding:"25px 30px",borderBottom:"1px solid #E2E8F0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("h3",{style:{margin:0,color:"#2D3748"},children:"Request Details"}),l.jsx("button",{onClick:()=>S(null),style:{background:"none",border:"none",color:"#718096",cursor:"pointer",fontSize:"24px",padding:"5px"},children:l.jsx(hi,{})})]}),l.jsxs("div",{style:{padding:"30px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[l.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"8px 16px",backgroundColor:A(v.status).bg,color:A(v.status).text,borderRadius:"20px",fontSize:"14px",fontWeight:"600"},children:[A(v.status).icon,z(v.status)]}),l.jsxs("div",{style:{fontSize:"14px",color:"#718096"},children:["Request ID: ",l.jsxs("strong",{children:[v.id.substring(0,8),"..."]})]})]}),l.jsxs("div",{style:{marginBottom:"30px"},children:[l.jsx("h4",{style:{margin:"0 0 15px",color:"#2D3748",fontSize:"18px"},children:"User Information"}),l.jsx("div",{style:{backgroundColor:"#F7FAFC",borderRadius:"8px",padding:"20px"},children:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px"},children:[l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:[l.jsx(dr,{color:"#01615F"}),l.jsx("strong",{style:{color:"#4A5568"},children:"Name:"})]}),l.jsx("p",{style:{margin:0,color:"#2D3748",fontSize:"15px"},children:v.userName||"N/A"})]}),l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:[l.jsx(uh,{color:"#01615F"}),l.jsx("strong",{style:{color:"#4A5568"},children:"Email:"})]}),l.jsx("p",{style:{margin:0,color:"#2D3748",fontSize:"15px"},children:v.userEmail||"N/A"})]}),l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:[l.jsx(dh,{color:"#01615F"}),l.jsx("strong",{style:{color:"#4A5568"},children:"Phone:"})]}),l.jsx("p",{style:{margin:0,color:"#2D3748",fontSize:"15px"},children:U(v.userPhone)})]})]})})]}),l.jsxs("div",{style:{marginBottom:"30px"},children:[l.jsx("h4",{style:{margin:"0 0 15px",color:"#2D3748",fontSize:"18px"},children:"Request Details"}),l.jsxs("div",{style:{backgroundColor:"#F7FAFC",borderRadius:"8px",padding:"20px"},children:[v.address&&l.jsxs("div",{style:{marginBottom:"15px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px"},children:[l.jsx(Ni,{color:"#01615F"}),l.jsx("strong",{style:{color:"#4A5568"},children:"Delivery Address:"})]}),l.jsx("p",{style:{margin:0,color:"#2D3748",fontSize:"15px"},children:v.address})]}),v.reason&&l.jsxs("div",{style:{marginBottom:"15px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px"},children:[l.jsx(vc,{color:"#01615F"}),l.jsx("strong",{style:{color:"#4A5568"},children:"Reason for Request:"})]}),l.jsx("p",{style:{margin:0,color:"#2D3748",fontSize:"15px",lineHeight:"1.6"},children:v.reason})]}),v.additionalInfo&&l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px"},children:[l.jsx(vc,{color:"#01615F"}),l.jsx("strong",{style:{color:"#4A5568"},children:"Additional Information:"})]}),l.jsx("p",{style:{margin:0,color:"#2D3748",fontSize:"15px",lineHeight:"1.6"},children:v.additionalInfo})]})]})]}),l.jsxs("div",{style:{marginBottom:"30px"},children:[l.jsx("h4",{style:{margin:"0 0 15px",color:"#2D3748",fontSize:"18px"},children:"Timestamps"}),l.jsxs("div",{style:{backgroundColor:"#F7FAFC",borderRadius:"8px",padding:"20px",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"15px"},children:[l.jsxs("div",{children:[l.jsx("strong",{style:{color:"#4A5568",fontSize:"14px"},children:"Created:"}),l.jsx("p",{style:{margin:"5px 0 0",color:"#2D3748",fontSize:"14px"},children:k(v.createdAt)})]}),v.updatedAt&&l.jsxs("div",{children:[l.jsx("strong",{style:{color:"#4A5568",fontSize:"14px"},children:"Last Updated:"}),l.jsx("p",{style:{margin:"5px 0 0",color:"#2D3748",fontSize:"14px"},children:k(v.updatedAt)})]}),v.resolvedAt&&l.jsxs("div",{children:[l.jsx("strong",{style:{color:"#4A5568",fontSize:"14px"},children:"Resolved:"}),l.jsx("p",{style:{margin:"5px 0 0",color:"#2D3748",fontSize:"14px"},children:k(v.resolvedAt)})]})]})]}),v.adminNotes&&l.jsxs("div",{style:{marginBottom:"30px"},children:[l.jsx("h4",{style:{margin:"0 0 15px",color:"#2D3748",fontSize:"18px"},children:"Admin Notes"}),l.jsx("div",{style:{backgroundColor:"#FFF7ED",borderRadius:"8px",padding:"20px",borderLeft:"4px solid #F59E0B"},children:l.jsx("p",{style:{margin:0,color:"#92400E",fontSize:"15px",lineHeight:"1.6"},children:v.adminNotes})})]}),l.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[l.jsxs("button",{onClick:()=>{C(v),S(null)},style:{padding:"10px 20px",backgroundColor:"#01615F",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(qi,{}),"Edit Request"]}),l.jsx("button",{onClick:()=>S(null),style:{padding:"10px 20px",backgroundColor:"transparent",border:"1px solid #E2E8F0",color:"#4A5568",borderRadius:"8px",fontWeight:"600",cursor:"pointer",fontSize:"14px"},children:"Close"})]})]})]})}),l.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})}function yI(){const[i,e]=ie.useState([]),[n,s]=ie.useState([]),[o,u]=ie.useState(!0),[h,g]=ie.useState(""),[m,x]=ie.useState(null),[v,S]=ie.useState(null),[D,O]=ie.useState(null),[W,te]=ie.useState("all"),[G,L]=ie.useState("all"),[$,ae]=ie.useState({status:"",priority:"",assignedTo:"",adminNotes:"",resolution:""}),[se,be]=ie.useState({total:0,pending:0,inProgress:0,resolved:0,closed:0,urgent:0,high:0,today:0}),[_e,I]=ie.useState([{id:"agent1",name:"John Doe",role:"Support Agent"},{id:"agent2",name:"Jane Smith",role:"Senior Agent"},{id:"agent3",name:"Bob Wilson",role:"Support Manager"},{id:"unassigned",name:"Unassigned",role:""}]),C=async()=>{try{u(!0),x(null);const E=$t(Ve,"helpRequests"),R=ui(E,Hs("createdAt","desc")),N=(await Mn(R)).docs.map(Xe=>{var Ke,Tt,Je;const jt=Xe.data();return{id:Xe.id,...jt,createdAt:(Ke=jt.createdAt)!=null&&Ke.toDate?jt.createdAt.toDate():jt.createdAt||new Date,updatedAt:(Tt=jt.updatedAt)!=null&&Tt.toDate?jt.updatedAt.toDate():jt.updatedAt||null,resolvedAt:(Je=jt.resolvedAt)!=null&&Je.toDate?jt.resolvedAt.toDate():jt.resolvedAt||null}});e(N),s(N);const q=new Date,J=new Date(q.getFullYear(),q.getMonth(),q.getDate()),pe=N.filter(Xe=>Xe.status==="pending").length,Be=N.filter(Xe=>Xe.status==="in-progress").length,st=N.filter(Xe=>Xe.status==="resolved").length,zt=N.filter(Xe=>Xe.status==="closed").length,at=N.filter(Xe=>Xe.priority==="urgent").length,Kn=N.filter(Xe=>Xe.priority==="high").length,$n=N.filter(Xe=>(Xe.createdAt instanceof Date?Xe.createdAt:new Date(Xe.createdAt))>=J).length;be({total:N.length,pending:pe,inProgress:Be,resolved:st,closed:zt,urgent:at,high:Kn,today:$n})}catch(E){console.error("Error fetching help requests:",E),x(`Failed to fetch requests: ${E.message}`)}finally{u(!1)}};ie.useEffect(()=>{C()},[]),ie.useEffect(()=>{let E=[...i];if(h.trim()){const R=h.toLowerCase();E=E.filter(H=>H.email&&H.email.toLowerCase().includes(R)||H.helpTopic&&H.helpTopic.toLowerCase().includes(R)||H.helpDescription&&H.helpDescription.toLowerCase().includes(R)||H.orderId&&H.orderId.toLowerCase().includes(R)||H.orderStatus&&H.orderStatus.toLowerCase().includes(R)||H.id&&H.id.toLowerCase().includes(R))}W!=="all"&&(E=E.filter(R=>R.status===W)),G!=="all"&&(E=E.filter(R=>R.priority===G)),s(E)},[h,W,G,i]);const A=async(E,R)=>{try{const H=Qt(Ve,"helpRequests",E),N={status:R,updatedAt:En(),resolvedAt:R==="resolved"||R==="closed"?En():null};await pr(H,N),alert(`Request marked as ${R} successfully!`),C()}catch(H){console.error("Error updating request:",H),alert(`Failed to update request: ${H.message}`)}},z=async(E,R)=>{try{const H=Qt(Ve,"helpRequests",E),N={assignedTo:R,status:"in-progress",updatedAt:En()};await pr(H,N),alert(`Request assigned to ${R} successfully!`),C()}catch(H){console.error("Error assigning request:",H),alert(`Failed to assign request: ${H.message}`)}},k=async(E,R)=>{if(window.confirm(`Are you sure you want to delete help request from "${R||"this user"}"?`))try{await Jo(Qt(Ve,"helpRequests",E)),alert("Request deleted successfully!"),C(),(v==null?void 0:v.id)===E&&S(null)}catch(H){console.error("Error deleting request:",H),alert(`Failed to delete request: ${H.message}`)}},U=async E=>{E.preventDefault();try{const R=Qt(Ve,"helpRequests",D),H={...$,updatedAt:En()};await pr(R,H),alert("Request updated successfully!"),O(null),ae({status:"",priority:"",assignedTo:"",adminNotes:"",resolution:""}),C()}catch(R){console.error("Error updating request:",R),alert(`Failed to update request: ${R.message}`)}},w=E=>{O(E.id),ae({status:E.status||"",priority:E.priority||"",assignedTo:E.assignedTo||"",adminNotes:E.adminNotes||"",resolution:E.resolution||""})},ve=E=>{switch(E){case"pending":return{bg:"#FEF3C7",text:"#92400E",icon:l.jsx(kc,{})};case"in-progress":return{bg:"#DBEAFE",text:"#1E40AF",icon:l.jsx(gr,{})};case"resolved":return{bg:"#D1FAE5",text:"#065F46",icon:l.jsx(On,{})};case"closed":return{bg:"#E5E7EB",text:"#374151",icon:l.jsx(On,{})};default:return{bg:"#E5E7EB",text:"#374151",icon:l.jsx(uc,{})}}},xe=E=>{switch(E){case"urgent":return{bg:"#FEE2E2",text:"#991B1B",icon:l.jsx(Co,{})};case"high":return{bg:"#FEF3C7",text:"#92400E",icon:l.jsx(Co,{})};case"medium":return{bg:"#DBEAFE",text:"#1E40AF",icon:l.jsx(Co,{})};case"low":return{bg:"#D1FAE5",text:"#065F46",icon:l.jsx(Co,{})};default:return{bg:"#E5E7EB",text:"#374151",icon:l.jsx(Co,{})}}},P=E=>{switch(E){case"pending":return"Pending";case"in-progress":return"In Progress";case"resolved":return"Resolved";case"closed":return"Closed";default:return"Unknown"}},he=E=>{switch(E){case"urgent":return"Urgent";case"high":return"High";case"medium":return"Medium";case"low":return"Low";default:return"Not Set"}},ye=E=>{if(!E)return"N/A";try{return(E instanceof Date?E:new Date(E)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid Date"}},re=E=>{if(!E)return"N/A";const H=E.replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return H?`(${H[1]}) ${H[2]}-${H[3]}`:E},F=(E,R=50)=>E?E.length>R?`${E.substring(0,R)}...`:E:"";return l.jsxs("div",{style:{padding:"0 10px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:30,padding:"20px 0"},children:[l.jsxs("div",{children:[l.jsxs("h1",{style:{margin:0,fontSize:"28px",fontWeight:"600",color:"#2D3748",display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx(uc,{style:{color:"#01615F"}}),"Help Requests"]}),l.jsx("p",{style:{margin:"8px 0 0",color:"#718096",fontSize:"14px"},children:"Manage customer support and assistance requests"})]}),l.jsxs("button",{onClick:C,style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",backgroundColor:"#01615F",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer",fontSize:"14px",transition:"all 0.2s ease"},onMouseOver:E=>E.target.style.backgroundColor="#028C89",onMouseOut:E=>E.target.style.backgroundColor="#01615F",children:[l.jsx(Nn,{}),"Refresh"]})]}),m&&l.jsxs("div",{style:{backgroundColor:"#FEF2F2",border:"1px solid #FECACA",borderRadius:"8px",padding:"15px",marginBottom:"20px",display:"flex",alignItems:"flex-start",gap:"12px"},children:[l.jsx(yn,{style:{color:"#DC2626",flexShrink:0,marginTop:"2px"}}),l.jsxs("div",{children:[l.jsx("strong",{style:{color:"#DC2626"},children:"Error:"}),l.jsx("p",{style:{margin:"4px 0 0",color:"#7F1D1D"},children:m}),l.jsx("button",{onClick:C,style:{marginTop:"8px",padding:"6px 12px",backgroundColor:"#DC2626",color:"white",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer"},children:"Retry"})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:30},children:[l.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",borderLeft:"4px solid #01615F"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:"#E6FFFA",display:"flex",alignItems:"center",justifyContent:"center",color:"#01615F"},children:l.jsx(uc,{size:20})}),l.jsxs("div",{children:[l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096",fontWeight:"600"},children:"Total Requests"}),l.jsx("p",{style:{margin:"4px 0 0",fontSize:"24px",fontWeight:"700",color:"#2D3748"},children:se.total})]})]})}),l.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",borderLeft:"4px solid #F59E0B"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:"#FEF3C7",display:"flex",alignItems:"center",justifyContent:"center",color:"#F59E0B"},children:l.jsx(kc,{size:20})}),l.jsxs("div",{children:[l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096",fontWeight:"600"},children:"Pending"}),l.jsx("p",{style:{margin:"4px 0 0",fontSize:"24px",fontWeight:"700",color:"#2D3748"},children:se.pending})]})]})}),l.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",borderLeft:"4px solid #3B82F6"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:"#DBEAFE",display:"flex",alignItems:"center",justifyContent:"center",color:"#3B82F6"},children:l.jsx(gr,{size:20})}),l.jsxs("div",{children:[l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096",fontWeight:"600"},children:"In Progress"}),l.jsx("p",{style:{margin:"4px 0 0",fontSize:"24px",fontWeight:"700",color:"#2D3748"},children:se.inProgress})]})]})}),l.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",borderLeft:"4px solid #10B981"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:"#D1FAE5",display:"flex",alignItems:"center",justifyContent:"center",color:"#10B981"},children:l.jsx(On,{size:20})}),l.jsxs("div",{children:[l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096",fontWeight:"600"},children:"Resolved"}),l.jsx("p",{style:{margin:"4px 0 0",fontSize:"24px",fontWeight:"700",color:"#2D3748"},children:se.resolved})]})]})})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"15px",marginBottom:30},children:[l.jsxs("div",{style:{backgroundColor:"white",padding:"15px",borderRadius:"10px",boxShadow:"0 1px 5px rgba(0,0,0,0.05)",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"#991B1B"}}),l.jsxs("div",{style:{flex:1},children:[l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096"},children:"Urgent Priority"}),l.jsx("p",{style:{margin:"2px 0 0",fontSize:"16px",fontWeight:"600",color:"#2D3748"},children:se.urgent})]})]}),l.jsxs("div",{style:{backgroundColor:"white",padding:"15px",borderRadius:"10px",boxShadow:"0 1px 5px rgba(0,0,0,0.05)",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"#92400E"}}),l.jsxs("div",{style:{flex:1},children:[l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096"},children:"High Priority"}),l.jsx("p",{style:{margin:"2px 0 0",fontSize:"16px",fontWeight:"600",color:"#2D3748"},children:se.high})]})]}),l.jsxs("div",{style:{backgroundColor:"white",padding:"15px",borderRadius:"10px",boxShadow:"0 1px 5px rgba(0,0,0,0.05)",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#DBEAFE",display:"flex",alignItems:"center",justifyContent:"center",color:"#1D4ED8"},children:l.jsx(gr,{size:20})}),l.jsxs("div",{style:{flex:1},children:[l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096"},children:"Today's Requests"}),l.jsx("p",{style:{margin:"2px 0 0",fontSize:"16px",fontWeight:"600",color:"#2D3748"},children:se.today})]})]})]}),l.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",marginBottom:20},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",flexWrap:"wrap"},children:[l.jsxs("div",{style:{position:"relative",flex:1,minWidth:"300px"},children:[l.jsx(Wi,{style:{position:"absolute",left:"15px",top:"50%",transform:"translateY(-50%)",color:"#A0AEC0"}}),l.jsx("input",{type:"text",placeholder:"Search by name, email, phone, subject, or message...",value:h,onChange:E=>g(E.target.value),style:{width:"100%",padding:"12px 20px 12px 45px",border:"1px solid #E2E8F0",borderRadius:"8px",fontSize:"14px",backgroundColor:"#F7FAFC",transition:"all 0.2s ease"},onFocus:E=>{E.target.style.borderColor="#01615F",E.target.style.backgroundColor="white"},onBlur:E=>{E.target.style.borderColor="#E2E8F0",E.target.style.backgroundColor="#F7FAFC"}})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx(Ph,{style:{color:"#718096"}}),l.jsxs("select",{value:W,onChange:E=>te(E.target.value),style:{padding:"10px 15px",border:"1px solid #E2E8F0",borderRadius:"8px",fontSize:"14px",backgroundColor:"white",color:"#4A5568",cursor:"pointer",minWidth:"120px"},children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"in-progress",children:"In Progress"}),l.jsx("option",{value:"resolved",children:"Resolved"}),l.jsx("option",{value:"closed",children:"Closed"})]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx(Co,{style:{color:"#718096"}}),l.jsxs("select",{value:G,onChange:E=>L(E.target.value),style:{padding:"10px 15px",border:"1px solid #E2E8F0",borderRadius:"8px",fontSize:"14px",backgroundColor:"white",color:"#4A5568",cursor:"pointer",minWidth:"120px"},children:[l.jsx("option",{value:"all",children:"All Priority"}),l.jsx("option",{value:"urgent",children:"Urgent"}),l.jsx("option",{value:"high",children:"High"}),l.jsx("option",{value:"medium",children:"Medium"}),l.jsx("option",{value:"low",children:"Low"})]})]}),l.jsxs("div",{style:{padding:"8px 16px",backgroundColor:"#EDF2F7",borderRadius:"6px",fontSize:"14px",color:"#4A5568",fontWeight:"500",whiteSpace:"nowrap"},children:["Showing ",n.length," of ",i.length]})]})}),D&&l.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",marginBottom:30},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:25},children:[l.jsx("h3",{style:{margin:0,color:"#2D3748"},children:"Update Help Request"}),l.jsx("button",{onClick:()=>{O(null),ae({status:"",priority:"",assignedTo:"",adminNotes:"",resolution:""})},style:{background:"none",border:"none",color:"#718096",cursor:"pointer",fontSize:"20px",padding:"5px"},children:l.jsx(hi,{})})]}),l.jsxs("form",{onSubmit:U,children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px",marginBottom:"25px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#4A5568"},children:"Status *"}),l.jsxs("select",{name:"status",value:$.status,onChange:E=>ae({...$,status:E.target.value}),required:!0,style:{width:"100%",padding:"12px 16px",border:"1px solid #E2E8F0",borderRadius:"8px",fontSize:"14px",backgroundColor:"#F7FAFC"},children:[l.jsx("option",{value:"",children:"Select Status"}),l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"in-progress",children:"In Progress"}),l.jsx("option",{value:"resolved",children:"Resolved"}),l.jsx("option",{value:"closed",children:"Closed"})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#4A5568"},children:"Priority *"}),l.jsxs("select",{name:"priority",value:$.priority,onChange:E=>ae({...$,priority:E.target.value}),required:!0,style:{width:"100%",padding:"12px 16px",border:"1px solid #E2E8F0",borderRadius:"8px",fontSize:"14px",backgroundColor:"#F7FAFC"},children:[l.jsx("option",{value:"",children:"Select Priority"}),l.jsx("option",{value:"urgent",children:"Urgent"}),l.jsx("option",{value:"high",children:"High"}),l.jsx("option",{value:"medium",children:"Medium"}),l.jsx("option",{value:"low",children:"Low"})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#4A5568"},children:"Assign To"}),l.jsxs("select",{name:"assignedTo",value:$.assignedTo,onChange:E=>ae({...$,assignedTo:E.target.value}),style:{width:"100%",padding:"12px 16px",border:"1px solid #E2E8F0",borderRadius:"8px",fontSize:"14px",backgroundColor:"#F7FAFC"},children:[l.jsx("option",{value:"",children:"Unassigned"}),_e.map(E=>l.jsxs("option",{value:E.name,children:[E.name," ",E.role?`(${E.role})`:""]},E.id))]})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#4A5568"},children:"Resolution Notes"}),l.jsx("textarea",{name:"resolution",value:$.resolution,onChange:E=>ae({...$,resolution:E.target.value}),rows:"3",style:{width:"100%",padding:"12px 16px",border:"1px solid #E2E8F0",borderRadius:"8px",fontSize:"14px",backgroundColor:"#F7FAFC",resize:"vertical",minHeight:"100px"},placeholder:"Describe how the issue was resolved..."})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#4A5568"},children:"Admin Notes"}),l.jsx("textarea",{name:"adminNotes",value:$.adminNotes,onChange:E=>ae({...$,adminNotes:E.target.value}),rows:"4",style:{width:"100%",padding:"12px 16px",border:"1px solid #E2E8F0",borderRadius:"8px",fontSize:"14px",backgroundColor:"#F7FAFC",resize:"vertical",minHeight:"120px"},placeholder:"Internal notes for the support team..."})]})]}),l.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[l.jsx("button",{type:"button",onClick:()=>{O(null),ae({status:"",priority:"",assignedTo:"",adminNotes:"",resolution:""})},style:{padding:"12px 24px",backgroundColor:"transparent",border:"1px solid #E2E8F0",color:"#4A5568",borderRadius:"8px",fontWeight:"600",cursor:"pointer",fontSize:"14px"},children:"Cancel"}),l.jsxs("button",{type:"submit",style:{padding:"12px 24px",backgroundColor:"#01615F",border:"none",color:"white",borderRadius:"8px",fontWeight:"600",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(On,{}),"Update Request"]})]})]})]}),o&&!m&&l.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"60px",textAlign:"center",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:[l.jsx("div",{style:{width:"50px",height:"50px",border:"4px solid #E2E8F0",borderTopColor:"#01615F",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 20px"}}),l.jsx("p",{style:{color:"#718096",fontWeight:"500"},children:"Loading help requests..."})]}),!o&&m&&l.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"60px",textAlign:"center",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:[l.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",backgroundColor:"#FEF2F2",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px",color:"#DC2626"},children:l.jsx(yn,{size:40})}),l.jsx("h3",{style:{margin:"0 0 10px",color:"#2D3748"},children:"Failed to Load Requests"}),l.jsx("p",{style:{color:"#718096",marginBottom:"20px"},children:m}),l.jsxs("button",{onClick:C,style:{padding:"10px 24px",backgroundColor:"#DC2626",border:"none",color:"white",borderRadius:"8px",fontWeight:"600",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"8px"},children:[l.jsx(Nn,{}),"Retry Loading"]})]}),!o&&!m&&n.length===0&&i.length===0&&l.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"60px",textAlign:"center",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:[l.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",backgroundColor:"#F7FAFC",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px",color:"#A0AEC0"},children:l.jsx(uc,{size:40})}),l.jsx("h3",{style:{margin:"0 0 10px",color:"#2D3748"},children:h||W!=="all"||G!=="all"?"No matching requests found":"No help requests found"}),l.jsx("p",{style:{color:"#718096",marginBottom:"20px"},children:h||W!=="all"||G!=="all"?"Try a different search or filter":"No help requests have been submitted yet"}),(h||W!=="all"||G!=="all")&&l.jsx("button",{onClick:()=>{g(""),te("all"),L("all")},style:{padding:"10px 24px",backgroundColor:"#01615F",border:"none",color:"white",borderRadius:"8px",fontWeight:"600",cursor:"pointer"},children:"Clear Filters"})]}),!o&&!m&&n.length>0&&l.jsx("div",{style:{backgroundColor:"white",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",overflow:"hidden"},children:l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"1200px"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{backgroundColor:"#F7FAFC",borderBottom:"2px solid #E2E8F0"},children:[l.jsx("th",{style:{padding:"16px 20px",textAlign:"left",fontWeight:"600",color:"#4A5568",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"User & Subject"}),l.jsx("th",{style:{padding:"16px 20px",textAlign:"left",fontWeight:"600",color:"#4A5568",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Message"}),l.jsx("th",{style:{padding:"16px 20px",textAlign:"left",fontWeight:"600",color:"#4A5568",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Status"}),l.jsx("th",{style:{padding:"16px 20px",textAlign:"left",fontWeight:"600",color:"#4A5568",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Priority"}),l.jsx("th",{style:{padding:"16px 20px",textAlign:"left",fontWeight:"600",color:"#4A5568",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Assigned To"}),l.jsx("th",{style:{padding:"16px 20px",textAlign:"left",fontWeight:"600",color:"#4A5568",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Date"}),l.jsx("th",{style:{padding:"16px 20px",textAlign:"left",fontWeight:"600",color:"#4A5568",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Actions"})]})}),l.jsx("tbody",{children:n.map((E,R)=>{const H=ve(E.status),N=xe(E.priority);return l.jsxs("tr",{style:{borderBottom:"1px solid #EDF2F7",backgroundColor:R%2===0?"white":"#F9FAFB",transition:"background-color 0.2s ease",cursor:"pointer"},onMouseOver:q=>q.currentTarget.style.backgroundColor="#F0FFF4",onMouseOut:q=>q.currentTarget.style.backgroundColor=R%2===0?"white":"#F9FAFB",onClick:()=>S(E),children:[l.jsx("td",{style:{padding:"16px 20px"},children:l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px"},children:[l.jsx(dr,{size:16,color:"#718096"}),l.jsx("strong",{style:{color:"#2D3748"},children:E.email||"Unknown User"})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px",fontSize:"13px"},children:[l.jsx(uh,{size:14,color:"#718096"}),l.jsx("span",{style:{color:"#4A5568"},children:E.orderId?`Order: ${E.orderId.substring(0,8)}...`:"N/A"})]}),E.helpTopic&&l.jsx("div",{style:{marginTop:"8px",padding:"4px 8px",backgroundColor:"#EDF2F7",borderRadius:"4px",fontSize:"13px",color:"#2D3748",fontWeight:"500"},children:F(E.helpTopic,40)}),E.orderStatus&&l.jsxs("div",{style:{marginTop:"6px",display:"flex",alignItems:"center",gap:"6px",fontSize:"12px",color:"#718096"},children:[l.jsx(bc,{size:12}),E.orderStatus]})]})}),l.jsx("td",{style:{padding:"16px 20px"},children:l.jsx("div",{style:{color:"#4A5568",fontSize:"13px",lineHeight:"1.4",maxHeight:"60px",overflow:"hidden"},children:E.helpDescription?l.jsxs(l.Fragment,{children:[l.jsx(vc,{size:14,color:"#718096",style:{float:"left",marginRight:"6px",marginTop:"2px"}}),F(E.helpDescription,120)]}):"No message provided"})}),l.jsx("td",{style:{padding:"16px 20px"},children:l.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"6px 12px",backgroundColor:H.bg,color:H.text,borderRadius:"20px",fontSize:"13px",fontWeight:"600"},children:[H.icon,P(E.status)]})}),l.jsx("td",{style:{padding:"16px 20px"},children:l.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"6px 12px",backgroundColor:N.bg,color:N.text,borderRadius:"20px",fontSize:"13px",fontWeight:"600"},children:[N.icon,he(E.priority)]})}),l.jsx("td",{style:{padding:"16px 20px",fontSize:"13px",color:"#4A5568"},children:E.assignedTo?l.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"4px 10px",backgroundColor:"#E0E7FF",color:"#3730A3",borderRadius:"4px",fontWeight:"500"},children:[l.jsx(b2,{size:12}),E.assignedTo]}):l.jsx("span",{style:{color:"#A0AEC0",fontStyle:"italic"},children:"Unassigned"})}),l.jsx("td",{style:{padding:"16px 20px",fontSize:"13px",color:"#718096"},children:ye(E.createdAt)}),l.jsxs("td",{style:{padding:"16px 20px"},children:[l.jsxs("div",{style:{display:"flex",gap:"8px"},children:[l.jsx("button",{onClick:q=>{q.stopPropagation(),S(E)},style:{background:"none",border:"none",color:"#01615F",cursor:"pointer",fontSize:"18px",padding:"4px",borderRadius:"4px",transition:"background-color 0.2s ease"},onMouseOver:q=>q.target.style.backgroundColor="#E6FFFA",onMouseOut:q=>q.target.style.backgroundColor="transparent",title:"View Details",children:l.jsx(el,{})}),l.jsx("button",{onClick:q=>{q.stopPropagation(),w(E)},style:{background:"none",border:"none",color:"#01615F",cursor:"pointer",fontSize:"18px",padding:"4px",borderRadius:"4px",transition:"background-color 0.2s ease"},onMouseOver:q=>q.target.style.backgroundColor="#E6FFFA",onMouseOut:q=>q.target.style.backgroundColor="transparent",title:"Edit",children:l.jsx(qi,{})}),l.jsx("button",{onClick:q=>{q.stopPropagation(),k(E.id,E.userName)},style:{background:"none",border:"none",color:"#F56565",cursor:"pointer",fontSize:"18px",padding:"4px",borderRadius:"4px",transition:"background-color 0.2s ease"},onMouseOver:q=>q.target.style.backgroundColor="#FFF5F5",onMouseOut:q=>q.target.style.backgroundColor="transparent",title:"Delete",children:l.jsx(Zo,{})})]}),E.status==="pending"&&l.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"8px",flexWrap:"wrap"},children:[l.jsx("button",{onClick:q=>{q.stopPropagation(),A(E.id,"in-progress")},style:{padding:"4px 10px",backgroundColor:"#3B82F6",color:"white",border:"none",borderRadius:"4px",fontSize:"12px",fontWeight:"600",cursor:"pointer",transition:"opacity 0.2s ease",flex:1},onMouseOver:q=>q.target.style.opacity="0.8",onMouseOut:q=>q.target.style.opacity="1",children:"Start"}),_e.slice(0,2).map(q=>l.jsx("button",{onClick:J=>{J.stopPropagation(),z(E.id,q.name)},style:{padding:"4px 8px",backgroundColor:"#E0E7FF",color:"#3730A3",border:"none",borderRadius:"4px",fontSize:"11px",fontWeight:"500",cursor:"pointer",transition:"opacity 0.2s ease"},onMouseOver:J=>J.target.style.opacity="0.8",onMouseOut:J=>J.target.style.opacity="1",children:q.name.split(" ")[0]},q.id))]})]})]},E.id)})})]})})}),v&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:l.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",width:"100%",maxWidth:"800px",maxHeight:"90vh",overflow:"auto",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:[l.jsxs("div",{style:{padding:"25px 30px",borderBottom:"1px solid #E2E8F0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("h3",{style:{margin:0,color:"#2D3748"},children:"Help Request Details"}),l.jsx("button",{onClick:()=>S(null),style:{background:"none",border:"none",color:"#718096",cursor:"pointer",fontSize:"24px",padding:"5px"},children:l.jsx(hi,{})})]}),l.jsxs("div",{style:{padding:"30px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px",flexWrap:"wrap",gap:"15px"},children:[l.jsxs("div",{style:{display:"flex",gap:"15px",flexWrap:"wrap"},children:[l.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"8px 16px",backgroundColor:ve(v.status).bg,color:ve(v.status).text,borderRadius:"20px",fontSize:"14px",fontWeight:"600"},children:[ve(v.status).icon,P(v.status)]}),l.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"8px 16px",backgroundColor:xe(v.priority).bg,color:xe(v.priority).text,borderRadius:"20px",fontSize:"14px",fontWeight:"600"},children:[xe(v.priority).icon,he(v.priority)," Priority"]})]}),l.jsxs("div",{style:{fontSize:"14px",color:"#718096"},children:["ID: ",l.jsxs("strong",{children:[v.id.substring(0,8),"..."]})]})]}),l.jsxs("div",{style:{marginBottom:"30px"},children:[l.jsxs("h4",{style:{margin:"0 0 15px",color:"#2D3748",fontSize:"18px"},children:[l.jsx(dr,{style:{marginRight:"8px",verticalAlign:"middle"}}),"User Information"]}),l.jsx("div",{style:{backgroundColor:"#F7FAFC",borderRadius:"8px",padding:"20px"},children:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:l.jsx("strong",{style:{color:"#4A5568"},children:"Name:"})}),l.jsx("p",{style:{margin:0,color:"#2D3748",fontSize:"15px"},children:v.userName||"N/A"})]}),l.jsxs("div",{children:[l.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:l.jsx("strong",{style:{color:"#4A5568"},children:"Email:"})}),l.jsx("p",{style:{margin:0,color:"#2D3748",fontSize:"15px"},children:v.userEmail||"N/A"})]}),l.jsxs("div",{children:[l.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:l.jsx("strong",{style:{color:"#4A5568"},children:"Phone:"})}),l.jsx("p",{style:{margin:0,color:"#2D3748",fontSize:"15px"},children:re(v.userPhone)})]}),v.category&&l.jsxs("div",{children:[l.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:l.jsx("strong",{style:{color:"#4A5568"},children:"Category:"})}),l.jsx("div",{style:{display:"inline-block",padding:"4px 12px",backgroundColor:"#EDE9FE",color:"#5B21B6",borderRadius:"20px",fontSize:"14px",fontWeight:"500"},children:v.category})]})]})})]}),l.jsxs("div",{style:{marginBottom:"30px"},children:[l.jsxs("h4",{style:{margin:"0 0 15px",color:"#2D3748",fontSize:"18px"},children:[l.jsx(ch,{style:{marginRight:"8px",verticalAlign:"middle"}}),"Request Details"]}),l.jsxs("div",{style:{backgroundColor:"#F7FAFC",borderRadius:"8px",padding:"20px"},children:[v.subject&&l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px"},children:l.jsx("strong",{style:{color:"#4A5568"},children:"Subject:"})}),l.jsx("p",{style:{margin:0,color:"#2D3748",fontSize:"16px",fontWeight:"500"},children:v.subject})]}),v.message&&l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px"},children:l.jsx("strong",{style:{color:"#4A5568"},children:"Message:"})}),l.jsx("div",{style:{backgroundColor:"white",borderRadius:"6px",padding:"15px",border:"1px solid #E2E8F0"},children:l.jsx("p",{style:{margin:0,color:"#2D3748",fontSize:"15px",lineHeight:"1.6"},children:v.message})})]}),v.assignedTo&&l.jsxs("div",{style:{marginTop:"20px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px"},children:[l.jsx(b2,{color:"#01615F"}),l.jsx("strong",{style:{color:"#4A5568"},children:"Assigned To:"})]}),l.jsx("div",{style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"8px 16px",backgroundColor:"#E0E7FF",color:"#3730A3",borderRadius:"20px",fontSize:"14px",fontWeight:"600"},children:v.assignedTo})]})]})]}),(v.resolution||v.adminNotes)&&l.jsxs("div",{style:{marginBottom:"30px"},children:[l.jsx("h4",{style:{margin:"0 0 15px",color:"#2D3748",fontSize:"18px"},children:"Resolution & Notes"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px"},children:[v.resolution&&l.jsx("div",{children:l.jsxs("div",{style:{backgroundColor:"#D1FAE5",borderRadius:"8px",padding:"20px",borderLeft:"4px solid #10B981"},children:[l.jsx("strong",{style:{color:"#065F46",fontSize:"14px",display:"block",marginBottom:"8px"},children:"Resolution:"}),l.jsx("p",{style:{margin:0,color:"#065F46",fontSize:"15px",lineHeight:"1.6"},children:v.resolution})]})}),v.adminNotes&&l.jsx("div",{children:l.jsxs("div",{style:{backgroundColor:"#FFF7ED",borderRadius:"8px",padding:"20px",borderLeft:"4px solid #F59E0B"},children:[l.jsx("strong",{style:{color:"#92400E",fontSize:"14px",display:"block",marginBottom:"8px"},children:"Admin Notes:"}),l.jsx("p",{style:{margin:0,color:"#92400E",fontSize:"15px",lineHeight:"1.6"},children:v.adminNotes})]})})]})]}),l.jsxs("div",{style:{marginBottom:"30px"},children:[l.jsx("h4",{style:{margin:"0 0 15px",color:"#2D3748",fontSize:"18px"},children:"Timestamps"}),l.jsxs("div",{style:{backgroundColor:"#F7FAFC",borderRadius:"8px",padding:"20px",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[l.jsxs("div",{children:[l.jsx("strong",{style:{color:"#4A5568",fontSize:"14px"},children:"Created:"}),l.jsx("p",{style:{margin:"5px 0 0",color:"#2D3748",fontSize:"14px"},children:ye(v.createdAt)})]}),v.updatedAt&&l.jsxs("div",{children:[l.jsx("strong",{style:{color:"#4A5568",fontSize:"14px"},children:"Last Updated:"}),l.jsx("p",{style:{margin:"5px 0 0",color:"#2D3748",fontSize:"14px"},children:ye(v.updatedAt)})]}),v.resolvedAt&&l.jsxs("div",{children:[l.jsx("strong",{style:{color:"#4A5568",fontSize:"14px"},children:"Resolved:"}),l.jsx("p",{style:{margin:"5px 0 0",color:"#2D3748",fontSize:"14px"},children:ye(v.resolvedAt)})]})]})]}),l.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[l.jsxs("button",{onClick:()=>{w(v),S(null)},style:{padding:"10px 20px",backgroundColor:"#01615F",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(qi,{}),"Edit Request"]}),l.jsx("button",{onClick:()=>S(null),style:{padding:"10px 20px",backgroundColor:"transparent",border:"1px solid #E2E8F0",color:"#4A5568",borderRadius:"8px",fontWeight:"600",cursor:"pointer",fontSize:"14px"},children:"Close"})]})]})]})}),l.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})}function xI(){const[i,e]=ie.useState([]),[n,s]=ie.useState([]),[o,u]=ie.useState(!0),[h,g]=ie.useState(""),[m,x]=ie.useState(null),[v,S]=ie.useState(null),[D,O]=ie.useState(null),[W,te]=ie.useState("all"),[G,L]=ie.useState("all"),[$,ae]=ie.useState("newest"),[se,be]=ie.useState({}),[_e,I]=ie.useState({status:"",trackingNumber:"",adminNotes:"",shippingAddress:"",paymentMethod:""}),[C,A]=ie.useState({total:0,totalRevenue:0,pending:0,processing:0,shipped:0,delivered:0,cancelled:0,todayRevenue:0,avgOrderValue:0}),z=async()=>{try{const R=$t(Ve,"users"),H=await Mn(R),N={};return H.forEach(q=>{const J=q.data();N[q.id]={id:q.id,name:J.name||J.displayName||J.username||"",email:J.email||"",phone:J.phone||J.phoneNumber||""}}),be(N),N}catch(R){return console.error("Error fetching users:",R),{}}},k=async()=>{try{u(!0),x(null);const R=await z(),H=$t(Ve,"orders_v2"),N=ui(H,Hs("createdAt","desc")),q=await Mn(N),J=[];q.forEach(Je=>{var Qs,Jt;const Re=Je.data(),Ze=Re.userId?R[Re.userId]:null;let zn=parseFloat(Re.priceafter)||parseFloat(Re.totalPrice)||parseFloat(Re.total)||parseFloat(Re.amount)||0;zn===0&&Re.items&&Array.isArray(Re.items)&&(zn=Re.items.reduce((pi,gi)=>{const Ks=parseFloat(gi.priceAfter)||parseFloat(gi.price)||0,Mr=parseInt(gi.quantity)||1;return pi+Ks*Mr},0),Re.paymentMethod==="Card"&&(zn+=40));const tl={id:Je.id,...Re,userName:(Ze==null?void 0:Ze.name)||Re.userName||Re.name||"Unknown User",userEmail:(Ze==null?void 0:Ze.email)||Re.userEmail||Re.email||"",userPhone:(Ze==null?void 0:Ze.phone)||Re.userPhone||Re.phone||"",totalPrice:zn,createdAt:(Qs=Re.createdAt)!=null&&Qs.toDate?Re.createdAt.toDate():Re.createdAt||new Date,updatedAt:(Jt=Re.updatedAt)!=null&&Jt.toDate?Re.updatedAt.toDate():Re.updatedAt||null,items:Re.items||Re.cartItems||[]};J.push(tl)}),e(J),s(J);const pe=new Date,Be=new Date(pe.getFullYear(),pe.getMonth(),pe.getDate()),st=new Date(pe.getFullYear(),pe.getMonth(),1),zt=J.filter(Je=>Je.status==="pending").length,at=J.filter(Je=>Je.status==="processing").length,Kn=J.filter(Je=>Je.status==="shipped").length,$n=J.filter(Je=>Je.status==="delivered").length,Xe=J.filter(Je=>Je.status==="cancelled").length,jt=J.reduce((Je,Re)=>Je+(Re.totalPrice||0),0),Ke=J.filter(Je=>(Je.createdAt instanceof Date?Je.createdAt:new Date(Je.createdAt))>=Be).reduce((Je,Re)=>Je+(Re.totalPrice||0),0),Tt=J.length>0?jt/J.length:0;A({total:J.length,totalRevenue:jt,pending:zt,processing:at,shipped:Kn,delivered:$n,cancelled:Xe,todayRevenue:Ke,avgOrderValue:Tt})}catch(R){console.error("Error fetching orders:",R),x(`Failed to fetch orders: ${R.message}`)}finally{u(!1)}};ie.useEffect(()=>{k()},[]),ie.useEffect(()=>{let R=[...i];if(h.trim()){const N=h.toLowerCase();R=R.filter(q=>q.userName&&q.userName.toLowerCase().includes(N)||q.userEmail&&q.userEmail.toLowerCase().includes(N)||q.id&&q.id.toLowerCase().includes(N)||q.trackingNumber&&q.trackingNumber.toLowerCase().includes(N)||q.userPhone&&q.userPhone.toString().toLowerCase().includes(N))}W!=="all"&&(R=R.filter(N=>N.status===W));const H=new Date;if(G==="today"){const N=new Date(H.getFullYear(),H.getMonth(),H.getDate());R=R.filter(q=>(q.createdAt instanceof Date?q.createdAt:new Date(q.createdAt))>=N)}else if(G==="week"){const N=new Date(H.getFullYear(),H.getMonth(),H.getDate()-H.getDay());R=R.filter(q=>(q.createdAt instanceof Date?q.createdAt:new Date(q.createdAt))>=N)}else if(G==="month"){const N=new Date(H.getFullYear(),H.getMonth(),1);R=R.filter(q=>(q.createdAt instanceof Date?q.createdAt:new Date(q.createdAt))>=N)}$==="newest"?R.sort((N,q)=>new Date(q.createdAt)-new Date(N.createdAt)):$==="oldest"?R.sort((N,q)=>new Date(N.createdAt)-new Date(q.createdAt)):$==="price-high"?R.sort((N,q)=>(q.totalPrice||0)-(N.totalPrice||0)):$==="price-low"&&R.sort((N,q)=>(N.totalPrice||0)-(q.totalPrice||0)),s(R)},[h,W,G,$,i]);const U=async(R,H)=>{try{const N=Qt(Ve,"orders_v2",R),q={status:H,updatedAt:En()};await pr(N,q),alert(`Order marked as ${H} successfully!`),k()}catch(N){console.error("Error updating order:",N),alert(`Failed to update order: ${N.message}`)}},w=async(R,H)=>{if(window.confirm(`Are you sure you want to delete order from "${H||"this user"}"?`))try{await Jo(Qt(Ve,"orders_v2",R)),alert("Order deleted successfully!"),k(),(v==null?void 0:v.id)===R&&S(null)}catch(N){console.error("Error deleting order:",N),alert(`Failed to delete order: ${N.message}`)}},ve=R=>{O(R.id),I({status:R.status||"",trackingNumber:R.trackingNumber||"",adminNotes:R.adminNotes||"",shippingAddress:R.shippingAddress||"",paymentMethod:R.paymentMethod||""})},xe=R=>{switch(R==null?void 0:R.toLowerCase()){case"pending":case"placed":return{bg:"#FEF3C7",text:"#92400E",icon:l.jsx(kc,{})};case"processing":case"accepted":case"preparing":return{bg:"#DBEAFE",text:"#1E40AF",icon:l.jsx(gr,{})};case"shipped":case"delivered":return{bg:"#E0E7FF",text:"#3730A3",icon:l.jsx(lI,{})};case"reached":case"completed":return{bg:"#D1FAE5",text:"#065F46",icon:l.jsx(On,{})};case"cancelled":return{bg:"#FEE2E2",text:"#991B1B",icon:l.jsx(yn,{})};default:return{bg:"#E5E7EB",text:"#374151",icon:l.jsx(gr,{})}}},P=R=>{switch(R==null?void 0:R.toLowerCase()){case"pending":case"placed":return"Pending";case"processing":case"accepted":case"preparing":return"Processing";case"shipped":return"Shipped";case"delivered":return"Delivered";case"reached":return"Reached";case"completed":return"Completed";case"cancelled":return"Cancelled";default:return R||"Unknown"}},he=R=>{const H=parseFloat(R)||0;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(H)},ye=R=>{if(!R)return"N/A";try{return(R instanceof Date?R:new Date(R)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid Date"}},re=R=>{if(!R)return"N/A";const N=R.toString().replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return N?`(${N[1]}) ${N[2]}-${N[3]}`:R.toString()},F=R=>!R||!Array.isArray(R)?0:R.length,E=()=>{if(!v)return null;const R=xe(v.status),H=v.items||v.cartItems||[];return l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)",padding:"20px"},onClick:()=>S(null),children:l.jsxs("div",{style:{backgroundColor:"white",borderRadius:"16px",width:"100%",maxWidth:"800px",maxHeight:"90vh",display:"flex",flexDirection:"column",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",overflow:"hidden"},onClick:N=>N.stopPropagation(),children:[l.jsxs("div",{style:{padding:"20px 24px",borderBottom:"1px solid #E2E8F0",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#F8FAFC"},children:[l.jsxs("div",{children:[l.jsx("h2",{style:{margin:0,fontSize:"20px",fontWeight:"700",color:"#1E293B"},children:"Order Details"}),l.jsxs("p",{style:{margin:"4px 0 0",fontSize:"14px",color:"#64748B"},children:["ID: #",v.id]})]}),l.jsx("button",{onClick:()=>S(null),style:{background:"none",border:"none",cursor:"pointer",color:"#64748B",width:"32px",height:"32px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color 0.2s"},onMouseOver:N=>N.currentTarget.style.backgroundColor="#F1F5F9",onMouseOut:N=>N.currentTarget.style.backgroundColor="transparent",children:l.jsx(hi,{size:24})})]}),l.jsxs("div",{style:{padding:"24px",overflowY:"auto",flex:1},children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"minmax(0, 1fr) minmax(0, 1fr)",gap:"24px",marginBottom:"24px"},children:[l.jsxs("div",{children:[l.jsxs("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px",color:"#1E293B"},children:[l.jsx(dr,{color:"#01615F"})," Customer Information"]}),l.jsxs("div",{style:{backgroundColor:"#F1F5F9",padding:"16px",borderRadius:"12px"},children:[l.jsxs("p",{style:{margin:"0 0 8px",fontSize:"14px"},children:[l.jsx("strong",{children:"Name:"})," ",v.userName||v.name]}),l.jsxs("p",{style:{margin:"0 0 8px",fontSize:"14px"},children:[l.jsx("strong",{children:"Email:"})," ",v.userEmail||v.email]}),l.jsxs("p",{style:{margin:"0 0 8px",fontSize:"14px"},children:[l.jsx("strong",{children:"Phone:"})," ",re(v.userPhone||v.phone)]}),l.jsxs("p",{style:{margin:"0 0 4px",fontSize:"11px",color:"#64748B",wordBreak:"break-all"},children:[l.jsx("strong",{children:"User ID:"})," ",v.userId]}),l.jsxs("p",{style:{margin:"0",fontSize:"11px",color:"#64748B",wordBreak:"break-all"},children:[l.jsx("strong",{children:"Restaurant ID:"})," ",v.restaurantId||"No ID"]})]})]}),l.jsxs("div",{children:[l.jsxs("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px",color:"#1E293B"},children:[l.jsx(m2,{color:"#01615F"})," Payment & Status"]}),l.jsxs("div",{style:{backgroundColor:"#F1F5F9",padding:"16px",borderRadius:"12px"},children:[l.jsxs("div",{style:{marginBottom:"12px"},children:[l.jsx("span",{style:{fontSize:"14px",marginRight:"8px"},children:l.jsx("strong",{children:"Status:"})}),l.jsx("span",{style:{padding:"4px 12px",backgroundColor:R.bg,color:R.text,borderRadius:"20px",fontSize:"12px",fontWeight:"700"},children:P(v.status)})]}),l.jsxs("p",{style:{margin:"0 0 8px",fontSize:"14px"},children:[l.jsx("strong",{children:"Method:"})," ",v.paymentMethod||"Cash"]}),l.jsxs("p",{style:{margin:"0 0 8px",fontSize:"14px"},children:[l.jsx("strong",{children:"Total:"})," ",l.jsx("span",{style:{color:"#01615F",fontWeight:"700"},children:he(v.totalPrice)})]}),l.jsxs("p",{style:{margin:"0",fontSize:"12px",color:"#64748B"},children:[l.jsx("strong",{children:"Created:"})," ",ye(v.createdAt)]})]})]})]}),l.jsxs("div",{style:{marginBottom:"24px"},children:[l.jsxs("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px",color:"#1E293B"},children:[l.jsx(Ni,{color:"#01615F"})," Delivery Address"]}),l.jsx("div",{style:{backgroundColor:"#F1F5F9",padding:"16px",borderRadius:"12px"},children:l.jsx("p",{style:{margin:0,fontSize:"14px",lineHeight:"1.5"},children:v.address||v.shippingAddress||"No address provided"})})]}),l.jsxs("div",{children:[l.jsxs("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px",color:"#1E293B"},children:[l.jsx(Oc,{color:"#01615F"})," Order Items (",H.length,")"]}),l.jsx("div",{style:{border:"1px solid #E2E8F0",borderRadius:"12px",overflow:"hidden"},children:H.map((N,q)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"12px 16px",borderBottom:q===H.length-1?"none":"1px solid #E2E8F0",backgroundColor:q%2===0?"white":"#F8FAFC"},children:[N.image&&l.jsx("img",{src:N.image,alt:N.name,style:{width:"45px",height:"45px",borderRadius:"8px",objectFit:"cover",marginRight:"16px"}}),l.jsxs("div",{style:{flex:1},children:[l.jsx("p",{style:{margin:0,fontSize:"14px",fontWeight:"600"},children:N.name||N.title}),l.jsxs("p",{style:{margin:"4px 0 0",fontSize:"12px",color:"#64748B"},children:["Quantity: ",N.quantity||1]})]}),l.jsxs("div",{style:{textAlign:"right"},children:[l.jsx("p",{style:{margin:0,fontSize:"14px",fontWeight:"700",color:"#01615F"},children:he((parseFloat(N.priceAfter)||parseFloat(N.price)||0)*(parseInt(N.quantity)||1))}),l.jsxs("p",{style:{margin:"4px 0 0",fontSize:"11px",color:"#64748B"},children:[he(N.priceAfter||N.price||0)," each"]})]})]},q))})]}),v.adminNotes&&l.jsxs("div",{style:{marginTop:"24px"},children:[l.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Admin Notes"}),l.jsx("div",{style:{backgroundColor:"#FFFBEB",border:"1px solid #FDE68A",padding:"16px",borderRadius:"12px",color:"#92400E",fontSize:"14px"},children:v.adminNotes})]})]}),l.jsxs("div",{style:{padding:"20px 24px",borderTop:"1px solid #E2E8F0",backgroundColor:"#F8FAFC",display:"flex",justifyContent:"flex-end",gap:"12px"},children:[l.jsxs("button",{onClick:()=>ve(v),style:{padding:"10px 20px",backgroundColor:"white",border:"1px solid #E2E8F0",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(qi,{})," Edit Status"]}),l.jsx("button",{onClick:()=>S(null),style:{padding:"10px 20px",backgroundColor:"#01615F",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"Close"})]})]})})};return ie.useEffect(()=>{i.length>0&&(console.log("Orders data:",i),console.log("First order details:",i[0]),console.log("Users data:",se))},[i]),l.jsxs("div",{style:{padding:"0 10px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:30,padding:"20px 0"},children:[l.jsxs("div",{children:[l.jsxs("h1",{style:{margin:0,fontSize:"28px",fontWeight:"600",color:"#2D3748",display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx(xc,{style:{color:"#01615F"}}),"Orders Management"]}),l.jsx("p",{style:{margin:"8px 0 0",color:"#718096",fontSize:"14px"},children:"Manage and track all customer orders"})]}),l.jsxs("button",{onClick:k,style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",backgroundColor:"#01615F",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer",fontSize:"14px",transition:"all 0.2s ease"},onMouseOver:R=>R.target.style.backgroundColor="#028C89",onMouseOut:R=>R.target.style.backgroundColor="#01615F",children:[l.jsx(Nn,{}),"Refresh"]})]}),l.jsx("button",{onClick:()=>{console.log("Orders:",i),console.log("Users Data:",se),alert(`Loaded ${i.length} orders. Check console for details.`)},style:{padding:"8px 16px",backgroundColor:"#4F46E5",color:"white",border:"none",borderRadius:"6px",fontSize:"12px",marginBottom:"20px",cursor:"pointer"},children:"Debug Data"}),m&&l.jsxs("div",{style:{backgroundColor:"#FEF2F2",border:"1px solid #FECACA",borderRadius:"8px",padding:"15px",marginBottom:"20px",display:"flex",alignItems:"flex-start",gap:"12px"},children:[l.jsx(yn,{style:{color:"#DC2626",flexShrink:0,marginTop:"2px"}}),l.jsxs("div",{children:[l.jsx("strong",{style:{color:"#DC2626"},children:"Error:"}),l.jsx("p",{style:{margin:"4px 0 0",color:"#7F1D1D"},children:m}),l.jsx("button",{onClick:k,style:{marginTop:"8px",padding:"6px 12px",backgroundColor:"#DC2626",color:"white",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer"},children:"Retry"})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:30},children:[l.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",borderLeft:"4px solid #01615F"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:"#E6FFFA",display:"flex",alignItems:"center",justifyContent:"center",color:"#01615F"},children:l.jsx(xc,{size:20})}),l.jsxs("div",{children:[l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096",fontWeight:"600"},children:"Total Orders"}),l.jsx("p",{style:{margin:"4px 0 0",fontSize:"24px",fontWeight:"700",color:"#2D3748"},children:C.total})]})]})}),l.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",borderLeft:"4px solid #10B981"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:"#D1FAE5",display:"flex",alignItems:"center",justifyContent:"center",color:"#10B981"},children:l.jsx(x2,{size:20})}),l.jsxs("div",{children:[l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096",fontWeight:"600"},children:"Total Revenue"}),l.jsx("p",{style:{margin:"4px 0 0",fontSize:"24px",fontWeight:"700",color:"#2D3748"},children:he(C.totalRevenue)})]})]})}),l.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",borderLeft:"4px solid #F59E0B"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:"#FEF3C7",display:"flex",alignItems:"center",justifyContent:"center",color:"#F59E0B"},children:l.jsx(x2,{size:20})}),l.jsxs("div",{children:[l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096",fontWeight:"600"},children:"Today's Revenue"}),l.jsx("p",{style:{margin:"4px 0 0",fontSize:"24px",fontWeight:"700",color:"#2D3748"},children:he(C.todayRevenue)})]})]})}),l.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",borderLeft:"4px solid #8B5CF6"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:"#EDE9FE",display:"flex",alignItems:"center",justifyContent:"center",color:"#8B5CF6"},children:l.jsx(iI,{size:20})}),l.jsxs("div",{children:[l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096",fontWeight:"600"},children:"Avg. Order Value"}),l.jsx("p",{style:{margin:"4px 0 0",fontSize:"24px",fontWeight:"700",color:"#2D3748"},children:he(C.avgOrderValue)})]})]})})]}),l.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",marginBottom:20},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",flexWrap:"wrap"},children:[l.jsxs("div",{style:{position:"relative",flex:1,minWidth:"300px"},children:[l.jsx(Wi,{style:{position:"absolute",left:"15px",top:"50%",transform:"translateY(-50%)",color:"#A0AEC0"}}),l.jsx("input",{type:"text",placeholder:"Search orders by user name, email, phone, or order ID...",value:h,onChange:R=>g(R.target.value),style:{width:"100%",padding:"12px 20px 12px 45px",border:"1px solid #E2E8F0",borderRadius:"8px",fontSize:"14px",backgroundColor:"#F7FAFC",transition:"all 0.2s ease"},onFocus:R=>{R.target.style.borderColor="#01615F",R.target.style.backgroundColor="white"},onBlur:R=>{R.target.style.borderColor="#E2E8F0",R.target.style.backgroundColor="#F7FAFC"}})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx(Ph,{style:{color:"#718096"}}),l.jsxs("select",{value:W,onChange:R=>te(R.target.value),style:{padding:"10px 15px",border:"1px solid #E2E8F0",borderRadius:"8px",fontSize:"14px",backgroundColor:"white",color:"#4A5568",cursor:"pointer",minWidth:"120px"},children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"processing",children:"Processing"}),l.jsx("option",{value:"shipped",children:"Shipped"}),l.jsx("option",{value:"delivered",children:"Delivered"}),l.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx(gr,{style:{color:"#718096"}}),l.jsxs("select",{value:G,onChange:R=>L(R.target.value),style:{padding:"10px 15px",border:"1px solid #E2E8F0",borderRadius:"8px",fontSize:"14px",backgroundColor:"white",color:"#4A5568",cursor:"pointer",minWidth:"100px"},children:[l.jsx("option",{value:"all",children:"All Time"}),l.jsx("option",{value:"today",children:"Today"}),l.jsx("option",{value:"week",children:"This Week"}),l.jsx("option",{value:"month",children:"This Month"})]})]}),l.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:l.jsxs("select",{value:$,onChange:R=>ae(R.target.value),style:{padding:"10px 15px",border:"1px solid #E2E8F0",borderRadius:"8px",fontSize:"14px",backgroundColor:"white",color:"#4A5568",cursor:"pointer",minWidth:"140px"},children:[l.jsx("option",{value:"newest",children:"Newest First"}),l.jsx("option",{value:"oldest",children:"Oldest First"}),l.jsx("option",{value:"price-high",children:"Price: High to Low"}),l.jsx("option",{value:"price-low",children:"Price: Low to High"})]})}),l.jsxs("div",{style:{padding:"8px 16px",backgroundColor:"#EDF2F7",borderRadius:"6px",fontSize:"14px",color:"#4A5568",fontWeight:"500",whiteSpace:"nowrap"},children:["Showing ",n.length," of ",i.length]})]})}),o&&!m&&l.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"60px",textAlign:"center",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:[l.jsx("div",{style:{width:"50px",height:"50px",border:"4px solid #E2E8F0",borderTopColor:"#01615F",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 20px"}}),l.jsx("p",{style:{color:"#718096",fontWeight:"500"},children:"Loading orders..."})]}),!o&&m&&l.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"60px",textAlign:"center",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:[l.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",backgroundColor:"#FEF2F2",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px",color:"#DC2626"},children:l.jsx(yn,{size:40})}),l.jsx("h3",{style:{margin:"0 0 10px",color:"#2D3748"},children:"Failed to Load Orders"}),l.jsx("p",{style:{color:"#718096",marginBottom:"20px"},children:m}),l.jsxs("button",{onClick:k,style:{padding:"10px 24px",backgroundColor:"#DC2626",border:"none",color:"white",borderRadius:"8px",fontWeight:"600",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"8px"},children:[l.jsx(Nn,{}),"Retry Loading"]})]}),!o&&!m&&n.length===0&&i.length===0&&l.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"60px",textAlign:"center",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:[l.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",backgroundColor:"#F7FAFC",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px",color:"#A0AEC0"},children:l.jsx(xc,{size:40})}),l.jsx("h3",{style:{margin:"0 0 10px",color:"#2D3748"},children:h||W!=="all"||G!=="all"?"No matching orders found":"No orders found"}),l.jsx("p",{style:{color:"#718096",marginBottom:"20px"},children:h||W!=="all"||G!=="all"?"Try a different search or filter":"No orders have been placed yet"}),(h||W!=="all"||G!=="all")&&l.jsx("button",{onClick:()=>{g(""),te("all"),L("all"),ae("newest")},style:{padding:"10px 24px",backgroundColor:"#01615F",border:"none",color:"white",borderRadius:"8px",fontWeight:"600",cursor:"pointer"},children:"Clear Filters"})]}),!o&&!m&&n.length>0&&l.jsx("div",{style:{backgroundColor:"white",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",overflow:"hidden"},children:l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"1200px"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{backgroundColor:"#F7FAFC",borderBottom:"2px solid #E2E8F0"},children:[l.jsx("th",{style:{padding:"16px 20px",textAlign:"left",fontWeight:"600",color:"#4A5568",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Order & Customer"}),l.jsx("th",{style:{padding:"16px 20px",textAlign:"left",fontWeight:"600",color:"#4A5568",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Items"}),l.jsx("th",{style:{padding:"16px 20px",textAlign:"left",fontWeight:"600",color:"#4A5568",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Payment & Total"}),l.jsx("th",{style:{padding:"16px 20px",textAlign:"left",fontWeight:"600",color:"#4A5568",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Status"}),l.jsx("th",{style:{padding:"16px 20px",textAlign:"left",fontWeight:"600",color:"#4A5568",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Date"}),l.jsx("th",{style:{padding:"16px 20px",textAlign:"left",fontWeight:"600",color:"#4A5568",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Actions"})]})}),l.jsx("tbody",{children:n.map((R,H)=>{const N=xe(R.status),q=R.totalPrice||0,J=R.items||[];return l.jsxs("tr",{style:{borderBottom:"1px solid #EDF2F7",backgroundColor:H%2===0?"white":"#F9FAFB",transition:"background-color 0.2s ease",cursor:"pointer"},onMouseOver:pe=>pe.currentTarget.style.backgroundColor="#F0FFF4",onMouseOut:pe=>pe.currentTarget.style.backgroundColor=H%2===0?"white":"#F9FAFB",onClick:()=>S(R),children:[l.jsx("td",{style:{padding:"16px 20px"},children:l.jsxs("div",{children:[l.jsx("div",{style:{marginBottom:"8px"},children:l.jsxs("div",{style:{padding:"4px 8px",backgroundColor:"#EDF2F7",borderRadius:"4px",fontSize:"12px",color:"#4A5568",fontWeight:"600",display:"inline-block",marginBottom:"6px"},children:["#",R.id.substring(0,8),"..."]})}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px"},children:[l.jsx(dr,{size:16,color:"#718096"}),l.jsx("strong",{style:{color:"#2D3748",fontSize:"14px"},children:R.userName})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px",fontSize:"13px"},children:[l.jsx(uh,{size:14,color:"#718096"}),l.jsx("span",{style:{color:"#4A5568"},children:R.userEmail||"No email"})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"13px"},children:[l.jsx(dh,{size:14,color:"#718096"}),l.jsx("span",{style:{color:"#4A5568"},children:re(R.userPhone)})]}),R.userId&&l.jsxs("div",{style:{marginTop:"6px",fontSize:"11px",color:"#718096",backgroundColor:"#EDF2F7",padding:"2px 6px",borderRadius:"3px",display:"inline-block"},children:["User ID: ",R.userId.substring(0,8),"..."]})]})}),l.jsx("td",{style:{padding:"16px 20px"},children:l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[l.jsx(Oc,{size:16,color:"#718096"}),l.jsxs("span",{style:{color:"#4A5568",fontSize:"14px",fontWeight:"500"},children:[F(J)," items"]})]}),J.length>0&&l.jsxs("div",{style:{backgroundColor:"#F7FAFC",borderRadius:"6px",padding:"8px",fontSize:"12px",color:"#4A5568"},children:[l.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:"Items:"}),J.slice(0,2).map((pe,Be)=>l.jsxs("div",{style:{marginBottom:"2px"},children:[" ",pe.name||pe.title||`Item ${Be+1}`," ",pe.quantity?`(x${pe.quantity})`:""]},Be)),J.length>2&&l.jsxs("div",{style:{color:"#718096",fontStyle:"italic",marginTop:"4px"},children:["+",J.length-2," more items"]})]})]})}),l.jsx("td",{style:{padding:"16px 20px"},children:l.jsxs("div",{children:[l.jsxs("div",{style:{marginBottom:"10px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px"},children:[l.jsx(m2,{size:16,color:"#718096"}),l.jsx("span",{style:{color:"#4A5568",fontSize:"13px"},children:R.paymentMethod||"Not specified"})]}),R.paymentStatus&&l.jsx("div",{style:{display:"inline-block",padding:"4px 10px",backgroundColor:R.paymentStatus==="paid"?"#D1FAE5":"#FEF3C7",color:R.paymentStatus==="paid"?"#065F46":"#92400E",borderRadius:"4px",fontSize:"12px",fontWeight:"600"},children:R.paymentStatus==="paid"?"Paid":"Pending"})]}),l.jsx("div",{style:{fontSize:"18px",fontWeight:"700",color:"#01615F",marginTop:"8px"},children:he(q)}),R.priceafter&&l.jsxs("div",{style:{fontSize:"12px",color:"#718096",marginTop:"4px"},children:["Price: ",he(R.priceafter)]})]})}),l.jsxs("td",{style:{padding:"16px 20px"},children:[l.jsxs("select",{value:R.status,onChange:pe=>{pe.stopPropagation(),U(R.id,pe.target.value)},onClick:pe=>pe.stopPropagation(),style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"8px 12px",backgroundColor:N.bg,color:N.text,borderRadius:"20px",fontSize:"13px",fontWeight:"600",border:"none",cursor:"pointer",appearance:"none",WebkitAppearance:"none",textAlign:"center"},children:[l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"placed",children:"Placed"}),l.jsx("option",{value:"processing",children:"Processing"}),l.jsx("option",{value:"accepted",children:"Accepted"}),l.jsx("option",{value:"preparing",children:"Preparing"}),l.jsx("option",{value:"ready",children:"Ready"}),l.jsx("option",{value:"on_the_way",children:"On the Way"}),l.jsx("option",{value:"shipped",children:"Shipped"}),l.jsx("option",{value:"delivered",children:"Delivered"}),l.jsx("option",{value:"reached",children:"Reached"}),l.jsx("option",{value:"completed",children:"Completed"}),l.jsx("option",{value:"cancelled",children:"Cancelled"}),l.jsx("option",{value:"refused",children:"Refused"})]}),R.trackingNumber&&l.jsxs("div",{style:{marginTop:"8px",fontSize:"12px",color:"#4A5568",backgroundColor:"#EDF2F7",padding:"4px 8px",borderRadius:"4px"},children:[" ",R.trackingNumber.substring(0,12),"..."]})]}),l.jsx("td",{style:{padding:"16px 20px",fontSize:"13px",color:"#718096"},children:ye(R.createdAt)}),l.jsx("td",{style:{padding:"16px 20px"},children:l.jsxs("div",{style:{display:"flex",gap:"8px"},children:[l.jsx("button",{onClick:pe=>{pe.stopPropagation(),S(R)},style:{background:"none",border:"none",color:"#01615F",cursor:"pointer",fontSize:"18px",padding:"4px",borderRadius:"4px",transition:"background-color 0.2s ease"},onMouseOver:pe=>pe.target.style.backgroundColor="#E6FFFA",onMouseOut:pe=>pe.target.style.backgroundColor="transparent",title:"View Details",children:l.jsx(el,{})}),l.jsx("button",{onClick:pe=>{pe.stopPropagation(),ve(R)},style:{background:"none",border:"none",color:"#01615F",cursor:"pointer",fontSize:"18px",padding:"4px",borderRadius:"4px",transition:"background-color 0.2s ease"},onMouseOver:pe=>pe.target.style.backgroundColor="#E6FFFA",onMouseOut:pe=>pe.target.style.backgroundColor="transparent",title:"Edit",children:l.jsx(qi,{})}),l.jsx("button",{onClick:pe=>{pe.stopPropagation(),w(R.id,R.userName)},style:{background:"none",border:"none",color:"#F56565",cursor:"pointer",fontSize:"18px",padding:"4px",borderRadius:"4px",transition:"background-color 0.2s ease"},onMouseOver:pe=>pe.target.style.backgroundColor="#FFF5F5",onMouseOut:pe=>pe.target.style.backgroundColor="transparent",title:"Delete",children:l.jsx(Zo,{})})]})})]},R.id)})})]})})}),E(),l.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})}function vI(){const[i,e]=ie.useState([]),[n,s]=ie.useState([]),[o,u]=ie.useState(!0),[h,g]=ie.useState(""),[m,x]=ie.useState(null),[v,S]=ie.useState(null),[D,O]=ie.useState(null),[W,te]=ie.useState("all"),[G,L]=ie.useState("all"),[$,ae]=ie.useState("all"),[se,be]=ie.useState({name:"",email:"",phone:"",address:"",type:"",status:"",emailVerified:!1,phoneVerified:!1,restaurantName:"",restaurantType:"",cuisineType:"",deliveryFee:"",minOrder:"",adminNotes:""}),[_e,I]=ie.useState({total:0,clients:0,restaurants:0,admins:0,active:0,inactive:0,blocked:0,verified:0,todayRegistered:0,totalOrders:0,totalRevenue:0}),C=async()=>{try{u(!0),x(null);const F=$t(Ve,"users"),E=ui(F,Hs("createdAt","desc")),H=(await Mn(E)).docs.map(Ke=>{var Je,Re,Ze;const Tt=Ke.data();return{id:Ke.id,...Tt,createdAt:(Je=Tt.createdAt)!=null&&Je.toDate?Tt.createdAt.toDate():Tt.createdAt||new Date,updatedAt:(Re=Tt.updatedAt)!=null&&Re.toDate?Tt.updatedAt.toDate():Tt.updatedAt||null,lastLogin:(Ze=Tt.lastLogin)!=null&&Ze.toDate?Tt.lastLogin.toDate():Tt.lastLogin||null}});e(H),s(H);const N=new Date,q=new Date(N.getFullYear(),N.getMonth(),N.getDate()),J=H.filter(Ke=>Ke.type==="client").length,pe=H.filter(Ke=>Ke.type==="restaurant").length,Be=H.filter(Ke=>Ke.type==="admin").length,st=H.filter(Ke=>Ke.status==="active").length,zt=H.filter(Ke=>Ke.status==="inactive").length,at=H.filter(Ke=>Ke.status==="blocked").length,Kn=H.filter(Ke=>Ke.emailVerified===!0||Ke.phoneVerified===!0).length,$n=H.filter(Ke=>(Ke.createdAt instanceof Date?Ke.createdAt:new Date(Ke.createdAt))>=q).length;I({total:H.length,clients:J,restaurants:pe,admins:Be,active:st,inactive:zt,blocked:at,verified:Kn,todayRegistered:$n,totalOrders:0,totalRevenue:0})}catch(F){console.error("Error fetching users:",F),x(`Failed to fetch users: ${F.message}`)}finally{u(!1)}};ie.useEffect(()=>{C()},[]),ie.useEffect(()=>{let F=[...i];if(h.trim()){const E=h.toLowerCase();F=F.filter(R=>R.name&&R.name.toLowerCase().includes(E)||R.email&&R.email.toLowerCase().includes(E)||R.phone&&R.phone.includes(h)||R.address&&R.address.toLowerCase().includes(E)||R.restaurantName&&R.restaurantName.toLowerCase().includes(E)||R.id&&R.id.toLowerCase().includes(E))}W!=="all"&&(F=F.filter(E=>E.status===W)),G!=="all"&&(F=F.filter(E=>E.type===G)),$==="clients"?F=F.filter(E=>E.type==="client"):$==="restaurants"&&(F=F.filter(E=>E.type==="restaurant")),s(F)},[h,W,G,$,i]);const A=async(F,E)=>{try{const R=Qt(Ve,"users",F),H={status:E,updatedAt:En()};await pr(R,H),alert(`User status updated to ${E} successfully!`),C()}catch(R){console.error("Error updating user:",R),alert(`Failed to update user: ${R.message}`)}},z=async(F,E)=>{if(window.confirm(`Are you sure you want to delete "${E||"this user"}"? This action cannot be undone.`))try{await Jo(Qt(Ve,"users",F)),alert("User deleted successfully!"),C(),(v==null?void 0:v.id)===F&&S(null)}catch(R){console.error("Error deleting user:",R),alert(`Failed to delete user: ${R.message}`)}},k=async F=>{F.preventDefault();try{const E=Qt(Ve,"users",D),R={...se,updatedAt:En()};await pr(E,R),alert("User updated successfully!"),O(null),w(),C()}catch(E){console.error("Error updating user:",E),alert(`Failed to update user: ${E.message}`)}},U=F=>{O(F.id),be({name:F.name||"",email:F.email||"",phone:F.phone||"",address:F.address||"",type:F.type||"",status:F.status||"",emailVerified:F.emailVerified||!1,phoneVerified:F.phoneVerified||!1,restaurantName:F.restaurantName||"",restaurantType:F.restaurantType||"",cuisineType:F.cuisineType||"",deliveryFee:F.deliveryFee||"",minOrder:F.minOrder||"",adminNotes:F.adminNotes||""})},w=()=>{be({name:"",email:"",phone:"",address:"",type:"",status:"",emailVerified:!1,phoneVerified:!1,restaurantName:"",restaurantType:"",cuisineType:"",deliveryFee:"",minOrder:"",adminNotes:""})},ve=F=>{switch(F){case"client":return{bg:"#DBEAFE",text:"#1E40AF",icon:l.jsx(dr,{})};case"restaurant":return{bg:"#D1FAE5",text:"#065F46",icon:l.jsx(hg,{})};case"admin":return{bg:"#FEF3C7",text:"#92400E",icon:l.jsx(uE,{})};default:return{bg:"#E5E7EB",text:"#374151",icon:l.jsx(dr,{})}}},xe=F=>{switch(F){case"active":return{bg:"#D1FAE5",text:"#065F46",icon:l.jsx(On,{})};case"inactive":return{bg:"#FEE2E2",text:"#991B1B",icon:l.jsx(yn,{})};case"blocked":return{bg:"#FEF3C7",text:"#92400E",icon:l.jsx(sI,{})};default:return{bg:"#E5E7EB",text:"#374151",icon:l.jsx(gr,{})}}},P=F=>{switch(F){case"client":return"Client";case"restaurant":return"Restaurant";case"admin":return"Admin";default:return"Unknown"}},he=F=>{switch(F){case"active":return"Active";case"inactive":return"Inactive";case"blocked":return"Blocked";default:return"Unknown"}},ye=F=>{if(!F)return"N/A";try{return(F instanceof Date?F:new Date(F)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid Date"}},re=F=>{if(!F)return"N/A";const R=F.replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return R?`(${R[1]}) ${R[2]}-${R[3]}`:F};return l.jsxs("div",{style:{padding:"0 10px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:30,padding:"20px 0"},children:[l.jsxs("div",{children:[l.jsxs("h1",{style:{margin:0,fontSize:"28px",fontWeight:"600",color:"#2D3748",display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx(Do,{style:{color:"#01615F"}}),"Users Management"]}),l.jsx("p",{style:{margin:"8px 0 0",color:"#718096",fontSize:"14px"},children:"Manage all users including clients, restaurants, and admins"})]}),l.jsxs("button",{onClick:C,style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",backgroundColor:"#01615F",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer",fontSize:"14px",transition:"all 0.2s ease"},onMouseOver:F=>F.target.style.backgroundColor="#028C89",onMouseOut:F=>F.target.style.backgroundColor="#01615F",children:[l.jsx(Nn,{}),"Refresh"]})]}),m&&l.jsxs("div",{style:{backgroundColor:"#FEF2F2",border:"1px solid #FECACA",borderRadius:"8px",padding:"15px",marginBottom:"20px",display:"flex",alignItems:"flex-start",gap:"12px"},children:[l.jsx(yn,{style:{color:"#DC2626",flexShrink:0,marginTop:"2px"}}),l.jsxs("div",{children:[l.jsx("strong",{style:{color:"#DC2626"},children:"Error:"}),l.jsx("p",{style:{margin:"4px 0 0",color:"#7F1D1D"},children:m}),l.jsx("button",{onClick:C,style:{marginTop:"8px",padding:"6px 12px",backgroundColor:"#DC2626",color:"white",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer"},children:"Retry"})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:30},children:[l.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",borderLeft:"4px solid #01615F"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:"#E6FFFA",display:"flex",alignItems:"center",justifyContent:"center",color:"#01615F"},children:l.jsx(Do,{size:20})}),l.jsxs("div",{children:[l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096",fontWeight:"600"},children:"Total Users"}),l.jsx("p",{style:{margin:"4px 0 0",fontSize:"24px",fontWeight:"700",color:"#2D3748"},children:_e.total})]})]})}),l.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",borderLeft:"4px solid #3B82F6"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:"#DBEAFE",display:"flex",alignItems:"center",justifyContent:"center",color:"#3B82F6"},children:l.jsx(dr,{size:20})}),l.jsxs("div",{children:[l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096",fontWeight:"600"},children:"Clients"}),l.jsx("p",{style:{margin:"4px 0 0",fontSize:"24px",fontWeight:"700",color:"#2D3748"},children:_e.clients})]})]})}),l.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",borderLeft:"4px solid #10B981"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:"#D1FAE5",display:"flex",alignItems:"center",justifyContent:"center",color:"#10B981"},children:l.jsx(hg,{size:20})}),l.jsxs("div",{children:[l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096",fontWeight:"600"},children:"Restaurants"}),l.jsx("p",{style:{margin:"4px 0 0",fontSize:"24px",fontWeight:"700",color:"#2D3748"},children:_e.restaurants})]})]})}),l.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",borderLeft:"4px solid #F59E0B"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:"#FEF3C7",display:"flex",alignItems:"center",justifyContent:"center",color:"#F59E0B"},children:l.jsx(cg,{size:20})}),l.jsxs("div",{children:[l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096",fontWeight:"600"},children:"Verified"}),l.jsx("p",{style:{margin:"4px 0 0",fontSize:"24px",fontWeight:"700",color:"#2D3748"},children:_e.verified})]})]})})]}),l.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"20px",marginBottom:"20px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},children:[l.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"20px",borderBottom:"1px solid #E2E8F0",paddingBottom:"10px"},children:[l.jsxs("button",{onClick:()=>ae("all"),style:{padding:"10px 20px",backgroundColor:$==="all"?"#01615F":"transparent",color:$==="all"?"white":"#4A5568",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer",fontSize:"14px",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(Do,{}),"All Users (",_e.total,")"]}),l.jsxs("button",{onClick:()=>ae("clients"),style:{padding:"10px 20px",backgroundColor:$==="clients"?"#3B82F6":"transparent",color:$==="clients"?"white":"#4A5568",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer",fontSize:"14px",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(dr,{}),"Clients (",_e.clients,")"]}),l.jsxs("button",{onClick:()=>ae("restaurants"),style:{padding:"10px 20px",backgroundColor:$==="restaurants"?"#10B981":"transparent",color:$==="restaurants"?"white":"#4A5568",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer",fontSize:"14px",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(hg,{}),"Restaurants (",_e.restaurants,")"]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",flexWrap:"wrap"},children:[l.jsxs("div",{style:{position:"relative",flex:1,minWidth:"300px"},children:[l.jsx(Wi,{style:{position:"absolute",left:"15px",top:"50%",transform:"translateY(-50%)",color:"#A0AEC0"}}),l.jsx("input",{type:"text",placeholder:"Search users by name, email, phone, or restaurant name...",value:h,onChange:F=>g(F.target.value),style:{width:"100%",padding:"12px 20px 12px 45px",border:"1px solid #E2E8F0",borderRadius:"8px",fontSize:"14px",backgroundColor:"#F7FAFC",transition:"all 0.2s ease"},onFocus:F=>{F.target.style.borderColor="#01615F",F.target.style.backgroundColor="white"},onBlur:F=>{F.target.style.borderColor="#E2E8F0",F.target.style.backgroundColor="#F7FAFC"}})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx(Ph,{style:{color:"#718096"}}),l.jsxs("select",{value:W,onChange:F=>te(F.target.value),style:{padding:"10px 15px",border:"1px solid #E2E8F0",borderRadius:"8px",fontSize:"14px",backgroundColor:"white",color:"#4A5568",cursor:"pointer",minWidth:"120px"},children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"inactive",children:"Inactive"}),l.jsx("option",{value:"blocked",children:"Blocked"})]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx(Do,{style:{color:"#718096"}}),l.jsxs("select",{value:G,onChange:F=>L(F.target.value),style:{padding:"10px 15px",border:"1px solid #E2E8F0",borderRadius:"8px",fontSize:"14px",backgroundColor:"white",color:"#4A5568",cursor:"pointer",minWidth:"120px"},children:[l.jsx("option",{value:"all",children:"All Types"}),l.jsx("option",{value:"client",children:"Client"}),l.jsx("option",{value:"restaurant",children:"Restaurant"}),l.jsx("option",{value:"admin",children:"Admin"})]})]}),l.jsxs("div",{style:{padding:"8px 16px",backgroundColor:"#EDF2F7",borderRadius:"6px",fontSize:"14px",color:"#4A5568",fontWeight:"500",whiteSpace:"nowrap"},children:["Showing ",n.length," of ",i.length]})]})]}),$==="clients"&&l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"15px",marginBottom:20},children:[l.jsxs("div",{style:{backgroundColor:"white",padding:"15px",borderRadius:"10px",boxShadow:"0 1px 5px rgba(0,0,0,0.05)",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"#10B981"}}),l.jsxs("div",{style:{flex:1},children:[l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096"},children:"Active Clients"}),l.jsx("p",{style:{margin:"2px 0 0",fontSize:"16px",fontWeight:"600",color:"#2D3748"},children:i.filter(F=>F.type==="client"&&F.status==="active").length})]})]}),l.jsxs("div",{style:{backgroundColor:"white",padding:"15px",borderRadius:"10px",boxShadow:"0 1px 5px rgba(0,0,0,0.05)",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"#EF4444"}}),l.jsxs("div",{style:{flex:1},children:[l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096"},children:"Blocked Clients"}),l.jsx("p",{style:{margin:"2px 0 0",fontSize:"16px",fontWeight:"600",color:"#2D3748"},children:i.filter(F=>F.type==="client"&&F.status==="blocked").length})]})]})]}),$==="restaurants"&&l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"15px",marginBottom:20},children:[l.jsxs("div",{style:{backgroundColor:"white",padding:"15px",borderRadius:"10px",boxShadow:"0 1px 5px rgba(0,0,0,0.05)",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"#10B981"}}),l.jsxs("div",{style:{flex:1},children:[l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096"},children:"Active Restaurants"}),l.jsx("p",{style:{margin:"2px 0 0",fontSize:"16px",fontWeight:"600",color:"#2D3748"},children:i.filter(F=>F.type==="restaurant"&&F.status==="active").length})]})]}),l.jsxs("div",{style:{backgroundColor:"white",padding:"15px",borderRadius:"10px",boxShadow:"0 1px 5px rgba(0,0,0,0.05)",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"#F59E0B"}}),l.jsxs("div",{style:{flex:1},children:[l.jsx("p",{style:{margin:0,fontSize:"12px",color:"#718096"},children:"Pending Restaurants"}),l.jsx("p",{style:{margin:"2px 0 0",fontSize:"16px",fontWeight:"600",color:"#2D3748"},children:i.filter(F=>F.type==="restaurant"&&F.status==="pending").length})]})]})]}),D&&l.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",marginBottom:30},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:25},children:[l.jsx("h3",{style:{margin:0,color:"#2D3748"},children:"Update User Details"}),l.jsx("button",{onClick:()=>{O(null),w()},style:{background:"none",border:"none",color:"#718096",cursor:"pointer",fontSize:"20px",padding:"5px"},children:l.jsx(hi,{})})]}),l.jsxs("form",{onSubmit:k,children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px",marginBottom:"25px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#4A5568"},children:"Name *"}),l.jsx("input",{type:"text",name:"name",value:se.name,onChange:F=>be({...se,name:F.target.value}),required:!0,style:{width:"100%",padding:"12px 16px",border:"1px solid #E2E8F0",borderRadius:"8px",fontSize:"14px",backgroundColor:"#F7FAFC"},placeholder:"Enter user name"})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#4A5568"},children:"Email *"}),l.jsx("input",{type:"email",name:"email",value:se.email,onChange:F=>be({...se,email:F.target.value}),required:!0,style:{width:"100%",padding:"12px 16px",border:"1px solid #E2E8F0",borderRadius:"8px",fontSize:"14px",backgroundColor:"#F7FAFC"},placeholder:"Enter email address"})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#4A5568"},children:"User Type *"}),l.jsxs("select",{name:"type",value:se.type,onChange:F=>be({...se,type:F.target.value}),required:!0,style:{width:"100%",padding:"12px 16px",border:"1px solid #E2E8F0",borderRadius:"8px",fontSize:"14px",backgroundColor:"#F7FAFC"},children:[l.jsx("option",{value:"",children:"Select Type"}),l.jsx("option",{value:"client",children:"Client"}),l.jsx("option",{value:"restaurant",children:"Restaurant"}),l.jsx("option",{value:"admin",children:"Admin"})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#4A5568"},children:"Status *"}),l.jsxs("select",{name:"status",value:se.status,onChange:F=>be({...se,status:F.target.value}),required:!0,style:{width:"100%",padding:"12px 16px",border:"1px solid #E2E8F0",borderRadius:"8px",fontSize:"14px",backgroundColor:"#F7FAFC"},children:[l.jsx("option",{value:"",children:"Select Status"}),l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"inactive",children:"Inactive"}),l.jsx("option",{value:"blocked",children:"Blocked"}),l.jsx("option",{value:"pending",children:"Pending"})]})]}),se.type==="restaurant"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#4A5568"},children:"Restaurant Name"}),l.jsx("input",{type:"text",name:"restaurantName",value:se.restaurantName,onChange:F=>be({...se,restaurantName:F.target.value}),style:{width:"100%",padding:"12px 16px",border:"1px solid #E2E8F0",borderRadius:"8px",fontSize:"14px",backgroundColor:"#F7FAFC"},placeholder:"Enter restaurant name"})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#4A5568"},children:"Restaurant Type"}),l.jsx("input",{type:"text",name:"restaurantType",value:se.restaurantType,onChange:F=>be({...se,restaurantType:F.target.value}),style:{width:"100%",padding:"12px 16px",border:"1px solid #E2E8F0",borderRadius:"8px",fontSize:"14px",backgroundColor:"#F7FAFC"},placeholder:"e.g., Fast Food, Fine Dining"})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#4A5568"},children:"Cuisine Type"}),l.jsx("input",{type:"text",name:"cuisineType",value:se.cuisineType,onChange:F=>be({...se,cuisineType:F.target.value}),style:{width:"100%",padding:"12px 16px",border:"1px solid #E2E8F0",borderRadius:"8px",fontSize:"14px",backgroundColor:"#F7FAFC"},placeholder:"e.g., Italian, Chinese, Mexican"})]})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#4A5568"},children:"Admin Notes"}),l.jsx("textarea",{name:"adminNotes",value:se.adminNotes,onChange:F=>be({...se,adminNotes:F.target.value}),rows:"4",style:{width:"100%",padding:"12px 16px",border:"1px solid #E2E8F0",borderRadius:"8px",fontSize:"14px",backgroundColor:"#F7FAFC",resize:"vertical",minHeight:"120px"},placeholder:"Internal notes about this user..."})]})]}),l.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[l.jsx("button",{type:"button",onClick:()=>{O(null),w()},style:{padding:"12px 24px",backgroundColor:"transparent",border:"1px solid #E2E8F0",color:"#4A5568",borderRadius:"8px",fontWeight:"600",cursor:"pointer",fontSize:"14px"},children:"Cancel"}),l.jsxs("button",{type:"submit",style:{padding:"12px 24px",backgroundColor:"#01615F",border:"none",color:"white",borderRadius:"8px",fontWeight:"600",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(On,{}),"Update User"]})]})]})]}),o&&!m&&l.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"60px",textAlign:"center",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:[l.jsx("div",{style:{width:"50px",height:"50px",border:"4px solid #E2E8F0",borderTopColor:"#01615F",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 20px"}}),l.jsx("p",{style:{color:"#718096",fontWeight:"500"},children:"Loading users..."})]}),!o&&m&&l.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"60px",textAlign:"center",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:[l.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",backgroundColor:"#FEF2F2",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px",color:"#DC2626"},children:l.jsx(yn,{size:40})}),l.jsx("h3",{style:{margin:"0 0 10px",color:"#2D3748"},children:"Failed to Load Users"}),l.jsx("p",{style:{color:"#718096",marginBottom:"20px"},children:m}),l.jsxs("button",{onClick:C,style:{padding:"10px 24px",backgroundColor:"#DC2626",border:"none",color:"white",borderRadius:"8px",fontWeight:"600",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"8px"},children:[l.jsx(Nn,{}),"Retry Loading"]})]}),!o&&!m&&n.length===0&&i.length===0&&l.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"60px",textAlign:"center",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:[l.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",backgroundColor:"#F7FAFC",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px",color:"#A0AEC0"},children:l.jsx(Do,{size:40})}),l.jsx("h3",{style:{margin:"0 0 10px",color:"#2D3748"},children:h||W!=="all"||G!=="all"||$!=="all"?"No matching users found":"No users found"}),l.jsx("p",{style:{color:"#718096",marginBottom:"20px"},children:h||W!=="all"||G!=="all"||$!=="all"?"Try a different search or filter":"No users have been registered yet"}),(h||W!=="all"||G!=="all"||$!=="all")&&l.jsx("button",{onClick:()=>{g(""),te("all"),L("all"),ae("all")},style:{padding:"10px 24px",backgroundColor:"#01615F",border:"none",color:"white",borderRadius:"8px",fontWeight:"600",cursor:"pointer"},children:"Clear Filters"})]}),!o&&!m&&n.length>0&&l.jsx("div",{style:{backgroundColor:"white",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",overflow:"hidden"},children:l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"1200px"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{backgroundColor:"#F7FAFC",borderBottom:"2px solid #E2E8F0"},children:[l.jsx("th",{style:{padding:"16px 20px",textAlign:"left",fontWeight:"600",color:"#4A5568",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"User Info"}),l.jsx("th",{style:{padding:"16px 20px",textAlign:"left",fontWeight:"600",color:"#4A5568",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Type & Status"}),l.jsx("th",{style:{padding:"16px 20px",textAlign:"left",fontWeight:"600",color:"#4A5568",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Contact Details"}),l.jsx("th",{style:{padding:"16px 20px",textAlign:"left",fontWeight:"600",color:"#4A5568",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Restaurant Info"}),l.jsx("th",{style:{padding:"16px 20px",textAlign:"left",fontWeight:"600",color:"#4A5568",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Registration Date"}),l.jsx("th",{style:{padding:"16px 20px",textAlign:"left",fontWeight:"600",color:"#4A5568",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Actions"})]})}),l.jsx("tbody",{children:n.map((F,E)=>{var N,q;const R=ve(F.type),H=xe(F.status);return l.jsxs("tr",{style:{borderBottom:"1px solid #EDF2F7",backgroundColor:E%2===0?"white":"#F9FAFB",transition:"background-color 0.2s ease",cursor:"pointer"},onMouseOver:J=>J.currentTarget.style.backgroundColor="#F0FFF4",onMouseOut:J=>J.currentTarget.style.backgroundColor=E%2===0?"white":"#F9FAFB",onClick:()=>S(F),children:[l.jsx("td",{style:{padding:"16px 20px"},children:l.jsxs("div",{children:[l.jsxs("div",{style:{padding:"4px 8px",backgroundColor:"#EDF2F7",borderRadius:"4px",fontSize:"12px",color:"#4A5568",fontWeight:"600",display:"inline-block",marginBottom:"8px"},children:["#",F.id.substring(0,8),"..."]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:R.bg,display:"flex",alignItems:"center",justifyContent:"center",color:R.text,fontWeight:"bold",fontSize:"16px"},children:((q=(N=F.name)==null?void 0:N.charAt(0))==null?void 0:q.toUpperCase())||R.icon}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#2D3748",marginBottom:"2px"},children:F.name||"Unnamed User"}),l.jsx("div",{style:{fontSize:"13px",color:"#718096"},children:F.email||"No email"})]})]})]})}),l.jsx("td",{style:{padding:"16px 20px"},children:l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[l.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"6px 12px",backgroundColor:R.bg,color:R.text,borderRadius:"20px",fontSize:"13px",fontWeight:"600",width:"fit-content"},children:[R.icon,P(F.type)]}),l.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"6px 12px",backgroundColor:H.bg,color:H.text,borderRadius:"20px",fontSize:"13px",fontWeight:"600",width:"fit-content"},children:[H.icon,he(F.status)]}),l.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"5px"},children:[F.emailVerified&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"12px",color:"#10B981"},children:[l.jsx(cg,{size:14}),"Email"]}),F.phoneVerified&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"12px",color:"#10B981"},children:[l.jsx(cg,{size:14}),"Phone"]})]})]})}),l.jsx("td",{style:{padding:"16px 20px",fontSize:"13px",color:"#4A5568"},children:l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[l.jsx(dh,{size:14,color:"#718096"}),l.jsx("span",{children:re(F.phone)})]}),F.address&&l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px"},children:[l.jsx(Ni,{size:14,color:"#718096",style:{flexShrink:0,marginTop:"2px"}}),l.jsx("span",{children:F.address.length>30?`${F.address.substring(0,30)}...`:F.address})]})]})}),l.jsx("td",{style:{padding:"16px 20px"},children:F.type==="restaurant"?l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:"600",color:"#2D3748",marginBottom:"6px"},children:F.restaurantName||"Unnamed Restaurant"}),F.restaurantType&&l.jsx("div",{style:{display:"inline-block",padding:"4px 10px",backgroundColor:"#EDE9FE",color:"#5B21B6",borderRadius:"4px",fontSize:"12px",fontWeight:"500",marginBottom:"6px"},children:F.restaurantType}),F.cuisineType&&l.jsx("div",{style:{fontSize:"12px",color:"#718096"},children:F.cuisineType})]}):l.jsx("div",{style:{color:"#A0AEC0",fontStyle:"italic"},children:"Not a restaurant"})}),l.jsxs("td",{style:{padding:"16px 20px",fontSize:"13px",color:"#718096"},children:[ye(F.createdAt),F.lastLogin&&l.jsxs("div",{style:{marginTop:"6px",fontSize:"12px",color:"#4A5568"},children:["Last login: ",ye(F.lastLogin)]})]}),l.jsxs("td",{style:{padding:"16px 20px"},children:[l.jsxs("div",{style:{display:"flex",gap:"8px"},children:[l.jsx("button",{onClick:J=>{J.stopPropagation(),S(F)},style:{background:"none",border:"none",color:"#01615F",cursor:"pointer",fontSize:"18px",padding:"4px",borderRadius:"4px",transition:"background-color 0.2s ease"},onMouseOver:J=>J.target.style.backgroundColor="#E6FFFA",onMouseOut:J=>J.target.style.backgroundColor="transparent",title:"View Details",children:l.jsx(el,{})}),l.jsx("button",{onClick:J=>{J.stopPropagation(),U(F)},style:{background:"none",border:"none",color:"#01615F",cursor:"pointer",fontSize:"18px",padding:"4px",borderRadius:"4px",transition:"background-color 0.2s ease"},onMouseOver:J=>J.target.style.backgroundColor="#E6FFFA",onMouseOut:J=>J.target.style.backgroundColor="transparent",title:"Edit",children:l.jsx(qi,{})}),l.jsx("button",{onClick:J=>{J.stopPropagation(),z(F.id,F.name||F.restaurantName)},style:{background:"none",border:"none",color:"#F56565",cursor:"pointer",fontSize:"18px",padding:"4px",borderRadius:"4px",transition:"background-color 0.2s ease"},onMouseOver:J=>J.target.style.backgroundColor="#FFF5F5",onMouseOut:J=>J.target.style.backgroundColor="transparent",title:"Delete",children:l.jsx(Zo,{})})]}),l.jsxs("div",{style:{display:"flex",gap:"6px",marginTop:"10px",flexWrap:"wrap"},children:[F.status==="active"&&l.jsx("button",{onClick:J=>{J.stopPropagation(),A(F.id,"blocked")},style:{padding:"4px 10px",backgroundColor:"#FEF3C7",color:"#92400E",border:"none",borderRadius:"4px",fontSize:"11px",fontWeight:"600",cursor:"pointer",transition:"opacity 0.2s ease"},onMouseOver:J=>J.target.style.opacity="0.8",onMouseOut:J=>J.target.style.opacity="1",children:"Block"}),F.status==="blocked"&&l.jsx("button",{onClick:J=>{J.stopPropagation(),A(F.id,"active")},style:{padding:"4px 10px",backgroundColor:"#D1FAE5",color:"#065F46",border:"none",borderRadius:"4px",fontSize:"11px",fontWeight:"600",cursor:"pointer",transition:"opacity 0.2s ease"},onMouseOver:J=>J.target.style.opacity="0.8",onMouseOut:J=>J.target.style.opacity="1",children:"Unblock"}),F.status==="inactive"&&l.jsx("button",{onClick:J=>{J.stopPropagation(),A(F.id,"active")},style:{padding:"4px 10px",backgroundColor:"#3B82F6",color:"white",border:"none",borderRadius:"4px",fontSize:"11px",fontWeight:"600",cursor:"pointer",transition:"opacity 0.2s ease"},onMouseOver:J=>J.target.style.opacity="0.8",onMouseOut:J=>J.target.style.opacity="1",children:"Activate"})]})]})]},F.id)})})]})})}),l.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})}const Pe={primary:"#01615F",accent:"#10B981",red:"#EF4444",grayLight:"#F7FAFC",grayMedium:"#E2E8F0",grayDark:"#4A5568",grayDarker:"#2D3748"};function bI(){var ae,se,be,_e;const[i,e]=ie.useState([]),[n,s]=ie.useState(null),[o,u]=ie.useState([]),[h,g]=ie.useState(""),[m,x]=ie.useState(!0),[v,S]=ie.useState(""),[D,O]=ie.useState({}),W=ie.useRef(null),te=()=>{var I;(I=W.current)==null||I.scrollIntoView({behavior:"smooth"})};ie.useEffect(()=>{te()},[o]),ie.useEffect(()=>{const I=ui($t(Ve,"chatStatus"),Hs("createdAt","desc")),C=r2(I,async A=>{const z=A.docs.map(U=>({id:U.id,...U.data()}));e(z),x(!1);const k=[...new Set(z.map(U=>U.orderId))].filter(U=>!!U);if(k.length>0){const U={};for(const w of k)if(!D[w]){const ve=await c5(Qt(Ve,"orders_v2",w));ve.exists()&&(U[w]=ve.data())}O(w=>({...w,...U}))}});return()=>C()},[]),ie.useEffect(()=>{if(!n){u([]);return}const I=$t(Ve,"chats",n.id,"messages"),C=ui(I,Hs("timestamp","asc")),A=r2(C,z=>{const k=z.docs.map(U=>({id:U.id,...U.data()}));u(k)});return()=>A()},[n]);const G=async I=>{if(I.preventDefault(),!(!h.trim()||!n))try{const C=$t(Ve,"chats",n.id,"messages");await ih(C,{text:h,senderId:"admin",timestamp:new Date().toISOString(),isCustomer:!1});const A=Qt(Ve,"chatStatus",n.id);await pr(A,{lastMessageAt:new Date().toISOString(),lastMessageSender:"admin"}),g("")}catch(C){console.error("Error sending message:",C),alert("Failed to send message")}},L=async(I,C=!1)=>{if(!(!C&&!window.confirm("Are you sure you want to end this chat?")))try{const A=Qt(Ve,"chatStatus",I);await pr(A,{status:"ended",endedAt:new Date().toISOString(),closedReason:C?"timeout":"manual"});const z=$t(Ve,"chats",I,"messages");await ih(z,{text:C?"Chat ended automatically due to 5 minutes of inactivity":"Chat ended by admin",senderId:"system",timestamp:new Date().toISOString(),isSystem:!0}),(n==null?void 0:n.id)===I&&s(k=>k?{...k,status:"ended"}:null)}catch(A){console.error("Error ending chat:",A),C||alert("Failed to end chat")}};ie.useEffect(()=>{const C=setInterval(()=>{const A=new Date,z=300*1e3;i.forEach(k=>{if(k.status==="active"&&k.lastMessageAt){const U=new Date(k.lastMessageAt);A-U>z&&(console.log(`Auto-closing chat ${k.id} due to inactivity`),L(k.id,!0))}})},3e4);return()=>clearInterval(C)},[i]);const $=i.filter(I=>{const C=D[I.orderId]||{},A=v.toLowerCase();return I.orderId.toLowerCase().includes(A)||C.userName&&C.userName.toLowerCase().includes(A)||C.name&&C.name.toLowerCase().includes(A)});return m?l.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",color:Pe.grayDark},children:l.jsx("p",{children:"Loading chats..."})}):l.jsxs("div",{style:{display:"flex",height:"calc(100vh - 140px)",gap:"20px"},children:[l.jsxs("div",{style:{width:"350px",backgroundColor:"white",borderRadius:"16px",display:"flex",flexDirection:"column",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",overflow:"hidden"},children:[l.jsxs("div",{style:{padding:"20px",borderBottom:`1px solid ${Pe.grayMedium}`},children:[l.jsxs("h2",{style:{fontSize:"20px",fontWeight:"700",marginBottom:"15px",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx(ch,{color:Pe.primary})," Support Chats"]}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx(Wi,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:Pe.grayDark}}),l.jsx("input",{type:"text",placeholder:"Search chats...",value:v,onChange:I=>S(I.target.value),style:{width:"100%",padding:"10px 10px 10px 40px",borderRadius:"10px",border:`1px solid ${Pe.grayMedium}`,fontSize:"14px",backgroundColor:Pe.grayLight}})]})]}),l.jsx("div",{style:{flex:1,overflowY:"auto"},children:$.length===0?l.jsxs("div",{style:{padding:"40px 20px",textAlign:"center",color:Pe.grayDark},children:[l.jsx(Km,{size:40,style:{opacity:.3,marginBottom:"10px"}}),l.jsx("p",{children:"No chats found"})]}):$.map(I=>{const C=D[I.orderId]||{},A=(n==null?void 0:n.id)===I.id;return l.jsxs("div",{onClick:()=>s(I),style:{padding:"15px 20px",borderBottom:`1px solid ${Pe.grayLight}`,cursor:"pointer",backgroundColor:A?`${Pe.primary}10`:"transparent",borderLeft:A?`4px solid ${Pe.primary}`:"4px solid transparent",transition:"all 0.2s ease"},onMouseOver:z=>!A&&(z.currentTarget.style.backgroundColor=Pe.grayLight),onMouseOut:z=>!A&&(z.currentTarget.style.backgroundColor="transparent"),children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[l.jsx("span",{style:{fontWeight:"700",fontSize:"14px",color:Pe.grayDarker},children:C.userName||C.name||"Customer"}),l.jsx("span",{style:{fontSize:"11px",color:Pe.grayDark},children:I.createdAt?new Date(I.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),l.jsxs("div",{style:{fontSize:"12px",color:Pe.grayDark,display:"flex",alignItems:"center",gap:"5px"},children:[l.jsx(xc,{size:14})," Order #",I.orderId.substring(0,8)]}),l.jsx("div",{style:{marginTop:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:l.jsx("span",{style:{fontSize:"10px",padding:"2px 8px",borderRadius:"10px",backgroundColor:I.status==="active"?`${Pe.accent}20`:`${Pe.grayDark}20`,color:I.status==="active"?Pe.accent:Pe.grayDark,fontWeight:"700"},children:I.status.toUpperCase()})})]},I.id)})})]}),l.jsx("div",{style:{flex:1,backgroundColor:"white",borderRadius:"16px",display:"flex",flexDirection:"column",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",overflow:"hidden"},children:n?l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{padding:"15px 25px",borderBottom:`1px solid ${Pe.grayMedium}`,display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:Pe.grayLight},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[l.jsx("div",{style:{width:"45px",height:"45px",borderRadius:"50%",backgroundColor:Pe.primary,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"700"},children:(((ae=D[n.orderId])==null?void 0:ae.userName)||((se=D[n.orderId])==null?void 0:se.name)||"C").charAt(0).toUpperCase()}),l.jsxs("div",{children:[l.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:"700"},children:((be=D[n.orderId])==null?void 0:be.userName)||((_e=D[n.orderId])==null?void 0:_e.name)||"Customer"}),l.jsxs("p",{style:{margin:0,fontSize:"12px",color:Pe.grayDark},children:["Order: #",n.orderId]})]})]}),l.jsx("div",{style:{display:"flex",gap:"10px"},children:n.status==="active"&&l.jsxs("button",{onClick:()=>L(n.id),style:{padding:"8px 15px",backgroundColor:"white",border:`1px solid ${Pe.red}`,color:Pe.red,borderRadius:"8px",fontSize:"13px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"5px"},children:[l.jsx(hi,{})," End Chat"]})})]}),l.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"20px",display:"flex",flexDirection:"column",gap:"15px",backgroundColor:"#f0f2f5"},children:[o.map((I,C)=>l.jsxs("div",{style:{alignSelf:I.isSystem?"center":I.isCustomer?"flex-start":"flex-end",maxWidth:I.isSystem?"90%":"70%",display:"flex",flexDirection:"column",alignItems:I.isSystem?"center":I.isCustomer?"flex-start":"flex-end"},children:[l.jsx("div",{style:{padding:"10px 16px",borderRadius:"18px",backgroundColor:I.isSystem?Pe.grayMedium:I.isCustomer?"white":Pe.primary,color:I.isSystem?Pe.grayDark:I.isCustomer?Pe.grayDarker:"white",boxShadow:"0 1px 2px rgba(0,0,0,0.1)",fontSize:"14px",lineHeight:"1.4",borderBottomLeftRadius:I.isCustomer?"4px":"18px",borderBottomRightRadius:!I.isCustomer&&!I.isSystem?"4px":"18px"},children:I.text}),l.jsx("span",{style:{fontSize:"10px",color:Pe.grayDark,marginTop:"4px"},children:I.timestamp?new Date(I.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]},C)),l.jsx("div",{ref:W})]}),l.jsx("div",{style:{padding:"20px",borderTop:`1px solid ${Pe.grayMedium}`},children:n.status==="active"?l.jsxs("form",{onSubmit:G,style:{display:"flex",gap:"10px"},children:[l.jsx("input",{type:"text",placeholder:"Type your message...",value:h,onChange:I=>g(I.target.value),style:{flex:1,padding:"12px 20px",borderRadius:"25px",border:`1px solid ${Pe.grayMedium}`,backgroundColor:Pe.grayLight,outline:"none"}}),l.jsx("button",{type:"submit",disabled:!h.trim(),style:{width:"45px",height:"45px",borderRadius:"50%",backgroundColor:h.trim()?Pe.primary:Pe.grayMedium,color:"white",border:"none",cursor:h.trim()?"pointer":"default",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},children:l.jsx(Wg,{size:20})})]}):l.jsx("div",{style:{textAlign:"center",padding:"10px",backgroundColor:Pe.grayLight,borderRadius:"8px",color:Pe.grayDark,fontStyle:"italic",fontSize:"14px"},children:"This conversation has ended."})})]}):l.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%",color:Pe.grayDark},children:[l.jsx(ch,{size:80,style:{opacity:.1,marginBottom:"20px"}}),l.jsx("h3",{style:{margin:0},children:"Select a chat to view messages"}),l.jsx("p",{style:{marginTop:"10px",fontSize:"14px",opacity:.7},children:"Choose an active customer support session from the list on the left."})]})})]})}const fe={primary:"#01615F",accent:"#10B981",red:"#EF4444",grayLight:"#F7FAFC",grayMedium:"#E2E8F0",grayDark:"#4A5568",grayDarker:"#2D3748",white:"#FFFFFF"};function _I(){const[i,e]=ie.useState("send"),[n,s]=ie.useState(!1),[o,u]=ie.useState(""),[h,g]=ie.useState(""),[m,x]=ie.useState("direct"),[v,S]=ie.useState("user"),[D,O]=ie.useState(""),[W,te]=ie.useState(""),[G,L]=ie.useState(""),[$,ae]=ie.useState(""),[se,be]=ie.useState(""),[_e,I]=ie.useState(""),[C,A]=ie.useState(""),[z,k]=ie.useState([]),[U,w]=ie.useState(!1),[ve,xe]=ie.useState([]),[P,he]=ie.useState(!1),ye=oE(),re=async()=>{if(!C.trim()){k([]);return}w(!0);try{const N=$t(Ve,"users"),q=ui(N,Cd("email",">=",C),Cd("email","<=",C+"")),J=await Mn(q),pe=[];J.forEach(zt=>{const at=zt.data();pe.push({id:zt.id,name:at.name||at.displayName||at.email||"Unknown",email:at.email||"",type:at.type||"client",phone:at.phone||at.phoneNumber||""})});const Be=ui(N,Cd("name",">=",C),Cd("name","<=",C+""));(await Mn(Be)).forEach(zt=>{if(!pe.find(at=>at.id===zt.id)){const at=zt.data();pe.push({id:zt.id,name:at.name||at.displayName||at.email||"Unknown",email:at.email||"",type:at.type||"client",phone:at.phone||at.phoneNumber||""})}}),k(pe)}catch(N){console.error("Error searching users:",N),u("Error searching users")}finally{w(!1)}};ie.useEffect(()=>{if(C.length>=2){const N=setTimeout(()=>{re()},500);return()=>clearTimeout(N)}else k([])},[C]);const F=async()=>{if(!G.trim()||!$.trim()){u("Please enter title and content");return}s(!0),u(""),g("");try{let N;m==="promotional"?N=await ag(ye,"sendPromotionalOffer")({title:G,body:$,offerId:se||"",imageUrl:_e||"",targetUsers:v==="all"?"all":v==="clients"?"clients":v==="restaurants"?"restaurants":"all"}):m==="direct"?N=await ag(ye,"sendDirectMessage")({userId:v==="user"?D:null,restaurantId:v==="restaurant"?W:null,title:G,body:$,messageType:"direct_message"}):N=await ag(ye,"sendNotificationFromAdmin")({userId:v==="user"?D:null,restaurantId:v==="restaurant"?W:null,title:G,body:$,type:"admin_broadcast"}),g(`Notification sent successfully to ${N.data.sentTo||1} user(s)`),L(""),ae(""),O(""),te(""),be(""),I(""),A(""),k([]),E()}catch(N){console.error("Error sending notification:",N),u(N.message||"An error occurred while sending the notification")}finally{s(!1)}},E=async()=>{he(!0);try{const N=$t(Ve,"notifications"),q=ui(N,Hs("createdAt","desc")),J=await Mn(q),pe=[];J.forEach(Be=>{pe.push({id:Be.id,...Be.data()})}),xe(pe)}catch(N){console.error("Error fetching notifications:",N),u("An error occurred while fetching notification history")}finally{he(!1)}};ie.useEffect(()=>{i==="history"&&E()},[i]);const R=N=>N?(N.toDate?N.toDate():new Date(N)).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",H=N=>({order_status:"Order Status",new_order:"New Order",promotional_offer:"Promotional Offer",direct_message:"Direct Message",admin_broadcast:"Admin Broadcast"})[N]||N;return l.jsxs("div",{style:{padding:"0"},children:[l.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"32px",borderBottom:`2px solid ${fe.grayMedium}`},children:[l.jsxs("button",{onClick:()=>e("send"),style:{padding:"12px 24px",border:"none",background:"none",borderBottom:i==="send"?`3px solid ${fe.primary}`:"3px solid transparent",color:i==="send"?fe.primary:fe.grayDark,fontWeight:i==="send"?"600":"500",cursor:"pointer",fontSize:"16px",transition:"all 0.2s ease"},children:[l.jsx(Wg,{style:{marginRight:"8px",verticalAlign:"middle"}}),"Send Notification"]}),l.jsxs("button",{onClick:()=>e("history"),style:{padding:"12px 24px",border:"none",background:"none",borderBottom:i==="history"?`3px solid ${fe.primary}`:"3px solid transparent",color:i==="history"?fe.primary:fe.grayDark,fontWeight:i==="history"?"600":"500",cursor:"pointer",fontSize:"16px",transition:"all 0.2s ease"},children:[l.jsx(gr,{style:{marginRight:"8px",verticalAlign:"middle"}}),"Notification History"]})]}),o&&l.jsxs("div",{style:{padding:"16px",backgroundColor:fe.red+"10",border:`1px solid ${fe.red}30`,borderRadius:"12px",marginBottom:"24px",display:"flex",alignItems:"center",gap:"12px",color:fe.red},children:[l.jsx(Km,{size:20}),l.jsx("span",{children:o}),l.jsx("button",{onClick:()=>u(""),style:{marginLeft:"auto",background:"none",border:"none",color:fe.red,cursor:"pointer"},children:l.jsx(hi,{})})]}),h&&l.jsxs("div",{style:{padding:"16px",backgroundColor:fe.accent+"10",border:`1px solid ${fe.accent}30`,borderRadius:"12px",marginBottom:"24px",display:"flex",alignItems:"center",gap:"12px",color:fe.accent},children:[l.jsx(On,{size:20}),l.jsx("span",{children:h}),l.jsx("button",{onClick:()=>g(""),style:{marginLeft:"auto",background:"none",border:"none",color:fe.accent,cursor:"pointer"},children:l.jsx(hi,{})})]}),i==="send"&&l.jsxs("div",{children:[l.jsxs("div",{style:{marginBottom:"32px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"12px",fontSize:"14px",fontWeight:"600",color:fe.grayDarker},children:"Notification Type"}),l.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[l.jsxs("button",{onClick:()=>x("direct"),style:{padding:"12px 24px",borderRadius:"8px",border:`2px solid ${m==="direct"?fe.primary:fe.grayMedium}`,backgroundColor:m==="direct"?fe.primary+"10":fe.white,color:m==="direct"?fe.primary:fe.grayDark,cursor:"pointer",fontWeight:m==="direct"?"600":"500",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(vc,{}),"Direct Message"]}),l.jsxs("button",{onClick:()=>x("promotional"),style:{padding:"12px 24px",borderRadius:"8px",border:`2px solid ${m==="promotional"?fe.primary:fe.grayMedium}`,backgroundColor:m==="promotional"?fe.primary+"10":fe.white,color:m==="promotional"?fe.primary:fe.grayDark,cursor:"pointer",fontWeight:m==="promotional"?"600":"500",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(oI,{}),"Promotional Offer"]}),l.jsxs("button",{onClick:()=>x("broadcast"),style:{padding:"12px 24px",borderRadius:"8px",border:`2px solid ${m==="broadcast"?fe.primary:fe.grayMedium}`,backgroundColor:m==="broadcast"?fe.primary+"10":fe.white,color:m==="broadcast"?fe.primary:fe.grayDark,cursor:"pointer",fontWeight:m==="broadcast"?"600":"500",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(Do,{}),"General Announcement"]})]})]}),m==="direct"&&l.jsxs("div",{style:{marginBottom:"32px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"12px",fontSize:"14px",fontWeight:"600",color:fe.grayDarker},children:"Target"}),l.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"16px"},children:[l.jsxs("button",{onClick:()=>{S("user"),O(""),te("")},style:{padding:"10px 20px",borderRadius:"8px",border:`2px solid ${v==="user"?fe.primary:fe.grayMedium}`,backgroundColor:v==="user"?fe.primary+"10":fe.white,color:v==="user"?fe.primary:fe.grayDark,cursor:"pointer"},children:[l.jsx(dr,{style:{marginRight:"6px",verticalAlign:"middle"}}),"User"]}),l.jsxs("button",{onClick:()=>{S("restaurant"),O(""),te("")},style:{padding:"10px 20px",borderRadius:"8px",border:`2px solid ${v==="restaurant"?fe.primary:fe.grayMedium}`,backgroundColor:v==="restaurant"?fe.primary+"10":fe.white,color:v==="restaurant"?fe.primary:fe.grayDark,cursor:"pointer"},children:[l.jsx(Oc,{style:{marginRight:"6px",verticalAlign:"middle"}}),"Restaurant"]})]}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx("input",{type:"text",placeholder:`Search for ${v==="user"?"user":"restaurant"}...`,value:C,onChange:N=>A(N.target.value),style:{width:"100%",padding:"12px 16px",border:`1px solid ${fe.grayMedium}`,borderRadius:"8px",fontSize:"14px"}}),z.length>0&&l.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:fe.white,border:`1px solid ${fe.grayMedium}`,borderRadius:"8px",marginTop:"4px",maxHeight:"300px",overflowY:"auto",zIndex:1e3,boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:z.map(N=>l.jsxs("div",{onClick:()=>{v==="user"?O(N.id):te(N.id),A(N.name),k([])},style:{padding:"12px 16px",cursor:"pointer",borderBottom:`1px solid ${fe.grayLight}`,display:"flex",justifyContent:"space-between",alignItems:"center"},onMouseOver:q=>q.currentTarget.style.backgroundColor=fe.grayLight,onMouseOut:q=>q.currentTarget.style.backgroundColor=fe.white,children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:"600",color:fe.grayDarker},children:N.name}),l.jsxs("div",{style:{fontSize:"12px",color:fe.grayDark},children:[N.email,"  ",N.type]})]}),l.jsx(On,{style:{color:fe.accent}})]},N.id))})]})]}),m==="promotional"&&l.jsxs("div",{style:{marginBottom:"32px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"12px",fontSize:"14px",fontWeight:"600",color:fe.grayDarker},children:"Target Audience"}),l.jsxs("div",{style:{display:"flex",gap:"12px"},children:[l.jsx("button",{onClick:()=>S("all"),style:{padding:"10px 20px",borderRadius:"8px",border:`2px solid ${v==="all"?fe.primary:fe.grayMedium}`,backgroundColor:v==="all"?fe.primary+"10":fe.white,color:v==="all"?fe.primary:fe.grayDark,cursor:"pointer"},children:"Everyone"}),l.jsx("button",{onClick:()=>S("clients"),style:{padding:"10px 20px",borderRadius:"8px",border:`2px solid ${v==="clients"?fe.primary:fe.grayMedium}`,backgroundColor:v==="clients"?fe.primary+"10":fe.white,color:v==="clients"?fe.primary:fe.grayDark,cursor:"pointer"},children:"Clients Only"}),l.jsx("button",{onClick:()=>S("restaurants"),style:{padding:"10px 20px",borderRadius:"8px",border:`2px solid ${v==="restaurants"?fe.primary:fe.grayMedium}`,backgroundColor:v==="restaurants"?fe.primary+"10":fe.white,color:v==="restaurants"?fe.primary:fe.grayDark,cursor:"pointer"},children:"Restaurants Only"})]})]}),l.jsxs("div",{style:{marginBottom:"24px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:fe.grayDarker},children:"Title *"}),l.jsx("input",{type:"text",value:G,onChange:N=>L(N.target.value),placeholder:"Enter notification title",style:{width:"100%",padding:"12px 16px",border:`1px solid ${fe.grayMedium}`,borderRadius:"8px",fontSize:"14px"}})]}),l.jsxs("div",{style:{marginBottom:"24px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:fe.grayDarker},children:"Content *"}),l.jsx("textarea",{value:$,onChange:N=>ae(N.target.value),placeholder:"Enter notification content",rows:5,style:{width:"100%",padding:"12px 16px",border:`1px solid ${fe.grayMedium}`,borderRadius:"8px",fontSize:"14px",fontFamily:"inherit",resize:"vertical"}})]}),m==="promotional"&&l.jsxs("div",{style:{marginBottom:"24px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:fe.grayDarker},children:"Offer ID (Optional)"}),l.jsx("input",{type:"text",value:se,onChange:N=>be(N.target.value),placeholder:"Offer ID",style:{width:"100%",padding:"12px 16px",border:`1px solid ${fe.grayMedium}`,borderRadius:"8px",fontSize:"14px"}})]}),m==="promotional"&&l.jsxs("div",{style:{marginBottom:"24px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:fe.grayDarker},children:"Image URL (Optional)"}),l.jsx("input",{type:"url",value:_e,onChange:N=>I(N.target.value),placeholder:"https://example.com/image.jpg",style:{width:"100%",padding:"12px 16px",border:`1px solid ${fe.grayMedium}`,borderRadius:"8px",fontSize:"14px"}})]}),l.jsx("button",{onClick:F,disabled:n||!G.trim()||!$.trim(),style:{width:"100%",padding:"16px",backgroundColor:n?fe.grayMedium:fe.primary,color:fe.white,border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:n?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",opacity:n?.6:1},children:n?l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{width:"20px",height:"20px",border:`2px solid ${fe.white}30`,borderTopColor:fe.white,borderRadius:"50%",animation:"spin 1s linear infinite"}}),"Sending..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Wg,{}),"Send Notification"]})})]}),i==="history"&&l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[l.jsx("h3",{style:{margin:0,color:fe.grayDarker},children:"Notification History"}),l.jsxs("button",{onClick:E,disabled:P,style:{padding:"10px 16px",backgroundColor:fe.primary,color:fe.white,border:"none",borderRadius:"8px",cursor:P?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"8px",opacity:P?.6:1},children:[l.jsx(Nn,{style:{animation:P?"spin 1s linear infinite":"none"}}),""]})]}),P?l.jsx("div",{style:{textAlign:"center",padding:"40px",color:fe.grayDark},children:" ..."}):ve.length===0?l.jsx("div",{style:{textAlign:"center",padding:"40px",color:fe.grayDark},children:"  "}):l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:ve.map(N=>l.jsxs("div",{style:{padding:"20px",backgroundColor:fe.white,border:`1px solid ${fe.grayMedium}`,borderRadius:"12px",display:"flex",flexDirection:"column",gap:"12px"},children:[l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[l.jsx("h4",{style:{margin:0,color:fe.grayDarker},children:N.title}),l.jsx("span",{style:{padding:"4px 8px",backgroundColor:fe.primary+"10",color:fe.primary,borderRadius:"4px",fontSize:"12px",fontWeight:"600"},children:H(N.type)})]}),l.jsx("p",{style:{margin:0,color:fe.grayDark,lineHeight:"1.6"},children:N.body})]})}),l.jsxs("div",{style:{display:"flex",gap:"16px",fontSize:"12px",color:fe.grayDark,alignItems:"center"},children:[l.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[l.jsx(gr,{}),R(N.createdAt)]}),N.userId&&l.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[l.jsx(dr,{}),""]}),N.restaurantId&&l.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[l.jsx(Oc,{}),""]})]})]},N.id))})]}),l.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})}function EI(){const[i,e]=ie.useState([]),[n,s]=ie.useState(!0),[o,u]=ie.useState(null),[h,g]=ie.useState(!1),[m,x]=ie.useState(null),[v,S]=ie.useState({title_en:"",title_tr:"",subtitle_en:"",subtitle_tr:"",description_en:"",description_tr:"",button_en:"",button_tr:"",targetScreen:"",icon:"ShoppingBag",color1:"#01615F",color2:"#047857",isActive:!0,sortOrder:0}),D=async()=>{try{s(!0),u(null);const L=$t(Ve,"banners"),$=ui(L,Hs("sortOrder","asc")),se=(await Mn($)).docs.map(be=>({id:be.id,...be.data()}));e(se)}catch(L){console.error("Error fetching banners:",L),u(`Failed to fetch banners: ${L.message}`)}finally{s(!1)}};ie.useEffect(()=>{D()},[]);const O=async L=>{L.preventDefault();try{const $={...v,colors:[v.color1,v.color2],sortOrder:parseInt(v.sortOrder)||0,updatedAt:En()};delete $.color1,delete $.color2,m?(await pr(Qt(Ve,"banners",m),$),alert("Banner updated successfully!")):($.createdAt=En(),await ih($t(Ve,"banners"),$),alert("Banner added successfully!")),W(),D()}catch($){alert(`Error: ${$.message}`)}},W=()=>{S({title_en:"",title_tr:"",subtitle_en:"",subtitle_tr:"",description_en:"",description_tr:"",button_en:"",button_tr:"",targetScreen:"",icon:"ShoppingBag",color1:"#01615F",color2:"#047857",isActive:!0,sortOrder:i.length}),x(null),g(!1)},te=L=>{var $,ae;x(L.id),S({...L,color1:(($=L.colors)==null?void 0:$[0])||"#01615F",color2:((ae=L.colors)==null?void 0:ae[1])||"#047857"}),g(!0)},G=async L=>{window.confirm("Are you sure you want to delete this banner?")&&(await Jo(Qt(Ve,"banners",L)),D())};return l.jsxs("div",{style:{padding:"20px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"30px"},children:[l.jsxs("h1",{style:{display:"flex",alignItems:"center",gap:"10px",margin:0},children:[l.jsx(Hg,{color:"#01615F"})," Home Banners"]}),l.jsxs("div",{style:{display:"flex",gap:"10px"},children:[l.jsxs("button",{onClick:D,style:it.secondaryButton,children:[l.jsx(Nn,{})," Refresh"]}),l.jsxs("button",{onClick:()=>g(!0),style:it.primaryButton,children:[l.jsx(qg,{})," Add Banner"]})]})]}),h&&l.jsxs("div",{style:it.formContainer,children:[l.jsx("h2",{style:{marginBottom:"20px"},children:m?"Edit Banner":"New Banner"}),l.jsxs("form",{onSubmit:O,style:it.form,children:[l.jsxs("div",{style:it.formGrid,children:[l.jsxs("div",{style:it.section,children:[l.jsx("h3",{children:"English Content"}),l.jsx("input",{style:it.input,placeholder:"Title (EN)",value:v.title_en,onChange:L=>S({...v,title_en:L.target.value}),required:!0}),l.jsx("input",{style:it.input,placeholder:"Subtitle (EN)",value:v.subtitle_en,onChange:L=>S({...v,subtitle_en:L.target.value})}),l.jsx("input",{style:it.input,placeholder:"Description (EN)",value:v.description_en,onChange:L=>S({...v,description_en:L.target.value})}),l.jsx("input",{style:it.input,placeholder:"Button Text (EN)",value:v.button_en,onChange:L=>S({...v,button_en:L.target.value})})]}),l.jsxs("div",{style:it.section,children:[l.jsx("h3",{children:"Turkish Content"}),l.jsx("input",{style:it.input,placeholder:"Title (TR)",value:v.title_tr,onChange:L=>S({...v,title_tr:L.target.value}),required:!0}),l.jsx("input",{style:it.input,placeholder:"Subtitle (TR)",value:v.subtitle_tr,onChange:L=>S({...v,subtitle_tr:L.target.value})}),l.jsx("input",{style:it.input,placeholder:"Description (TR)",value:v.description_tr,onChange:L=>S({...v,description_tr:L.target.value})}),l.jsx("input",{style:it.input,placeholder:"Button Text (TR)",value:v.button_tr,onChange:L=>S({...v,button_tr:L.target.value})})]}),l.jsxs("div",{style:it.section,children:[l.jsx("h3",{children:"Settings & Style"}),l.jsxs("div",{style:{display:"flex",gap:"10px"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:it.label,children:"Icon"}),l.jsxs("select",{style:it.input,value:v.icon,onChange:L=>S({...v,icon:L.target.value}),children:[l.jsx("option",{value:"ShoppingBag",children:"Shopping Bag"}),l.jsx("option",{value:"UserPlus",children:"User Plus"}),l.jsx("option",{value:"Zap",children:"Zap (Offer)"}),l.jsx("option",{value:"Star",children:"Star"}),l.jsx("option",{value:"Gift",children:"Gift"})]})]}),l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:it.label,children:"Sort Order"}),l.jsx("input",{type:"number",style:it.input,value:v.sortOrder,onChange:L=>S({...v,sortOrder:L.target.value})})]})]}),l.jsx("input",{style:it.input,placeholder:"Target Screen (e.g. /ordersScreen)",value:v.targetScreen,onChange:L=>S({...v,targetScreen:L.target.value})}),l.jsxs("div",{style:{display:"flex",gap:"10px"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:it.label,children:"Color 1"}),l.jsx("input",{type:"color",style:it.colorInput,value:v.color1,onChange:L=>S({...v,color1:L.target.value})})]}),l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:it.label,children:"Color 2"}),l.jsx("input",{type:"color",style:it.colorInput,value:v.color2,onChange:L=>S({...v,color2:L.target.value})})]})]}),l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",marginTop:"10px",cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:v.isActive,onChange:L=>S({...v,isActive:L.target.checked})}),"Active"]})]})]}),l.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end",marginTop:"20px"},children:[l.jsxs("button",{type:"button",onClick:W,style:it.cancelButton,children:[l.jsx(yn,{})," Cancel"]}),l.jsxs("button",{type:"submit",style:it.saveButton,children:[l.jsx(hE,{})," ",m?"Update":"Save"," Banner"]})]})]})]}),l.jsx("div",{style:it.list,children:n?l.jsx("p",{children:"Loading..."}):i.map(L=>{var $,ae;return l.jsxs("div",{style:it.card,children:[l.jsx("div",{style:{width:"100px",height:"60px",borderRadius:"8px",background:`linear-gradient(135deg, ${($=L.colors)==null?void 0:$[0]}, ${(ae=L.colors)==null?void 0:ae[1]})`,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"24px"},children:l.jsx(Hg,{})}),l.jsxs("div",{style:{flex:1,marginLeft:"20px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[l.jsxs("h4",{style:{margin:0},children:[L.title_en," / ",L.title_tr]}),L.isActive?l.jsx(el,{color:"#48BB78"}):l.jsx(dE,{color:"#A0AEC0"})]}),l.jsxs("p",{style:{margin:"5px 0",fontSize:"12px",color:"#718096"},children:["Target: ",L.targetScreen||"None"," | Icon: ",L.icon," | Order: ",L.sortOrder]})]}),l.jsxs("div",{style:{display:"flex",gap:"5px"},children:[l.jsx("button",{onClick:()=>te(L),style:it.iconButton,children:l.jsx(qi,{})}),l.jsx("button",{onClick:()=>G(L.id),style:{...it.iconButton,color:"#EF4444"},children:l.jsx(Zo,{})})]})]},L.id)})})]})}const it={primaryButton:{padding:"10px 20px",backgroundColor:"var(--primary)",color:"var(--text-white)",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"5px",fontWeight:"600"},secondaryButton:{padding:"10px 20px",backgroundColor:"var(--bg-white)",border:"1px solid var(--border)",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"5px",color:"var(--text-medium)"},saveButton:{padding:"12px 24px",backgroundColor:"var(--primary)",color:"var(--text-white)",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontWeight:"600"},cancelButton:{padding:"12px 24px",backgroundColor:"var(--bg-light)",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",color:"var(--text-dark)"},formContainer:{backgroundColor:"var(--bg-white)",padding:"30px",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",marginBottom:"30px",color:"var(--text-dark)"},formGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"30px"},section:{display:"flex",flexDirection:"column",gap:"15px"},input:{padding:"12px",border:"1px solid var(--border)",borderRadius:"8px",fontSize:"14px",backgroundColor:"var(--bg-light)",color:"var(--text-main)"},colorInput:{padding:"2px",height:"45px",border:"1px solid var(--border)",borderRadius:"8px",width:"100%",cursor:"pointer"},label:{fontSize:"12px",fontWeight:"600",color:"var(--text-light)",marginBottom:"5px",display:"block"},card:{display:"flex",alignItems:"center",backgroundColor:"var(--bg-white)",padding:"15px",borderRadius:"12px",marginBottom:"10px",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",color:"var(--text-main)"},iconButton:{background:"none",border:"none",padding:"8px",cursor:"pointer",fontSize:"20px",color:"var(--text-medium)",borderRadius:"6px"},list:{display:"flex",flexDirection:"column"}},ee={primary:"var(--primary)",primaryDark:"var(--primary-dark)",secondary:"var(--secondary)",accent:"var(--accent)",red:"var(--red)",yellow:"var(--yellow)",blue:"var(--blue)",grayLight:"var(--bg-light)",grayMedium:"var(--border)",grayDark:"var(--text-medium)",grayDarker:"var(--text-dark)",white:"var(--bg-white)"},pg=[{id:"addresses",icon:l.jsx(tI,{}),label:"Addresses",color:ee.blue},{id:"cards",icon:l.jsx(bc,{}),label:"Cards",color:ee.secondary},{id:"categories",icon:l.jsx(Oc,{}),label:"Categories",color:ee.accent},{id:"freeFoodRequests",icon:l.jsx(dI,{}),label:"Free Food Requests",color:ee.yellow},{id:"helpRequests",icon:l.jsx(uc,{}),label:"Help Requests",color:ee.red},{id:"chats",icon:l.jsx(ch,{}),label:"Support Chats",color:ee.primary},{id:"orderss",icon:l.jsx(xc,{}),label:"Orders",color:ee.primary},{id:"users",icon:l.jsx(hI,{}),label:"Users",color:ee.secondary},{id:"notifications",icon:l.jsx(fE,{}),label:"Notifications",color:ee.accent},{id:"banners",icon:l.jsx(Hg,{}),label:"Home Banners",color:ee.primary}],_2=({pageName:i})=>l.jsxs("div",{style:{padding:"40px",textAlign:"center",color:ee.grayDark},children:[l.jsxs("h3",{children:["Unable to load ",i]}),l.jsx("p",{children:"Please check that the component file exists and has no errors."})]});function SI(){var ae,se,be,_e,I,C;const[i,e]=ie.useState("addresses"),[n,s]=ie.useState(null),[o,u]=ie.useState(!0),[h,g]=ie.useState(!1),[m,x]=ie.useState(!1),[v,S]=ie.useState(""),[D,O]=ie.useState("");ie.useEffect(()=>{const A=VC(og,z=>{console.log("Auth state changed:",z),s(z),u(!1)},z=>{console.error("Auth error:",z),u(!1)});return()=>A()},[]);const W=async(A,z)=>{try{O(""),console.log("Attempting login with:",A),await NC(og,A,z)}catch(k){console.error("Login error:",k);const U=k.code==="auth/invalid-credential"?"Invalid email or password":k.message;O(U)}},te=async()=>{try{await LC(og)}catch(A){console.error("Logout error:",A)}};if(o)return l.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",width:"100vw",backgroundColor:ee.grayLight},children:l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{width:"60px",height:"60px",border:`4px solid ${ee.grayMedium}`,borderTopColor:ee.primary,borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 20px"}}),l.jsx("p",{style:{color:ee.grayDark,fontSize:"16px",fontWeight:"500"},children:"Loading Admin Panel..."})]})});if(!n)return console.log("No user, showing login form"),l.jsx(TI,{onLogin:W,error:D});const G=()=>{try{switch(i){case"addresses":return l.jsx(fI,{});case"cards":return l.jsx(pI,{});case"categories":return l.jsx(gI,{});case"freeFoodRequests":return l.jsx(mI,{});case"helpRequests":return l.jsx(yI,{});case"orderss":return l.jsx(xI,{});case"chats":return l.jsx(bI,{});case"users":return l.jsx(vI,{});case"notifications":return l.jsx(_I,{});case"banners":return l.jsx(EI,{});default:return l.jsx(_2,{pageName:i})}}catch(A){return console.error(`Error loading ${i}:`,A),l.jsx(_2,{pageName:i})}},L=()=>pg.find(A=>A.id===i)||pg[0],$=()=>new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return l.jsxs("div",{style:{display:"flex",height:"100vh",width:"100vw",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif",margin:0,padding:0,backgroundColor:ee.grayLight,overflow:"hidden"},children:[l.jsxs("aside",{style:{width:h?"80px":"280px",backgroundColor:ee.white,color:ee.grayDarker,display:"flex",flexDirection:"column",padding:"0",height:"100vh",boxShadow:"4px 0 20px rgba(0,0,0,0.06)",flexShrink:0,zIndex:100,transition:"all 0.3s ease",borderRight:`1px solid ${ee.grayMedium}`},children:[l.jsx("div",{style:{padding:"24px",borderBottom:`1px solid ${ee.grayMedium}`,display:"flex",alignItems:"center",justifyContent:h?"center":"space-between"},children:h?l.jsx("button",{onClick:()=>g(!h),style:{background:"none",border:"none",color:ee.grayDark,cursor:"pointer",fontSize:"20px",padding:"8px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},onMouseOver:A=>A.currentTarget.style.backgroundColor=ee.grayMedium,onMouseOut:A=>A.currentTarget.style.backgroundColor="transparent",children:l.jsx(fg,{})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"12px",backgroundColor:ee.primary,display:"flex",alignItems:"center",justifyContent:"center",color:ee.white,fontWeight:"bold",fontSize:"20px"},children:"A"}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"18px",fontWeight:"700",color:ee.grayDarker,lineHeight:"1.2"},children:"Admin Panel"}),l.jsx("div",{style:{fontSize:"12px",color:ee.grayDark,opacity:.8},children:"v1.0.0"})]})]}),l.jsx("button",{onClick:()=>g(!h),style:{background:"none",border:"none",color:ee.grayDark,cursor:"pointer",fontSize:"20px",padding:"8px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},onMouseOver:A=>A.currentTarget.style.backgroundColor=ee.grayMedium,onMouseOut:A=>A.currentTarget.style.backgroundColor="transparent",children:l.jsx(fg,{})})]})}),l.jsx("nav",{style:{flex:1,overflowY:"auto",padding:"20px 16px"},children:pg.map(A=>l.jsxs("button",{onClick:()=>e(A.id),style:{display:"flex",alignItems:"center",gap:h?"0":"16px",width:"100%",margin:"0 0 8px",padding:h?"12px":"14px 16px",border:"none",borderRadius:"12px",cursor:"pointer",fontSize:h?"20px":"15px",backgroundColor:i===A.id?`${A.color}15`:"transparent",color:i===A.id?A.color:ee.grayDark,fontWeight:i===A.id?"600":"500",transition:"all 0.2s ease",textAlign:h?"center":"left",position:"relative",justifyContent:h?"center":"flex-start"},onMouseOver:z=>{i!==A.id&&(z.currentTarget.style.backgroundColor=ee.grayMedium+"20")},onMouseOut:z=>{i!==A.id&&(z.currentTarget.style.backgroundColor="transparent")},children:[l.jsx("div",{style:{fontSize:h?"22px":"20px",display:"flex",alignItems:"center"},children:A.icon}),!h&&l.jsx("span",{children:A.label}),i===A.id&&l.jsx("div",{style:{position:"absolute",right:h?"auto":"16px",left:h?"50%":"auto",transform:h?"translateX(-50%)":"none",top:h?"calc(100% + 4px)":"50%",width:"4px",height:h?"4px":"16px",backgroundColor:A.color,borderRadius:"2px"}})]},A.id))}),l.jsx("div",{style:{padding:"24px 16px",borderTop:`1px solid ${ee.grayMedium}`,backgroundColor:ee.grayLight},children:h?l.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"12px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:ee.primary,display:"flex",alignItems:"center",justifyContent:"center",color:ee.white,fontWeight:"bold",fontSize:"16px"},children:((be=n.email)==null?void 0:be.charAt(0).toUpperCase())||"A"}),l.jsx("button",{onClick:te,style:{padding:"10px",borderRadius:"8px",backgroundColor:ee.red+"15",border:`1px solid ${ee.red}30`,color:ee.red,cursor:"pointer",fontSize:"18px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},onMouseOver:A=>{A.currentTarget.style.backgroundColor=ee.red+"25",A.currentTarget.style.borderColor=ee.red+"50"},onMouseOut:A=>{A.currentTarget.style.backgroundColor=ee.red+"15",A.currentTarget.style.borderColor=ee.red+"30"},children:l.jsx(g2,{})})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"20px"},children:[l.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",backgroundColor:ee.primary,display:"flex",alignItems:"center",justifyContent:"center",color:ee.white,fontWeight:"bold",fontSize:"18px",flexShrink:0},children:((ae=n.email)==null?void 0:ae.charAt(0).toUpperCase())||"A"}),l.jsxs("div",{style:{flex:1,minWidth:0},children:[l.jsx("div",{style:{fontSize:"15px",fontWeight:"600",color:ee.grayDarker,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:n.displayName||((se=n.email)==null?void 0:se.split("@")[0])||"Admin User"}),l.jsx("div",{style:{fontSize:"13px",color:ee.grayDark,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:n.email||"admin@example.com"})]})]}),l.jsxs("button",{onClick:te,style:{width:"100%",padding:"12px 16px",borderRadius:"10px",backgroundColor:ee.red+"15",border:`1px solid ${ee.red}30`,color:ee.red,fontWeight:"600",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",transition:"all 0.2s ease"},onMouseOver:A=>{A.currentTarget.style.backgroundColor=ee.red+"25",A.currentTarget.style.borderColor=ee.red+"50"},onMouseOut:A=>{A.currentTarget.style.backgroundColor=ee.red+"15",A.currentTarget.style.borderColor=ee.red+"30"},children:[l.jsx(g2,{}),"Logout"]})]})})]}),l.jsxs("main",{style:{flex:1,display:"flex",flexDirection:"column",height:"100vh",backgroundColor:ee.grayLight,overflow:"hidden",minWidth:0},children:[l.jsxs("header",{style:{height:"80px",minHeight:"80px",backgroundColor:ee.white,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 32px",borderBottom:`1px solid ${ee.grayMedium}`,boxShadow:"0 2px 12px rgba(0,0,0,0.04)",flexShrink:0,zIndex:50},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"24px"},children:[h&&l.jsx("button",{onClick:()=>g(!1),style:{background:"none",border:"none",color:ee.grayDark,cursor:"pointer",fontSize:"24px",padding:"8px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},onMouseOver:A=>A.currentTarget.style.backgroundColor=ee.grayMedium+"30",onMouseOut:A=>A.currentTarget.style.backgroundColor="transparent",children:l.jsx(fg,{})}),l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsxs("h1",{style:{margin:0,fontSize:"24px",fontWeight:"700",color:ee.grayDarker,display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:L().color+"20",color:L().color,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:L().icon}),L().label]}),l.jsxs("div",{style:{padding:"6px 12px",backgroundColor:ee.grayMedium+"30",color:ee.grayDark,borderRadius:"20px",fontSize:"12px",fontWeight:"600",display:"flex",alignItems:"center",gap:"6px"},children:[l.jsx(uE,{size:14}),"Admin Dashboard"]})]}),l.jsxs("p",{style:{margin:"6px 0 0",fontSize:"14px",color:ee.grayDark,display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx(nI,{size:14}),$()]})]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px"},children:[l.jsxs("div",{style:{position:"relative",width:"300px"},children:[l.jsx(Wi,{style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",color:ee.grayDark,fontSize:"20px"}}),l.jsx("input",{type:"text",placeholder:"Search dashboard...",value:v,onChange:A=>S(A.target.value),style:{width:"100%",padding:"12px 20px 12px 48px",border:`1px solid ${ee.grayMedium}`,borderRadius:"12px",fontSize:"14px",backgroundColor:ee.white,color:ee.grayDarker,transition:"all 0.2s ease"},onFocus:A=>{A.target.style.borderColor=ee.primary,A.target.style.boxShadow=`0 0 0 3px ${ee.primary}15`},onBlur:A=>{A.target.style.borderColor=ee.grayMedium,A.target.style.boxShadow="none"}})]}),l.jsxs("div",{style:{position:"relative"},children:[l.jsxs("button",{onClick:()=>x(!m),style:{background:"none",border:"none",color:ee.grayDark,cursor:"pointer",fontSize:"22px",padding:"10px",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",transition:"all 0.2s ease"},onMouseOver:A=>A.currentTarget.style.backgroundColor=ee.grayMedium+"30",onMouseOut:A=>A.currentTarget.style.backgroundColor="transparent",children:[l.jsx(fE,{}),l.jsx("div",{style:{position:"absolute",top:"6px",right:"6px",width:"8px",height:"8px",backgroundColor:ee.red,borderRadius:"50%",border:`2px solid ${ee.white}`}})]}),m&&l.jsxs("div",{style:{position:"absolute",top:"calc(100% + 10px)",right:0,width:"320px",backgroundColor:ee.white,borderRadius:"16px",boxShadow:"0 10px 40px rgba(0,0,0,0.12)",border:`1px solid ${ee.grayMedium}`,zIndex:1e3,overflow:"hidden"},children:[l.jsxs("div",{style:{padding:"20px",borderBottom:`1px solid ${ee.grayMedium}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:ee.grayDarker},children:"Notifications"}),l.jsx("button",{onClick:()=>x(!1),style:{background:"none",border:"none",color:ee.primary,fontWeight:"600",cursor:"pointer",fontSize:"12px",padding:"4px 8px",borderRadius:"4px"},children:"Clear all"})]}),l.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:l.jsx("div",{style:{padding:"20px",textAlign:"center",color:ee.grayDark},children:"No new notifications"})})]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"8px 12px 8px 8px",borderRadius:"12px",backgroundColor:ee.white,border:`1px solid ${ee.grayMedium}`,cursor:"pointer",transition:"all 0.2s ease"},onMouseOver:A=>A.currentTarget.style.backgroundColor=ee.grayMedium+"15",onMouseOut:A=>A.currentTarget.style.backgroundColor=ee.white,children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:ee.primary+"20",display:"flex",alignItems:"center",justifyContent:"center",color:ee.primary,fontWeight:"bold",fontSize:"16px"},children:((_e=n.email)==null?void 0:_e.charAt(0).toUpperCase())||"A"}),l.jsxs("div",{style:{textAlign:"right"},children:[l.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:ee.grayDarker},children:((I=n.displayName)==null?void 0:I.split(" ")[0])||((C=n.email)==null?void 0:C.split("@")[0])||"Admin"}),l.jsx("div",{style:{fontSize:"12px",color:ee.grayDark},children:"Administrator"})]}),l.jsx(cI,{style:{color:ee.grayDark,fontSize:"20px"}})]})]})]}),l.jsx("section",{style:{flex:1,padding:"32px",overflowY:"auto",overflowX:"hidden"},children:l.jsx("div",{style:{backgroundColor:ee.white,borderRadius:"16px",padding:"32px",boxShadow:"0 4px 20px rgba(0,0,0,0.05)",border:`1px solid ${ee.grayMedium}`,minHeight:"calc(100vh - 200px)"},children:G()})}),l.jsxs("footer",{style:{padding:"20px 32px",backgroundColor:ee.white,borderTop:`1px solid ${ee.grayMedium}`,fontSize:"13px",color:ee.grayDark,display:"flex",justifyContent:"space-between",alignItems:"center",flexShrink:0},children:[l.jsxs("div",{children:[" ",new Date().getFullYear()," Admin Dashboard v1.0.0"]}),l.jsxs("div",{style:{display:"flex",gap:"20px"},children:[l.jsx("button",{style:{background:"none",border:"none",color:ee.grayDark,cursor:"pointer",fontSize:"13px"},onMouseOver:A=>A.target.style.color=ee.primary,onMouseOut:A=>A.target.style.color=ee.grayDark,children:"Privacy Policy"}),l.jsx("button",{style:{background:"none",border:"none",color:ee.grayDark,cursor:"pointer",fontSize:"13px"},onMouseOver:A=>A.target.style.color=ee.primary,onMouseOut:A=>A.target.style.color=ee.grayDark,children:"Terms of Service"}),l.jsx("button",{style:{background:"none",border:"none",color:ee.grayDark,cursor:"pointer",fontSize:"13px"},onMouseOver:A=>A.target.style.color=ee.primary,onMouseOut:A=>A.target.style.color=ee.grayDark,children:"Help Center"})]})]})]}),l.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
        
        ::-webkit-scrollbar {
          width: 8px;
          height: 8px;
        }
        
        ::-webkit-scrollbar-track {
          background: #f1f1f1;
          border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb {
          background: #c1c1c1;
          border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
          background: #a8a8a8;
        }
        
        input:focus {
          outline: none;
        }
        
        button:focus {
          outline: 2px solid ${ee.primary}40;
          outline-offset: 2px;
        }
        
        body {
          margin: 0;
          padding: 0;
          overflow: hidden;
        }
        
        * {
          box-sizing: border-box;
        }
      `})]})}function TI({onLogin:i,error:e}){const[n,s]=Rr.useState(""),[o,u]=Rr.useState(""),[h,g]=Rr.useState(!1),[m,x]=Rr.useState(!1),v=async S=>{S.preventDefault(),!(!n||!o)&&(g(!0),await i(n,o),g(!1))};return l.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",width:"100vw",backgroundColor:ee.grayLight,backgroundImage:"linear-gradient(135deg, #01615F 0%, #028C89 100%)",position:"fixed",top:0,left:0,right:0,bottom:0},children:[l.jsxs("div",{style:{width:"440px",maxWidth:"90%",backgroundColor:ee.white,padding:"48px 40px",borderRadius:"24px",boxShadow:"0 20px 60px rgba(0,0,0,0.15)",position:"relative",overflow:"hidden"},children:[l.jsx("div",{style:{position:"absolute",top:0,right:0,width:"120px",height:"120px",backgroundColor:ee.primary+"10",borderRadius:"0 24px 0 100%"}}),l.jsxs("div",{style:{textAlign:"center",marginBottom:"40px"},children:[l.jsx("div",{style:{width:"80px",height:"80px",backgroundColor:ee.primary,borderRadius:"20px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px",color:ee.white,fontWeight:"bold",fontSize:"32px",boxShadow:`0 10px 30px ${ee.primary}40`},children:"A"}),l.jsx("h2",{style:{margin:"0 0 12px",color:ee.grayDarker,fontSize:"32px",fontWeight:"700",letterSpacing:"-0.5px"},children:"Welcome Back"}),l.jsx("p",{style:{margin:0,color:ee.grayDark,fontSize:"16px",lineHeight:"1.5"},children:"Sign in to your admin dashboard"})]}),l.jsxs("form",{onSubmit:v,children:[e&&l.jsxs("div",{style:{padding:"16px",backgroundColor:ee.red+"10",border:`1px solid ${ee.red}30`,borderRadius:"12px",marginBottom:"24px",display:"flex",alignItems:"center",gap:"12px",color:ee.red},children:[l.jsx(Km,{size:20}),l.jsx("div",{style:{fontSize:"14px",fontWeight:"500"},children:e})]}),l.jsxs("div",{style:{marginBottom:"24px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"10px",fontSize:"14px",fontWeight:"600",color:ee.grayDark},children:"Email Address"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx("input",{type:"email",placeholder:"admin@example.com",value:n,onChange:S=>s(S.target.value),required:!0,disabled:h,style:{width:"100%",padding:"16px 20px 16px 48px",borderRadius:"12px",border:`1px solid ${ee.grayMedium}`,fontSize:"15px",backgroundColor:ee.white,color:ee.grayDarker,transition:"all 0.2s ease",boxSizing:"border-box"},onFocus:S=>{S.target.style.borderColor=ee.primary,S.target.style.boxShadow=`0 0 0 3px ${ee.primary}15`},onBlur:S=>{S.target.style.borderColor=ee.grayMedium,S.target.style.boxShadow="none"}}),l.jsx("div",{style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",color:ee.grayDark,fontSize:"20px"},children:""})]})]}),l.jsxs("div",{style:{marginBottom:"28px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[l.jsx("label",{style:{fontSize:"14px",fontWeight:"600",color:ee.grayDark},children:"Password"}),l.jsx("button",{type:"button",style:{fontSize:"13px",color:ee.primary,background:"none",border:"none",textDecoration:"none",fontWeight:"500",cursor:"pointer",transition:"color 0.2s ease"},onMouseOver:S=>S.target.style.color=ee.primaryDark,onMouseOut:S=>S.target.style.color=ee.primary,children:"Forgot password?"})]}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx("input",{type:"password",placeholder:"",value:o,onChange:S=>u(S.target.value),required:!0,disabled:h,style:{width:"100%",padding:"16px 20px 16px 48px",borderRadius:"12px",border:`1px solid ${ee.grayMedium}`,fontSize:"15px",backgroundColor:ee.white,color:ee.grayDarker,transition:"all 0.2s ease",boxSizing:"border-box"},onFocus:S=>{S.target.style.borderColor=ee.primary,S.target.style.boxShadow=`0 0 0 3px ${ee.primary}15`},onBlur:S=>{S.target.style.borderColor=ee.grayMedium,S.target.style.boxShadow="none"}}),l.jsx("div",{style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",color:ee.grayDark,fontSize:"20px"},children:""})]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"32px"},children:[l.jsx("input",{type:"checkbox",id:"remember",checked:m,onChange:S=>x(S.target.checked),disabled:h,style:{width:"18px",height:"18px",cursor:"pointer"}}),l.jsx("label",{htmlFor:"remember",style:{fontSize:"14px",color:ee.grayDark,cursor:"pointer",userSelect:"none"},children:"Remember me for 30 days"})]}),l.jsx("button",{type:"submit",disabled:h,style:{width:"100%",padding:"18px",borderRadius:"12px",backgroundColor:ee.primary,color:ee.white,fontWeight:"600",border:"none",cursor:h?"not-allowed":"pointer",fontSize:"16px",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",opacity:h?.8:1,boxShadow:`0 4px 15px ${ee.primary}40`},onMouseOver:S=>{h||(S.target.style.backgroundColor=ee.primaryDark,S.target.style.transform="translateY(-2px)",S.target.style.boxShadow=`0 6px 20px ${ee.primary}60`)},onMouseOut:S=>{h||(S.target.style.backgroundColor=ee.primary,S.target.style.transform="translateY(0)",S.target.style.boxShadow=`0 4px 15px ${ee.primary}40`)},children:h?l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{width:"20px",height:"20px",border:`2px solid ${ee.white}30`,borderTopColor:ee.white,borderRadius:"50%",animation:"spin 1s linear infinite"}}),"Signing in..."]}):"Sign in to Dashboard"})]})]}),l.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})}eT.createRoot(document.getElementById("root")).render(l.jsx(ie.StrictMode,{children:l.jsx(SI,{})}));
